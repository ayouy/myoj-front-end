{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport React, { useRef, useEffect, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport { scrollTo } from './util';\nimport cs from '../_util/classNames';\nimport usePrevious from '../_util/hooks/usePrevious';\nexport default function TimeColumn(props) {\n  var prefixCls = props.prefixCls,\n    list = props.list,\n    value = props.value,\n    onHandleSelect = props.onHandleSelect,\n    unit = props.unit,\n    popupVisible = props.popupVisible,\n    scrollSticky = props.scrollSticky;\n  var lis = useRef(new Map());\n  var wrapper = useRef();\n  var ul = useRef();\n  var listItemHeight = useRef(0);\n  var prevPopupVisible = usePrevious(popupVisible);\n  var prevScrollTop = useRef(wrapper.current && wrapper.current.scrollTop);\n  useEffect(function () {\n    var li = lis.current.get(value);\n    if (li && popupVisible && prevPopupVisible) {\n      scrollTo(wrapper.current, li.offsetTop, 150);\n      prevScrollTop.current = li.offsetTop;\n    }\n  }, [value]);\n  useEffect(function () {\n    if (popupVisible && popupVisible !== prevPopupVisible) {\n      var li = lis.current.get(value);\n      if (li) {\n        scrollTo(wrapper.current, li.offsetTop, 0);\n        prevScrollTop.current = li.offsetTop;\n      }\n    }\n  }, [popupVisible, prevPopupVisible]);\n  useEffect(function () {\n    if (list.length <= 1) {\n      return;\n    }\n    listItemHeight.current = (ul.current.clientHeight - wrapper.current.clientHeight) / (list.length - 1);\n  }, [list.length]);\n  var onScrollList = useCallback(debounce(function () {\n    var mathFunc = wrapper.current.scrollTop - prevScrollTop.current > 0 ? Math.ceil : Math.floor;\n    var index = mathFunc(wrapper.current.scrollTop / listItemHeight.current);\n    if (index !== value && list[index] && !list[index].disabled) {\n      onHandleSelect(list[index].value, unit);\n    }\n  }, 100), [onHandleSelect]);\n  return React.createElement(\"div\", {\n    className: cs(prefixCls + \"-list\"),\n    ref: wrapper,\n    onWheel: scrollSticky ? onScrollList : undefined\n  }, React.createElement(\"ul\", {\n    ref: ul\n  }, list.map(function (item) {\n    var _a;\n    return React.createElement(\"li\", {\n      key: item.value,\n      className: cs(prefixCls + \"-cell\", (_a = {}, _a[prefixCls + \"-cell-disabled\"] = item.disabled, _a[prefixCls + \"-cell-selected\"] = item.selected, _a)),\n      onClick: function () {\n        return !item.disabled && onHandleSelect(item.value, unit);\n      },\n      ref: function (element) {\n        lis.current.set(item.value, element);\n      }\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-cell-inner\"\n    }, item.label));\n  })));\n}","map":{"version":3,"names":["React","useRef","useEffect","useCallback","debounce","scrollTo","cs","usePrevious","TimeColumn","props","prefixCls","list","value","onHandleSelect","unit","popupVisible","scrollSticky","lis","Map","wrapper","ul","listItemHeight","prevPopupVisible","prevScrollTop","current","scrollTop","li","get","offsetTop","length","clientHeight","onScrollList","mathFunc","Math","ceil","floor","index","disabled","createElement","className","ref","onWheel","undefined","map","item","_a","key","selected","onClick","element","set","label"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/TimePicker/time-column.js"],"sourcesContent":["import React, { useRef, useEffect, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport { scrollTo } from './util';\nimport cs from '../_util/classNames';\nimport usePrevious from '../_util/hooks/usePrevious';\nexport default function TimeColumn(props) {\n    var prefixCls = props.prefixCls, list = props.list, value = props.value, onHandleSelect = props.onHandleSelect, unit = props.unit, popupVisible = props.popupVisible, scrollSticky = props.scrollSticky;\n    var lis = useRef(new Map());\n    var wrapper = useRef();\n    var ul = useRef();\n    var listItemHeight = useRef(0);\n    var prevPopupVisible = usePrevious(popupVisible);\n    var prevScrollTop = useRef(wrapper.current && wrapper.current.scrollTop);\n    useEffect(function () {\n        var li = lis.current.get(value);\n        if (li && popupVisible && prevPopupVisible) {\n            scrollTo(wrapper.current, li.offsetTop, 150);\n            prevScrollTop.current = li.offsetTop;\n        }\n    }, [value]);\n    useEffect(function () {\n        if (popupVisible && popupVisible !== prevPopupVisible) {\n            var li = lis.current.get(value);\n            if (li) {\n                scrollTo(wrapper.current, li.offsetTop, 0);\n                prevScrollTop.current = li.offsetTop;\n            }\n        }\n    }, [popupVisible, prevPopupVisible]);\n    useEffect(function () {\n        if (list.length <= 1) {\n            return;\n        }\n        listItemHeight.current =\n            (ul.current.clientHeight - wrapper.current.clientHeight) / (list.length - 1);\n    }, [list.length]);\n    var onScrollList = useCallback(debounce(function () {\n        var mathFunc = wrapper.current.scrollTop - prevScrollTop.current > 0 ? Math.ceil : Math.floor;\n        var index = mathFunc(wrapper.current.scrollTop / listItemHeight.current);\n        if (index !== value && list[index] && !list[index].disabled) {\n            onHandleSelect(list[index].value, unit);\n        }\n    }, 100), [onHandleSelect]);\n    return (React.createElement(\"div\", { className: cs(prefixCls + \"-list\"), ref: wrapper, onWheel: scrollSticky ? onScrollList : undefined },\n        React.createElement(\"ul\", { ref: ul }, list.map(function (item) {\n            var _a;\n            return (React.createElement(\"li\", { key: item.value, className: cs(prefixCls + \"-cell\", (_a = {},\n                    _a[prefixCls + \"-cell-disabled\"] = item.disabled,\n                    _a[prefixCls + \"-cell-selected\"] = item.selected,\n                    _a)), onClick: function () { return !item.disabled && onHandleSelect(item.value, unit); }, ref: function (element) {\n                    lis.current.set(item.value, element);\n                } },\n                React.createElement(\"div\", { className: prefixCls + \"-cell-inner\" }, item.label)));\n        }))));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}