{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useRef, useState } from 'react';\nexport var useControlBlock = function (_a) {\n  var value = _a.value,\n    onChange = _a.onChange;\n  var _b = __read(useState(false), 2),\n    active = _b[0],\n    setActive = _b[1];\n  var blockRef = useRef();\n  var handlerRef = useRef();\n  var getPercentNumber = function (value, max) {\n    if (value < 0) {\n      return 0;\n    }\n    if (value > max) {\n      return 1;\n    }\n    return value / max;\n  };\n  var setCurrentPosition = function (ev) {\n    var clientX = ev.clientX,\n      clientY = ev.clientY;\n    var rect = blockRef.current.getBoundingClientRect();\n    var newValue = [getPercentNumber(clientX - rect.x, rect.width), getPercentNumber(clientY - rect.y, rect.height)];\n    if (newValue[0] !== value[0] || newValue[1] !== value[1]) {\n      onChange === null || onChange === void 0 ? void 0 : onChange(newValue);\n    }\n  };\n  var removeListener = function () {\n    setActive(false);\n    window.removeEventListener('mousemove', onMouseMove);\n    window.removeEventListener('mouseup', removeListener);\n    window.removeEventListener('contextmenu', removeListener);\n  };\n  var onMouseDown = function (ev) {\n    ev.preventDefault();\n    setActive(true);\n    setCurrentPosition(ev);\n    window.addEventListener('mousemove', onMouseMove);\n    window.addEventListener('mouseup', removeListener);\n    window.addEventListener('contextmenu', removeListener);\n  };\n  function onMouseMove(ev) {\n    ev.preventDefault();\n    if (ev.buttons > 0) {\n      setCurrentPosition(ev);\n    } else {\n      removeListener();\n    }\n  }\n  return {\n    active: active,\n    blockRef: blockRef,\n    handlerRef: handlerRef,\n    onMouseDown: onMouseDown\n  };\n};","map":{"version":3,"names":["__read","o","n","m","Symbol","iterator","i","call","r","ar","e","next","done","push","value","error","useRef","useState","useControlBlock","_a","onChange","_b","active","setActive","blockRef","handlerRef","getPercentNumber","max","setCurrentPosition","ev","clientX","clientY","rect","current","getBoundingClientRect","newValue","x","width","y","height","removeListener","window","removeEventListener","onMouseMove","onMouseDown","preventDefault","addEventListener","buttons"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/ColorPicker/hooks/useControlBlock.js"],"sourcesContent":["var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useRef, useState } from 'react';\nexport var useControlBlock = function (_a) {\n    var value = _a.value, onChange = _a.onChange;\n    var _b = __read(useState(false), 2), active = _b[0], setActive = _b[1];\n    var blockRef = useRef();\n    var handlerRef = useRef();\n    var getPercentNumber = function (value, max) {\n        if (value < 0) {\n            return 0;\n        }\n        if (value > max) {\n            return 1;\n        }\n        return value / max;\n    };\n    var setCurrentPosition = function (ev) {\n        var clientX = ev.clientX, clientY = ev.clientY;\n        var rect = blockRef.current.getBoundingClientRect();\n        var newValue = [\n            getPercentNumber(clientX - rect.x, rect.width),\n            getPercentNumber(clientY - rect.y, rect.height),\n        ];\n        if (newValue[0] !== value[0] || newValue[1] !== value[1]) {\n            onChange === null || onChange === void 0 ? void 0 : onChange(newValue);\n        }\n    };\n    var removeListener = function () {\n        setActive(false);\n        window.removeEventListener('mousemove', onMouseMove);\n        window.removeEventListener('mouseup', removeListener);\n        window.removeEventListener('contextmenu', removeListener);\n    };\n    var onMouseDown = function (ev) {\n        ev.preventDefault();\n        setActive(true);\n        setCurrentPosition(ev);\n        window.addEventListener('mousemove', onMouseMove);\n        window.addEventListener('mouseup', removeListener);\n        window.addEventListener('contextmenu', removeListener);\n    };\n    function onMouseMove(ev) {\n        ev.preventDefault();\n        if (ev.buttons > 0) {\n            setCurrentPosition(ev);\n        }\n        else {\n            removeListener();\n        }\n    }\n    return {\n        active: active,\n        blockRef: blockRef,\n        handlerRef: handlerRef,\n        onMouseDown: onMouseDown,\n    };\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}