{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { Component, isValidElement } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport set from 'lodash/set';\nimport get from 'lodash/get';\nimport { FormItemContext } from './context';\nimport { isArray, isFunction, isNullOrUndefined, isBoolean } from '../_util/is';\nimport warn from '../_util/warning';\nimport IconExclamationCircleFill from '../../icon/react-icon/IconExclamationCircleFill';\nimport IconCloseCircleFill from '../../icon/react-icon/IconCloseCircleFill';\nimport IconCheckCircleFill from '../../icon/react-icon/IconCheckCircleFill';\nimport IconLoading from '../../icon/react-icon/IconLoading';\nimport classNames from '../_util/classNames';\nimport { isSyntheticEvent, schemaValidate, isFieldMatch, ID_SUFFIX } from './utils';\n/**\n * ğŸ‘€ ğŸ‘€ ğŸ‘€ï¼šä¸è¦åœ¨ä¸šåŠ¡ä¸­ç›´æ¥è°ƒç”¨ï¼Œä¸‹ä¸ªå¤§ç‰ˆæœ¬å°†ä¸ä¼šå¯¹å¤–å¯¼å‡º\n */\nvar Control = /** @class */function (_super) {\n  __extends(Control, _super);\n  function Control(props, context) {\n    var _this = _super.call(this, props) || this;\n    // æ ¡éªŒä¿¡æ¯\n    _this.errors = null;\n    // æ ¡éªŒ warning ä¿¡æ¯\n    _this.warnings = null;\n    _this.isDestroyed = false;\n    // ä¿å­˜ props.children æˆ–å‡½æ•°ç±»å‹ props.children() çš„è¿”å›å€¼\n    _this.childrenElement = null;\n    // è§¦å‘ store è¿›è¡ŒçŠ¶æ€æ”¶é›†\n    // TODO: error, validateStatus ,touched çŠ¶æ€å’Œ UI ç»„ä»¶è§£è€¦ï¼Œç»Ÿä¸€ç»´æŠ¤åœ¨ store å†…éƒ¨\n    _this.triggerStateCollect = function () {\n      var innerCollectFormState = _this.context.store.getInnerMethods(true).innerCollectFormState;\n      innerCollectFormState();\n    };\n    // åˆ‡æ¢æ ¡éªŒçŠ¶æ€\n    _this.toggleValidateStatus = function (status) {\n      _this.validateStatus = status;\n      _this.triggerStateCollect();\n    };\n    // åˆ‡æ¢ touch çŠ¶æ€\n    _this.toggleTouched = function (touched) {\n      _this.touched = isBoolean(touched) ? touched : !_this.touched;\n      _this.triggerStateCollect();\n    };\n    _this.setWarnings = function (warnings) {\n      _this.warnings = warnings;\n      _this.triggerStateCollect();\n    };\n    _this.setErrors = function (errors) {\n      _this.errors = errors;\n      _this.triggerStateCollect();\n    };\n    _this.getErrors = function () {\n      return _this.errors;\n    };\n    _this.getWarnings = function () {\n      return _this.warnings || [];\n    };\n    _this.isTouched = function () {\n      return _this.touched;\n    };\n    _this.getValidateStatus = function () {\n      if (_this.props.validateStatus) {\n        return _this.props.validateStatus;\n      }\n      return _this.validateStatus;\n    };\n    _this.hasFieldProps = function () {\n      return !!_this.props.field;\n    };\n    _this.clearFormItemError = function (field) {\n      if (field === void 0) {\n        field = _this.props.field;\n      }\n      // destroy errors\n      var updateFormItem = _this.context.updateFormItem;\n      updateFormItem && updateFormItem(field, {\n        errors: null,\n        warnings: null\n      });\n    };\n    _this.updateFormItem = function () {\n      if (_this.isDestroyed) return;\n      _this.forceUpdate();\n      var updateFormItem = _this.context.updateFormItem;\n      updateFormItem && updateFormItem(_this.props.field, {\n        errors: _this.errors,\n        warnings: _this.warnings\n      });\n    };\n    _this.getFieldValue = function () {\n      var field = _this.props.field;\n      var store = _this.context.store;\n      return field ? store.getInnerMethods(true).innerGetFieldValue(field) : undefined;\n    };\n    _this.onStoreChange = function (type, info) {\n      var fields = isArray(info.field) ? info.field : [info.field];\n      var _a = _this.props,\n        field = _a.field,\n        shouldUpdate = _a.shouldUpdate,\n        dependencies = _a.dependencies;\n      // isInner: the value is changed by innerSetValue\n      var shouldUpdateItem = function (extra) {\n        if (dependencies && shouldUpdate) {\n          warn(true, '`shouldUpdate` of the `Form.Item` will be ignored.');\n        }\n        if (dependencies) {\n          if (isArray(dependencies) || dependencies.some(function (depField) {\n            return isFieldMatch(depField, fields);\n          })) {\n            if (_this.isTouched()) {\n              _this.validateField();\n            }\n          }\n        } else if (shouldUpdate) {\n          var shouldRender = false;\n          if (isFunction(shouldUpdate)) {\n            shouldRender = shouldUpdate(info.prev, info.current, __assign({\n              field: info.field\n            }, extra));\n          } else {\n            shouldRender = !isEqualWith(info.prev, info.current);\n          }\n          if (shouldRender) {\n            _this.updateFormItem();\n          }\n        }\n      };\n      switch (type) {\n        case 'reset':\n          _this.toggleTouched(false);\n          _this.toggleValidateStatus(undefined);\n          _this.setErrors(null);\n          _this.setWarnings(null);\n          // https://github.com/arco-design/arco-design/issues/1460\n          if (dependencies || shouldUpdate) {\n            shouldUpdateItem();\n          } else {\n            // TODO\n            // Keep the previous behavior, removed in the next major release\n            _this.updateFormItem();\n          }\n          break;\n        case 'innerSetValue':\n          if (isFieldMatch(field, fields)) {\n            _this.toggleTouched(true);\n            _this.updateFormItem();\n            return;\n          }\n          shouldUpdateItem({\n            isInner: true,\n            isFormList: info.isFormList\n          });\n          break;\n        case 'setFieldValue':\n          if (isFieldMatch(field, fields)) {\n            _this.toggleTouched(true);\n            if (info.data && 'touched' in info.data) {\n              _this.toggleTouched(info.data.touched);\n            }\n            if (info.data && 'warnings' in info.data) {\n              _this.setWarnings(isNullOrUndefined(info.data.warnings) ? [] : [].concat(info.data.warnings));\n            }\n            if (info.data && 'errors' in info.data) {\n              _this.setErrors(info.data.errors);\n            } else if (!isEqualWith(get(info.prev, field), get(info.current, field))) {\n              _this.setErrors(null);\n            }\n            _this.updateFormItem();\n            return;\n          }\n          shouldUpdateItem();\n          break;\n        default:\n          break;\n      }\n    };\n    _this.innerSetFieldValue = function (field, value) {\n      if (!field) return;\n      var store = _this.context.store;\n      var methods = store.getInnerMethods(true);\n      methods.innerSetFieldValue(field, value);\n      var changedValue = {};\n      set(changedValue, field, value);\n      _this.props.onValuesChange && _this.props.onValuesChange(changedValue, __assign({}, store.getFieldsValue()));\n    };\n    // ä»…ä»…æ ¡éªŒä¸‹å€¼ï¼Œä¸åšä»»ä½•çŠ¶æ€å˜æ›´\n    _this.validateFieldOnly = function () {\n      var validateMessages = _this.context.validateMessages;\n      var _a = _this.props,\n        field = _a.field,\n        rules = _a.rules;\n      var value = _this.getFieldValue();\n      return schemaValidate(field, value, rules, validateMessages).then(function (_a) {\n        var error = _a.error,\n          warning = _a.warning;\n        return Promise.resolve({\n          error: error,\n          value: value,\n          warning: warning,\n          field: field\n        });\n      });\n    };\n    /**\n     *\n     * @param triggerType the value of validateTrigger.\n     * @returns\n     */\n    _this.validateField = function (triggerType) {\n      var _a = _this.context,\n        ctxValidateTrigger = _a.validateTrigger,\n        validateMessages = _a.validateMessages;\n      var _b = _this.props,\n        field = _b.field,\n        rules = _b.rules,\n        validateTrigger = _b.validateTrigger;\n      var value = _this.getFieldValue();\n      // è¿›å…¥åˆ°æ ¡éªŒä¸­çš„çŠ¶æ€\n      var gotoValidatingStatus = function () {\n        var _a;\n        var needUpdateItem = _this.errors || ((_a = _this.warnings) === null || _a === void 0 ? void 0 : _a.length);\n        _this.toggleValidateStatus('validating');\n        _this.setErrors(null);\n        _this.setWarnings(null);\n        needUpdateItem && _this.updateFormItem();\n      };\n      var _rules = !triggerType ? rules : (rules || []).filter(function (rule) {\n        var triggers = [].concat(rule.validateTrigger || validateTrigger || ctxValidateTrigger);\n        return triggers.indexOf(triggerType) > -1;\n      });\n      if (_rules && _rules.length && field) {\n        gotoValidatingStatus();\n        return schemaValidate(field, value, _rules, validateMessages).then(function (_a) {\n          var _b;\n          var error = _a.error,\n            warning = _a.warning;\n          _this.setErrors(error ? error[field] : null);\n          _this.setWarnings(warning || null);\n          _this.toggleValidateStatus(_this.errors ? 'error' : ((_b = _this.warnings) === null || _b === void 0 ? void 0 : _b.length) ? 'warning' : 'success');\n          _this.updateFormItem();\n          return Promise.resolve({\n            error: error,\n            value: value,\n            field: field\n          });\n        });\n      }\n      return Promise.resolve({\n        error: null,\n        value: value,\n        field: field\n      });\n    };\n    // æ¯æ¬¡ render éƒ½ä¼šä½œä¸º onChange ä¼ é€’ç»™ childrenï¼Œéœ€è¦ä¿è¯å¼•ç”¨åœ°å€ä¸å˜\n    // æ‰€ä»¥ handleTrigger éœ€è¦å£°æ˜åœ¨ç±»ä¸Šï¼Œå¹¶ä¸”ç›´æ¥ä½œä¸º children.props.onChange\n    _this.handleTrigger = function (_value) {\n      var _a;\n      var args = [];\n      for (var _i = 1; _i < arguments.length; _i++) {\n        args[_i - 1] = arguments[_i];\n      }\n      var children = _this.childrenElement || _this.props.children;\n      var store = _this.context.store;\n      var _b = _this.props,\n        field = _b.field,\n        trigger = _b.trigger,\n        normalize = _b.normalize,\n        getValueFromEvent = _b.getValueFromEvent;\n      var value = isFunction(getValueFromEvent) ? getValueFromEvent.apply(void 0, __spreadArray([_value], __read(args), false)) : _value;\n      var normalizeValue = value;\n      // break if value is instance of SyntheticEvent, 'cos value is missing\n      if (isSyntheticEvent(value)) {\n        warn(true, 'changed value missed, please check whether extra elements is outta input/select controled by Form.Item');\n        value.stopPropagation();\n        return;\n      }\n      if (typeof normalize === 'function') {\n        normalizeValue = normalize(value, store.getFieldValue(field), __assign({}, store.getFieldsValue()));\n      }\n      _this.toggleTouched(true);\n      _this.innerSetFieldValue(field, normalizeValue);\n      _this.validateField(trigger);\n      if (isValidElement(children) && children.props && children.props[trigger]) {\n        if (!_this.props.isFormList) {\n          // https://github.com/arco-design/arco-design/issues/1886\n          (_a = children.props)[trigger].apply(_a, __spreadArray([normalizeValue], __read(args), false));\n        }\n      }\n    };\n    _this.getChild = function () {\n      var children = _this.props.children;\n      var store = _this.context.store;\n      var child = children;\n      if (isFunction(children)) {\n        child = children(store.getFields(), __assign({}, store), _this.props.isFormList && {\n          value: _this.getFieldValue(),\n          onChange: _this.handleTrigger\n        });\n      }\n      _this.childrenElement = child;\n      return child;\n    };\n    if ('initialValue' in props && _this.hasFieldProps()) {\n      var innerMethods = context.store.getInnerMethods(true);\n      innerMethods.innerSetInitialValue(props.field, props.initialValue);\n    }\n    return _this;\n  }\n  Control.prototype.componentDidMount = function () {\n    var store = this.context.store;\n    if (store) {\n      var innerMethods = store.getInnerMethods(true);\n      this.removeRegisterField = innerMethods.registerField(this);\n    }\n    this.isDestroyed = false;\n  };\n  Control.prototype.componentDidUpdate = function (prevProps) {\n    // key æœªæ”¹å˜ï¼Œä½† field æ”¹å˜äº†ï¼Œåˆ™éœ€è¦æŠŠç»‘å®šåœ¨ä¹‹å‰ prevProps.field ä¸Šçš„é”™è¯¯çŠ¶æ€è°ƒæ•´åˆ° props.field\n    // ä¸€èˆ¬ä¼šæŠŠ field ç›´æ¥ä½œä¸º control çš„ keyï¼Œä»–ä»¬ä¼šåŒæ­¥å˜åŠ¨ï¼Œä¸ä¼šè§¦å‘æ­¤é€»è¾‘\n    // åœ¨ FormList ä¸‹ï¼Œ`FormItem` é¡ºåºä¼šè¢«æ”¹å˜ï¼Œä¸ºäº†ä¿è¯æ ¡éªŒçŠ¶æ€è¢«ä¿ç•™ï¼Œkey ä¸ä¼šæ”¹å˜ä½† field å’Œå­—æ®µé¡ºåºæœ‰å…³\n    if (prevProps.field !== this.props.field && this.props._key && prevProps._key === this.props._key) {\n      this.updateFormItem();\n      this.clearFormItemError(prevProps.field);\n    }\n  };\n  Control.prototype.componentWillUnmount = function () {\n    this.removeRegisterField && this.removeRegisterField();\n    this.removeRegisterField = null;\n    this.clearFormItemError();\n    this.isDestroyed = true;\n  };\n  /**\n   * æ”¶é›†rulesé‡Œçš„validateTriggerå­—æ®µ\n   */\n  Control.prototype.getValidateTrigger = function () {\n    var _validateTrigger = this.props.validateTrigger || this.context.validateTrigger || 'onChange';\n    var rules = this.props.rules || [];\n    var result = [];\n    rules.map(function (item) {\n      result = result.concat(item.validateTrigger || _validateTrigger);\n    });\n    return Array.from(new Set(result));\n  };\n  Control.prototype.renderControl = function (children, id) {\n    var _a;\n    var _this = this;\n    var _b;\n    var _c = this.props,\n      field = _c.field,\n      _d = _c.trigger,\n      trigger = _d === void 0 ? 'onChange' : _d,\n      _e = _c.triggerPropName,\n      triggerPropName = _e === void 0 ? 'value' : _e,\n      validateStatus = _c.validateStatus,\n      formatter = _c.formatter;\n    var _f = this.context,\n      store = _f.store,\n      ctxDisabled = _f.disabled;\n    var disabled = 'disabled' in this.props ? this.props.disabled : ctxDisabled;\n    var child = React.Children.only(children);\n    var childProps = {\n      // used by label\n      id: classNames(((_b = child.props) === null || _b === void 0 ? void 0 : _b.id) || (_a = {}, _a[\"\" + id + ID_SUFFIX] = id, _a))\n    };\n    this.getValidateTrigger().forEach(function (vt) {\n      childProps[vt] = function (e) {\n        var _a, _b;\n        _this.validateField(vt);\n        ((_a = child.props) === null || _a === void 0 ? void 0 : _a[vt]) && ((_b = child.props) === null || _b === void 0 ? void 0 : _b[vt](e));\n      };\n    });\n    childProps[trigger] = this.handleTrigger;\n    if (disabled !== undefined && !('disabled' in child.props)) {\n      childProps.disabled = disabled;\n    }\n    // ä¿æŒå¼•ç”¨åœ°å€ä¸å˜ï¼Œfix https://github.com/arco-design/arco-design/issues/1800\n    var _value = get(store.getInnerMethods(true).innerGetStore(), field);\n    if (isFunction(formatter)) {\n      _value = formatter(_value);\n    }\n    childProps[triggerPropName] = _value;\n    if (!validateStatus && this.errors) {\n      childProps.error = true;\n    }\n    return React.cloneElement(child, childProps);\n  };\n  Control.prototype.render = function () {\n    var _a = this.props,\n      noStyle = _a.noStyle,\n      field = _a.field,\n      isFormList = _a.isFormList,\n      hasFeedback = _a.hasFeedback;\n    var validateStatus = this.getValidateStatus();\n    var _b = this.context,\n      prefixCls = _b.prefixCls,\n      getFormElementId = _b.getFormElementId;\n    var child = this.getChild();\n    var id = this.hasFieldProps() ? getFormElementId(field) : undefined;\n    if (this.hasFieldProps() && !isFormList && React.Children.count(child) === 1) {\n      child = this.renderControl(child, id);\n    }\n    if (noStyle) {\n      return child;\n    }\n    return React.createElement(\"div\", {\n      className: prefixCls + \"-item-control-wrapper\"\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-item-control\",\n      id: id\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-item-control-children\"\n    }, child, validateStatus && hasFeedback && React.createElement(\"div\", {\n      className: prefixCls + \"-item-feedback \" + prefixCls + \"-item-feedback-\" + validateStatus\n    }, validateStatus === 'warning' && React.createElement(IconExclamationCircleFill, null), validateStatus === 'success' && React.createElement(IconCheckCircleFill, null), validateStatus === 'error' && React.createElement(IconCloseCircleFill, null), validateStatus === 'validating' && React.createElement(IconLoading, null)))));\n  };\n  Control.defaultProps = {\n    trigger: 'onChange',\n    triggerPropName: 'value'\n  };\n  Control.isFormControl = true;\n  Control.contextType = FormItemContext;\n  return Control;\n}(Component);\nexport default Control;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__spreadArray","to","from","pack","l","slice","concat","React","Component","isValidElement","isEqualWith","set","get","FormItemContext","isArray","isFunction","isNullOrUndefined","isBoolean","warn","IconExclamationCircleFill","IconCloseCircleFill","IconCheckCircleFill","IconLoading","classNames","isSyntheticEvent","schemaValidate","isFieldMatch","ID_SUFFIX","Control","_super","props","context","_this","errors","warnings","isDestroyed","childrenElement","triggerStateCollect","innerCollectFormState","store","getInnerMethods","toggleValidateStatus","status","validateStatus","toggleTouched","touched","setWarnings","setErrors","getErrors","getWarnings","isTouched","getValidateStatus","hasFieldProps","field","clearFormItemError","updateFormItem","forceUpdate","getFieldValue","innerGetFieldValue","undefined","onStoreChange","type","info","fields","_a","shouldUpdate","dependencies","shouldUpdateItem","extra","some","depField","validateField","shouldRender","prev","current","isInner","isFormList","data","innerSetFieldValue","methods","changedValue","onValuesChange","getFieldsValue","validateFieldOnly","validateMessages","rules","then","warning","Promise","resolve","triggerType","ctxValidateTrigger","validateTrigger","_b","gotoValidatingStatus","needUpdateItem","_rules","filter","rule","triggers","indexOf","handleTrigger","_value","args","_i","children","trigger","normalize","getValueFromEvent","normalizeValue","stopPropagation","getChild","child","getFields","onChange","innerMethods","innerSetInitialValue","initialValue","componentDidMount","removeRegisterField","registerField","componentDidUpdate","prevProps","_key","componentWillUnmount","getValidateTrigger","_validateTrigger","result","map","item","Set","renderControl","id","_c","_d","_e","triggerPropName","formatter","_f","ctxDisabled","disabled","Children","only","childProps","forEach","vt","innerGetStore","cloneElement","render","noStyle","hasFeedback","prefixCls","getFormElementId","count","createElement","className","defaultProps","isFormControl","contextType"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Form/control.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { Component, isValidElement } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport set from 'lodash/set';\nimport get from 'lodash/get';\nimport { FormItemContext } from './context';\nimport { isArray, isFunction, isNullOrUndefined, isBoolean } from '../_util/is';\nimport warn from '../_util/warning';\nimport IconExclamationCircleFill from '../../icon/react-icon/IconExclamationCircleFill';\nimport IconCloseCircleFill from '../../icon/react-icon/IconCloseCircleFill';\nimport IconCheckCircleFill from '../../icon/react-icon/IconCheckCircleFill';\nimport IconLoading from '../../icon/react-icon/IconLoading';\nimport classNames from '../_util/classNames';\nimport { isSyntheticEvent, schemaValidate, isFieldMatch, ID_SUFFIX } from './utils';\n/**\n * ğŸ‘€ ğŸ‘€ ğŸ‘€ï¼šä¸è¦åœ¨ä¸šåŠ¡ä¸­ç›´æ¥è°ƒç”¨ï¼Œä¸‹ä¸ªå¤§ç‰ˆæœ¬å°†ä¸ä¼šå¯¹å¤–å¯¼å‡º\n */\nvar Control = /** @class */ (function (_super) {\n    __extends(Control, _super);\n    function Control(props, context) {\n        var _this = _super.call(this, props) || this;\n        // æ ¡éªŒä¿¡æ¯\n        _this.errors = null;\n        // æ ¡éªŒ warning ä¿¡æ¯\n        _this.warnings = null;\n        _this.isDestroyed = false;\n        // ä¿å­˜ props.children æˆ–å‡½æ•°ç±»å‹ props.children() çš„è¿”å›å€¼\n        _this.childrenElement = null;\n        // è§¦å‘ store è¿›è¡ŒçŠ¶æ€æ”¶é›†\n        // TODO: error, validateStatus ,touched çŠ¶æ€å’Œ UI ç»„ä»¶è§£è€¦ï¼Œç»Ÿä¸€ç»´æŠ¤åœ¨ store å†…éƒ¨\n        _this.triggerStateCollect = function () {\n            var innerCollectFormState = _this.context.store.getInnerMethods(true).innerCollectFormState;\n            innerCollectFormState();\n        };\n        // åˆ‡æ¢æ ¡éªŒçŠ¶æ€\n        _this.toggleValidateStatus = function (status) {\n            _this.validateStatus = status;\n            _this.triggerStateCollect();\n        };\n        // åˆ‡æ¢ touch çŠ¶æ€\n        _this.toggleTouched = function (touched) {\n            _this.touched = isBoolean(touched) ? touched : !_this.touched;\n            _this.triggerStateCollect();\n        };\n        _this.setWarnings = function (warnings) {\n            _this.warnings = warnings;\n            _this.triggerStateCollect();\n        };\n        _this.setErrors = function (errors) {\n            _this.errors = errors;\n            _this.triggerStateCollect();\n        };\n        _this.getErrors = function () {\n            return _this.errors;\n        };\n        _this.getWarnings = function () {\n            return _this.warnings || [];\n        };\n        _this.isTouched = function () {\n            return _this.touched;\n        };\n        _this.getValidateStatus = function () {\n            if (_this.props.validateStatus) {\n                return _this.props.validateStatus;\n            }\n            return _this.validateStatus;\n        };\n        _this.hasFieldProps = function () {\n            return !!_this.props.field;\n        };\n        _this.clearFormItemError = function (field) {\n            if (field === void 0) { field = _this.props.field; }\n            // destroy errors\n            var updateFormItem = _this.context.updateFormItem;\n            updateFormItem && updateFormItem(field, { errors: null, warnings: null });\n        };\n        _this.updateFormItem = function () {\n            if (_this.isDestroyed)\n                return;\n            _this.forceUpdate();\n            var updateFormItem = _this.context.updateFormItem;\n            updateFormItem &&\n                updateFormItem(_this.props.field, {\n                    errors: _this.errors,\n                    warnings: _this.warnings,\n                });\n        };\n        _this.getFieldValue = function () {\n            var field = _this.props.field;\n            var store = _this.context.store;\n            return field ? store.getInnerMethods(true).innerGetFieldValue(field) : undefined;\n        };\n        _this.onStoreChange = function (type, info) {\n            var fields = isArray(info.field) ? info.field : [info.field];\n            var _a = _this.props, field = _a.field, shouldUpdate = _a.shouldUpdate, dependencies = _a.dependencies;\n            // isInner: the value is changed by innerSetValue\n            var shouldUpdateItem = function (extra) {\n                if (dependencies && shouldUpdate) {\n                    warn(true, '`shouldUpdate` of the `Form.Item` will be ignored.');\n                }\n                if (dependencies) {\n                    if (isArray(dependencies) ||\n                        dependencies.some(function (depField) { return isFieldMatch(depField, fields); })) {\n                        if (_this.isTouched()) {\n                            _this.validateField();\n                        }\n                    }\n                }\n                else if (shouldUpdate) {\n                    var shouldRender = false;\n                    if (isFunction(shouldUpdate)) {\n                        shouldRender = shouldUpdate(info.prev, info.current, __assign({ field: info.field }, extra));\n                    }\n                    else {\n                        shouldRender = !isEqualWith(info.prev, info.current);\n                    }\n                    if (shouldRender) {\n                        _this.updateFormItem();\n                    }\n                }\n            };\n            switch (type) {\n                case 'reset':\n                    _this.toggleTouched(false);\n                    _this.toggleValidateStatus(undefined);\n                    _this.setErrors(null);\n                    _this.setWarnings(null);\n                    // https://github.com/arco-design/arco-design/issues/1460\n                    if (dependencies || shouldUpdate) {\n                        shouldUpdateItem();\n                    }\n                    else {\n                        // TODO\n                        // Keep the previous behavior, removed in the next major release\n                        _this.updateFormItem();\n                    }\n                    break;\n                case 'innerSetValue':\n                    if (isFieldMatch(field, fields)) {\n                        _this.toggleTouched(true);\n                        _this.updateFormItem();\n                        return;\n                    }\n                    shouldUpdateItem({\n                        isInner: true,\n                        isFormList: info.isFormList,\n                    });\n                    break;\n                case 'setFieldValue':\n                    if (isFieldMatch(field, fields)) {\n                        _this.toggleTouched(true);\n                        if (info.data && 'touched' in info.data) {\n                            _this.toggleTouched(info.data.touched);\n                        }\n                        if (info.data && 'warnings' in info.data) {\n                            _this.setWarnings(isNullOrUndefined(info.data.warnings) ? [] : [].concat(info.data.warnings));\n                        }\n                        if (info.data && 'errors' in info.data) {\n                            _this.setErrors(info.data.errors);\n                        }\n                        else if (!isEqualWith(get(info.prev, field), get(info.current, field))) {\n                            _this.setErrors(null);\n                        }\n                        _this.updateFormItem();\n                        return;\n                    }\n                    shouldUpdateItem();\n                    break;\n                default:\n                    break;\n            }\n        };\n        _this.innerSetFieldValue = function (field, value) {\n            if (!field)\n                return;\n            var store = _this.context.store;\n            var methods = store.getInnerMethods(true);\n            methods.innerSetFieldValue(field, value);\n            var changedValue = {};\n            set(changedValue, field, value);\n            _this.props.onValuesChange &&\n                _this.props.onValuesChange(changedValue, __assign({}, store.getFieldsValue()));\n        };\n        // ä»…ä»…æ ¡éªŒä¸‹å€¼ï¼Œä¸åšä»»ä½•çŠ¶æ€å˜æ›´\n        _this.validateFieldOnly = function () {\n            var validateMessages = _this.context.validateMessages;\n            var _a = _this.props, field = _a.field, rules = _a.rules;\n            var value = _this.getFieldValue();\n            return schemaValidate(field, value, rules, validateMessages).then(function (_a) {\n                var error = _a.error, warning = _a.warning;\n                return Promise.resolve({ error: error, value: value, warning: warning, field: field });\n            });\n        };\n        /**\n         *\n         * @param triggerType the value of validateTrigger.\n         * @returns\n         */\n        _this.validateField = function (triggerType) {\n            var _a = _this.context, ctxValidateTrigger = _a.validateTrigger, validateMessages = _a.validateMessages;\n            var _b = _this.props, field = _b.field, rules = _b.rules, validateTrigger = _b.validateTrigger;\n            var value = _this.getFieldValue();\n            // è¿›å…¥åˆ°æ ¡éªŒä¸­çš„çŠ¶æ€\n            var gotoValidatingStatus = function () {\n                var _a;\n                var needUpdateItem = _this.errors || ((_a = _this.warnings) === null || _a === void 0 ? void 0 : _a.length);\n                _this.toggleValidateStatus('validating');\n                _this.setErrors(null);\n                _this.setWarnings(null);\n                needUpdateItem && _this.updateFormItem();\n            };\n            var _rules = !triggerType\n                ? rules\n                : (rules || []).filter(function (rule) {\n                    var triggers = [].concat(rule.validateTrigger || validateTrigger || ctxValidateTrigger);\n                    return triggers.indexOf(triggerType) > -1;\n                });\n            if (_rules && _rules.length && field) {\n                gotoValidatingStatus();\n                return schemaValidate(field, value, _rules, validateMessages).then(function (_a) {\n                    var _b;\n                    var error = _a.error, warning = _a.warning;\n                    _this.setErrors(error ? error[field] : null);\n                    _this.setWarnings(warning || null);\n                    _this.toggleValidateStatus(_this.errors ? 'error' : ((_b = _this.warnings) === null || _b === void 0 ? void 0 : _b.length) ? 'warning' : 'success');\n                    _this.updateFormItem();\n                    return Promise.resolve({ error: error, value: value, field: field });\n                });\n            }\n            return Promise.resolve({ error: null, value: value, field: field });\n        };\n        // æ¯æ¬¡ render éƒ½ä¼šä½œä¸º onChange ä¼ é€’ç»™ childrenï¼Œéœ€è¦ä¿è¯å¼•ç”¨åœ°å€ä¸å˜\n        // æ‰€ä»¥ handleTrigger éœ€è¦å£°æ˜åœ¨ç±»ä¸Šï¼Œå¹¶ä¸”ç›´æ¥ä½œä¸º children.props.onChange\n        _this.handleTrigger = function (_value) {\n            var _a;\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            var children = (_this.childrenElement || _this.props.children);\n            var store = _this.context.store;\n            var _b = _this.props, field = _b.field, trigger = _b.trigger, normalize = _b.normalize, getValueFromEvent = _b.getValueFromEvent;\n            var value = isFunction(getValueFromEvent) ? getValueFromEvent.apply(void 0, __spreadArray([_value], __read(args), false)) : _value;\n            var normalizeValue = value;\n            // break if value is instance of SyntheticEvent, 'cos value is missing\n            if (isSyntheticEvent(value)) {\n                warn(true, 'changed value missed, please check whether extra elements is outta input/select controled by Form.Item');\n                value.stopPropagation();\n                return;\n            }\n            if (typeof normalize === 'function') {\n                normalizeValue = normalize(value, store.getFieldValue(field), __assign({}, store.getFieldsValue()));\n            }\n            _this.toggleTouched(true);\n            _this.innerSetFieldValue(field, normalizeValue);\n            _this.validateField(trigger);\n            if (isValidElement(children) && children.props && children.props[trigger]) {\n                if (!_this.props.isFormList) {\n                    // https://github.com/arco-design/arco-design/issues/1886\n                    (_a = children.props)[trigger].apply(_a, __spreadArray([normalizeValue], __read(args), false));\n                }\n            }\n        };\n        _this.getChild = function () {\n            var children = _this.props.children;\n            var store = _this.context.store;\n            var child = children;\n            if (isFunction(children)) {\n                child = children(store.getFields(), __assign({}, store), _this.props.isFormList && {\n                    value: _this.getFieldValue(),\n                    onChange: _this.handleTrigger,\n                });\n            }\n            _this.childrenElement = child;\n            return child;\n        };\n        if ('initialValue' in props && _this.hasFieldProps()) {\n            var innerMethods = context.store.getInnerMethods(true);\n            innerMethods.innerSetInitialValue(props.field, props.initialValue);\n        }\n        return _this;\n    }\n    Control.prototype.componentDidMount = function () {\n        var store = this.context.store;\n        if (store) {\n            var innerMethods = store.getInnerMethods(true);\n            this.removeRegisterField = innerMethods.registerField(this);\n        }\n        this.isDestroyed = false;\n    };\n    Control.prototype.componentDidUpdate = function (prevProps) {\n        // key æœªæ”¹å˜ï¼Œä½† field æ”¹å˜äº†ï¼Œåˆ™éœ€è¦æŠŠç»‘å®šåœ¨ä¹‹å‰ prevProps.field ä¸Šçš„é”™è¯¯çŠ¶æ€è°ƒæ•´åˆ° props.field\n        // ä¸€èˆ¬ä¼šæŠŠ field ç›´æ¥ä½œä¸º control çš„ keyï¼Œä»–ä»¬ä¼šåŒæ­¥å˜åŠ¨ï¼Œä¸ä¼šè§¦å‘æ­¤é€»è¾‘\n        // åœ¨ FormList ä¸‹ï¼Œ`FormItem` é¡ºåºä¼šè¢«æ”¹å˜ï¼Œä¸ºäº†ä¿è¯æ ¡éªŒçŠ¶æ€è¢«ä¿ç•™ï¼Œkey ä¸ä¼šæ”¹å˜ä½† field å’Œå­—æ®µé¡ºåºæœ‰å…³\n        if (prevProps.field !== this.props.field &&\n            this.props._key &&\n            prevProps._key === this.props._key) {\n            this.updateFormItem();\n            this.clearFormItemError(prevProps.field);\n        }\n    };\n    Control.prototype.componentWillUnmount = function () {\n        this.removeRegisterField && this.removeRegisterField();\n        this.removeRegisterField = null;\n        this.clearFormItemError();\n        this.isDestroyed = true;\n    };\n    /**\n     * æ”¶é›†rulesé‡Œçš„validateTriggerå­—æ®µ\n     */\n    Control.prototype.getValidateTrigger = function () {\n        var _validateTrigger = this.props.validateTrigger || this.context.validateTrigger || 'onChange';\n        var rules = this.props.rules || [];\n        var result = [];\n        rules.map(function (item) {\n            result = result.concat(item.validateTrigger || _validateTrigger);\n        });\n        return Array.from(new Set(result));\n    };\n    Control.prototype.renderControl = function (children, id) {\n        var _a;\n        var _this = this;\n        var _b;\n        var _c = this.props, field = _c.field, _d = _c.trigger, trigger = _d === void 0 ? 'onChange' : _d, _e = _c.triggerPropName, triggerPropName = _e === void 0 ? 'value' : _e, validateStatus = _c.validateStatus, formatter = _c.formatter;\n        var _f = this.context, store = _f.store, ctxDisabled = _f.disabled;\n        var disabled = 'disabled' in this.props ? this.props.disabled : ctxDisabled;\n        var child = React.Children.only(children);\n        var childProps = {\n            // used by label\n            id: classNames(((_b = child.props) === null || _b === void 0 ? void 0 : _b.id) || (_a = {}, _a[\"\" + id + ID_SUFFIX] = id, _a)),\n        };\n        this.getValidateTrigger().forEach(function (vt) {\n            childProps[vt] = function (e) {\n                var _a, _b;\n                _this.validateField(vt);\n                ((_a = child.props) === null || _a === void 0 ? void 0 : _a[vt]) && ((_b = child.props) === null || _b === void 0 ? void 0 : _b[vt](e));\n            };\n        });\n        childProps[trigger] = this.handleTrigger;\n        if (disabled !== undefined && !('disabled' in child.props)) {\n            childProps.disabled = disabled;\n        }\n        // ä¿æŒå¼•ç”¨åœ°å€ä¸å˜ï¼Œfix https://github.com/arco-design/arco-design/issues/1800\n        var _value = get(store.getInnerMethods(true).innerGetStore(), field);\n        if (isFunction(formatter)) {\n            _value = formatter(_value);\n        }\n        childProps[triggerPropName] = _value;\n        if (!validateStatus && this.errors) {\n            childProps.error = true;\n        }\n        return React.cloneElement(child, childProps);\n    };\n    Control.prototype.render = function () {\n        var _a = this.props, noStyle = _a.noStyle, field = _a.field, isFormList = _a.isFormList, hasFeedback = _a.hasFeedback;\n        var validateStatus = this.getValidateStatus();\n        var _b = this.context, prefixCls = _b.prefixCls, getFormElementId = _b.getFormElementId;\n        var child = this.getChild();\n        var id = this.hasFieldProps() ? getFormElementId(field) : undefined;\n        if (this.hasFieldProps() && !isFormList && React.Children.count(child) === 1) {\n            child = this.renderControl(child, id);\n        }\n        if (noStyle) {\n            return child;\n        }\n        return (React.createElement(\"div\", { className: prefixCls + \"-item-control-wrapper\" },\n            React.createElement(\"div\", { className: prefixCls + \"-item-control\", id: id },\n                React.createElement(\"div\", { className: prefixCls + \"-item-control-children\" },\n                    child,\n                    validateStatus && hasFeedback && (React.createElement(\"div\", { className: prefixCls + \"-item-feedback \" + prefixCls + \"-item-feedback-\" + validateStatus },\n                        validateStatus === 'warning' && React.createElement(IconExclamationCircleFill, null),\n                        validateStatus === 'success' && React.createElement(IconCheckCircleFill, null),\n                        validateStatus === 'error' && React.createElement(IconCloseCircleFill, null),\n                        validateStatus === 'validating' && React.createElement(IconLoading, null)))))));\n    };\n    Control.defaultProps = {\n        trigger: 'onChange',\n        triggerPropName: 'value',\n    };\n    Control.isFormControl = true;\n    Control.contextType = FormItemContext;\n    return Control;\n}(Component));\nexport default Control;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}