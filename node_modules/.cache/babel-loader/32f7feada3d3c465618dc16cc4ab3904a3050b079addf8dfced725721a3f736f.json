{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport React, { useRef, useEffect } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport cs from '../../_util/classNames';\nimport { getRectDiff } from '../utils';\nimport throttleByRaf from '../../_util/throttleByRaf';\nvar getInkStyle = function (direction, curTitle, headerRef) {\n  var style = {\n    left: '',\n    width: '',\n    top: '',\n    height: ''\n  };\n  if (curTitle) {\n    var diffStyle = getRectDiff(curTitle, headerRef);\n    if (direction === 'vertical') {\n      style = {\n        top: diffStyle.top + \"px\",\n        height: curTitle.offsetHeight + \"px\",\n        left: '',\n        width: ''\n      };\n    } else {\n      style = {\n        left: diffStyle.left + \"px\",\n        width: curTitle.offsetWidth + \"px\",\n        top: '',\n        height: ''\n      };\n    }\n  }\n  return style;\n};\nvar TabInk = function (_a) {\n  var _b;\n  var prefixCls = _a.prefixCls,\n    animation = _a.animation,\n    disabled = _a.disabled,\n    direction = _a.direction,\n    getTitleRef = _a.getTitleRef,\n    activeTab = _a.activeTab,\n    getHeaderRef = _a.getHeaderRef,\n    inkBarSize = _a.inkBarSize;\n  var inkRef = useRef();\n  var inkStyleRef = useRef();\n  useEffect(function () {\n    var setInkStyle = throttleByRaf(function () {\n      var _a;\n      var curTitle = getTitleRef(activeTab);\n      var newStyle = getInkStyle(direction, curTitle, getHeaderRef('headerRef').current);\n      if (newStyle && !isEqualWith(inkStyleRef.current, newStyle)) {\n        inkStyleRef.current = newStyle;\n        if ((_a = inkRef.current) === null || _a === void 0 ? void 0 : _a.style) {\n          Object.keys(newStyle).forEach(function (key) {\n            inkRef.current.style[key] = newStyle[key];\n          });\n        }\n      }\n    });\n    setInkStyle();\n    return function () {\n      setInkStyle.cancel && setInkStyle.cancel();\n    };\n  });\n  return React.createElement(\"div\", {\n    className: cs(prefixCls + \"-header-ink\", (_b = {}, _b[prefixCls + \"-header-ink-no-animation\"] = !animation, _b[prefixCls + \"-header-ink-disabled\"] = disabled, _b[prefixCls + \"-header-ink-custom\"] = inkBarSize, _b)),\n    ref: inkRef\n  }, inkBarSize && React.createElement(\"div\", {\n    style: inkBarSize,\n    className: prefixCls + \"-header-ink-inner\"\n  }));\n};\nexport default TabInk;","map":{"version":3,"names":["React","useRef","useEffect","isEqualWith","cs","getRectDiff","throttleByRaf","getInkStyle","direction","curTitle","headerRef","style","left","width","top","height","diffStyle","offsetHeight","offsetWidth","TabInk","_a","_b","prefixCls","animation","disabled","getTitleRef","activeTab","getHeaderRef","inkBarSize","inkRef","inkStyleRef","setInkStyle","newStyle","current","Object","keys","forEach","key","cancel","createElement","className","ref"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Tabs/tab-header/tab-ink.js"],"sourcesContent":["import React, { useRef, useEffect } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport cs from '../../_util/classNames';\nimport { getRectDiff } from '../utils';\nimport throttleByRaf from '../../_util/throttleByRaf';\nvar getInkStyle = function (direction, curTitle, headerRef) {\n    var style = { left: '', width: '', top: '', height: '' };\n    if (curTitle) {\n        var diffStyle = getRectDiff(curTitle, headerRef);\n        if (direction === 'vertical') {\n            style = {\n                top: diffStyle.top + \"px\",\n                height: curTitle.offsetHeight + \"px\",\n                left: '',\n                width: '',\n            };\n        }\n        else {\n            style = {\n                left: diffStyle.left + \"px\",\n                width: curTitle.offsetWidth + \"px\",\n                top: '',\n                height: '',\n            };\n        }\n    }\n    return style;\n};\nvar TabInk = function (_a) {\n    var _b;\n    var prefixCls = _a.prefixCls, animation = _a.animation, disabled = _a.disabled, direction = _a.direction, getTitleRef = _a.getTitleRef, activeTab = _a.activeTab, getHeaderRef = _a.getHeaderRef, inkBarSize = _a.inkBarSize;\n    var inkRef = useRef();\n    var inkStyleRef = useRef();\n    useEffect(function () {\n        var setInkStyle = throttleByRaf(function () {\n            var _a;\n            var curTitle = getTitleRef(activeTab);\n            var newStyle = getInkStyle(direction, curTitle, getHeaderRef('headerRef').current);\n            if (newStyle && !isEqualWith(inkStyleRef.current, newStyle)) {\n                inkStyleRef.current = newStyle;\n                if ((_a = inkRef.current) === null || _a === void 0 ? void 0 : _a.style) {\n                    Object.keys(newStyle).forEach(function (key) {\n                        inkRef.current.style[key] = newStyle[key];\n                    });\n                }\n            }\n        });\n        setInkStyle();\n        return function () {\n            setInkStyle.cancel && setInkStyle.cancel();\n        };\n    });\n    return (React.createElement(\"div\", { className: cs(prefixCls + \"-header-ink\", (_b = {},\n            _b[prefixCls + \"-header-ink-no-animation\"] = !animation,\n            _b[prefixCls + \"-header-ink-disabled\"] = disabled,\n            _b[prefixCls + \"-header-ink-custom\"] = inkBarSize,\n            _b)), ref: inkRef }, inkBarSize && React.createElement(\"div\", { style: inkBarSize, className: prefixCls + \"-header-ink-inner\" })));\n};\nexport default TabInk;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}