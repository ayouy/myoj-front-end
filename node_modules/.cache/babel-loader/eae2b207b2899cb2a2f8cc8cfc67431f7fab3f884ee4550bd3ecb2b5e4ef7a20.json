{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.set.difference.v2.js\";\nimport \"core-js/modules/es.set.intersection.v2.js\";\nimport \"core-js/modules/es.set.is-disjoint-from.v2.js\";\nimport \"core-js/modules/es.set.is-subset-of.v2.js\";\nimport \"core-js/modules/es.set.is-superset-of.v2.js\";\nimport \"core-js/modules/es.set.symmetric-difference.v2.js\";\nimport \"core-js/modules/es.set.union.v2.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\nvar __generator = this && this.__generator || function (thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (_) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n};\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { Component } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport cs from '../_util/classNames';\nimport Node from './node';\nimport NodeList from './node-list';\nimport { isArray, isEmptyObject, isFunction, isUndefined } from '../_util/is';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getAllCheckedKeysByCheck, getCheckedKeysByInitKeys, getTreeDataFromTreeChildren } from './util';\nimport { TreeContext } from './context';\nimport { pickDataAttributes } from '../_util/pick';\nvar DefaultFieldNames = {\n  key: 'key',\n  title: 'title',\n  children: 'children',\n  selectable: 'selectable',\n  disabled: 'disabled',\n  disableCheckbox: 'disableCheckbox',\n  checkable: 'checkable',\n  isLeaf: 'isLeaf'\n};\nvar defaultProps = {\n  selectable: true,\n  autoExpandParent: true,\n  checkedStrategy: 'all',\n  actionOnClick: 'select',\n  allowDrop: function () {\n    return true;\n  },\n  fieldNames: DefaultFieldNames,\n  animation: true\n};\nvar needMergeKeys = ['style', 'className', 'height', 'size', 'blockNode', 'autoExpandParent', 'checkedStrategy', 'fieldNames', 'icons', 'virtualListProps', 'showLine', 'selectable', 'allowDrop', 'actionOnClick', 'animation'];\nvar Tree = /** @class */function (_super) {\n  __extends(Tree, _super);\n  function Tree(props, context) {\n    var _this = _super.call(this, props, context) || this;\n    _this.key2nodeProps = {};\n    _this.getMergedProps = function (baseProps) {\n      var componentConfig = _this.context.componentConfig;\n      var props = baseProps || _this.props;\n      var treeComponentConfig = (componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Tree) || {};\n      var _props = {};\n      needMergeKeys.forEach(function (key) {\n        if (!isUndefined(props[key])) {\n          _props[key] = props[key];\n        } else if (!isUndefined(treeComponentConfig[key])) {\n          _props[key] = treeComponentConfig[key];\n        } else {\n          _props[key] = defaultProps[key];\n        }\n      });\n      return _props;\n    };\n    // index: 第几个dom元素, 如果传入的是字符串，会作为 node 的 key去查找。\n    // nodeProps 参数似乎咩有什么用。。。但是不知道外部有没有调用，就当key用吧。。\n    _this.scrollIntoView = function (_index, nodeProps) {\n      var index = _index;\n      if (nodeProps) {\n        // 作为key\n        index = nodeProps._key;\n      }\n      if (_this.nodeListRef) {\n        _this.nodeListRef.scrollIntoView(index, nodeProps || _this.key2nodeProps[index]);\n      }\n    };\n    _this.getTreeData = function () {\n      return 'treeData' in _this.props ? _this.props.treeData : getTreeDataFromTreeChildren(_this.props.children);\n    };\n    // 以下外部传入的属性改变时，需要更新nodeList\n    _this.needUpdateTreeData = function (prevProps, props) {\n      var keys = ['fieldNames', 'selectable', 'draggable', 'checkStrictly', 'showLine', 'blockNode', 'checkable', 'treeData', 'children'];\n      return prevProps.treeData !== props.treeData || prevProps.children !== props.children || keys.some(function (key) {\n        return isEqualWith(prevProps[key], props[key]);\n      });\n    };\n    // 根据 fieldNames 获取节点数据\n    _this.getFieldInfo = function (data) {\n      var mergedProps = _this.getMergedProps();\n      var selectable = mergedProps.selectable;\n      // fieldsNames 仅在treeData时生效。\n      var fieldNames = __assign(__assign({}, DefaultFieldNames), 'treeData' in _this.props ? mergedProps.fieldNames : {});\n      var result = {\n        children: data[fieldNames.children],\n        selectable: fieldNames.selectable in data ? data[fieldNames.selectable] : selectable,\n        checkable: fieldNames.checkable in data ? data[fieldNames.checkable] : _this.props.checkable,\n        title: data[fieldNames.title],\n        disabled: data[fieldNames.disabled],\n        disableCheckbox: data[fieldNames.disableCheckbox],\n        isLeaf: data[fieldNames.isLeaf],\n        key: data[fieldNames.key]\n      };\n      if (!(fieldNames.key in data)) {\n        delete result.key;\n      }\n      return result;\n    };\n    _this.getNodeList = function (treedata, prefix) {\n      _this.key2nodeProps = {};\n      var prefixCls = prefix || _this.context.getPrefixCls('tree');\n      var nodeList = [];\n      var currentIndex = 0;\n      var _a = _this.getMergedProps(),\n        showLine = _a.showLine,\n        blockNode = _a.blockNode;\n      var loop = function (treeData, father) {\n        var totalLength = treeData.length;\n        return treeData.map(function (data, index) {\n          var _a = _this.getFieldInfo(data),\n            children = _a.children,\n            selectable = _a.selectable,\n            checkable = _a.checkable,\n            _b = _a.key,\n            key = _b === void 0 ? ((father === null || father === void 0 ? void 0 : father._key) || '') + \"-\" + index : _b,\n            rest = __rest(_a, [\"children\", \"selectable\", \"checkable\", \"key\"]);\n          var nodeProps = __assign(__assign(__assign({\n            // data 中含有dataRef时，优先级较高\n            dataRef: data,\n            draggable: _this.props.draggable,\n            selectable: selectable,\n            checkable: checkable,\n            showLine: showLine,\n            blockNode: blockNode\n          }, data), rest), {\n            key: key,\n            children: children,\n            _key: key,\n            _index: currentIndex++,\n            parentKey: father ? father._key : undefined,\n            pathParentKeys: father && father.pathParentKeys || [],\n            _level: father._level || 0,\n            // 保存node在sowLine模式下是否显示缩进线。如果父节点是其所在层级的最后一个节点，那么所有的子节点（包括孙子节点等）在父节点所在层级的缩进格都不显示缩进线。\n            _lineless: father && father._lineless ? __spreadArray(__spreadArray([], __read(father._lineless || []), false), [father._isTail], false) : []\n          });\n          if (totalLength === index + 1) {\n            nodeProps.className = cs(prefixCls + \"-node-is-tail\", nodeProps.className);\n          }\n          nodeList.push(nodeProps);\n          _this.key2nodeProps[key] = nodeProps;\n          if (children && children.length) {\n            _this.key2nodeProps[key].children = loop(children, {\n              _key: key,\n              _level: nodeProps._level + 1,\n              _lineless: nodeProps._lineless,\n              _isTail: totalLength === index + 1,\n              pathParentKeys: __spreadArray(__spreadArray([], __read((father === null || father === void 0 ? void 0 : father.pathParentKeys) || []), false), [key], false)\n            });\n          }\n          return nodeProps;\n        });\n      };\n      loop(treedata || [], {});\n      return nodeList;\n    };\n    _this.getInitExpandedKeys = function (keys) {\n      if (!_this.getMergedProps().autoExpandParent) {\n        return keys || [];\n      }\n      if (!keys) {\n        return Object.keys(_this.key2nodeProps).filter(function (key) {\n          var props = _this.key2nodeProps[key];\n          return props.children && props.children.length;\n        });\n      }\n      var expandedKeys = {};\n      keys.forEach(function (key) {\n        var item = _this.key2nodeProps[key];\n        if (!item) {\n          return;\n        }\n        expandedKeys[key] = 1;\n        if (item.pathParentKeys) {\n          item.pathParentKeys.forEach(function (x) {\n            expandedKeys[x] = 1;\n          });\n        }\n      });\n      return Object.keys(expandedKeys);\n    };\n    _this.getInitCheckedKeys = function (keys) {\n      if (!_this.props.checkStrictly) {\n        var _a = getCheckedKeysByInitKeys(keys, _this.key2nodeProps),\n          checkedKeys = _a.checkedKeys,\n          indeterminateKeys = _a.indeterminateKeys;\n        return {\n          checkedKeys: checkedKeys,\n          halfCheckedKeys: indeterminateKeys\n        };\n      }\n      return {\n        checkedKeys: keys,\n        halfCheckedKeys: _this.props.halfCheckedKeys || []\n      };\n    };\n    _this.handleSelect = function (key, e) {\n      var onSelect = _this.props.onSelect;\n      var extra = {\n        e: e,\n        node: _this.getCacheNode([key])[0]\n      };\n      if (_this.props.multiple) {\n        var selectedKeys = __spreadArray([], __read(_this.state.selectedKeys), false);\n        var index = selectedKeys.indexOf(key);\n        if (index > -1) {\n          selectedKeys.splice(index, 1);\n          extra.selected = false;\n        } else {\n          extra.selected = true;\n          selectedKeys.push(key);\n        }\n        extra.selectedNodes = _this.getCacheNode(selectedKeys);\n        if (!('selectedKeys' in _this.props)) {\n          _this.setState({\n            selectedKeys: selectedKeys\n          });\n        }\n        onSelect && onSelect(selectedKeys, extra);\n      } else {\n        extra.selected = true;\n        extra.selectedNodes = _this.getCacheNode([key]);\n        if (!('selectedKeys' in _this.props)) {\n          _this.setState({\n            selectedKeys: [key]\n          });\n        }\n        onSelect && onSelect([key], extra);\n      }\n    };\n    _this.handleCheck = function (checked, key, e) {\n      var checkedStrategy = _this.getMergedProps().checkedStrategy;\n      var _a = _this.props,\n        onCheck = _a.onCheck,\n        checkStrictly = _a.checkStrictly;\n      var extra = {\n        e: e,\n        node: _this.getCacheNode([key])[0]\n      };\n      var checkedKeys = _this.state.checkedKeys;\n      var halfCheckedKeys = _this.state.halfCheckedKeys;\n      if (checkStrictly) {\n        if (checked) {\n          checkedKeys = checkedKeys.concat(key);\n        } else {\n          checkedKeys = checkedKeys.filter(function (item) {\n            return item !== key;\n          });\n        }\n        var newState = {};\n        if (!('checkedKeys' in _this.props)) {\n          newState.checkedKeys = checkedKeys;\n        }\n        if (!('halfCheckedKeys' in _this.props)) {\n          newState.halfCheckedKeys = halfCheckedKeys;\n        }\n        if (!isEmptyObject(newState)) {\n          _this.setState(__assign({}, newState));\n        }\n      } else {\n        // 找到所有允许勾选的子节点\n        var _b = getAllCheckedKeysByCheck(key, checked, checkedKeys, _this.key2nodeProps, halfCheckedKeys),\n          newCheckedKeys = _b.checkedKeys,\n          indeterminateKeys = _b.indeterminateKeys;\n        checkedKeys = newCheckedKeys;\n        halfCheckedKeys = indeterminateKeys;\n        if (!('checkedKeys' in _this.props)) {\n          _this.setState({\n            checkedKeys: checkedKeys,\n            halfCheckedKeys: halfCheckedKeys\n          });\n        } else {\n          _this.setState({\n            halfCheckedKeys: halfCheckedKeys\n          });\n        }\n        if (checkedStrategy === Tree.SHOW_PARENT) {\n          checkedKeys = checkedKeys.filter(function (x) {\n            var item = _this.key2nodeProps[x];\n            if (!item || checkedKeys.indexOf(item.parentKey) === -1) {\n              return true;\n            }\n          });\n        } else if (checkedStrategy === Tree.SHOW_CHILD) {\n          checkedKeys = checkedKeys.filter(function (x) {\n            var _a, _b;\n            var item = _this.key2nodeProps[x];\n            if (!item || !((_a = item.children) === null || _a === void 0 ? void 0 : _a.length) || ((_b = item.children) === null || _b === void 0 ? void 0 : _b.every(function (x) {\n              return checkedKeys.indexOf(x._key) === -1;\n            }))) {\n              return true;\n            }\n          });\n        }\n      }\n      onCheck && onCheck(checkedKeys, __assign({\n        checkedNodes: _this.getCacheNode(checkedKeys),\n        checked: checked,\n        halfCheckedKeys: halfCheckedKeys,\n        halfCheckedNodes: _this.getCacheNode(halfCheckedKeys)\n      }, extra));\n    };\n    _this.handleLoadMore = function (node) {\n      var loadMore = _this.props.loadMore;\n      if (isFunction(loadMore)) {\n        var _a = _this.state,\n          _b = _a.loadingKeys,\n          loadingKeys = _b === void 0 ? [] : _b,\n          loadedKeys = _a.loadedKeys;\n        _this.setState({\n          loadingKeys: Array.from(new Set(__spreadArray(__spreadArray([], __read(loadingKeys), false), [node._key], false))),\n          loadedKeys: loadedKeys.filter(function (x) {\n            return x !== node._key;\n          })\n        }, function () {\n          return __awaiter(_this, void 0, void 0, function () {\n            var e_1;\n            return __generator(this, function (_a) {\n              switch (_a.label) {\n                case 0:\n                  _a.trys.push([0, 2,, 3]);\n                  return [4 /*yield*/, loadMore(this.getCacheNode([node._key])[0])];\n                case 1:\n                  _a.sent();\n                  this.setState({\n                    loadedKeys: Array.from(new Set(__spreadArray(__spreadArray([], __read(this.state.loadedKeys), false), [node._key], false))),\n                    loadingKeys: this.state.loadingKeys.filter(function (x) {\n                      return x !== node._key;\n                    })\n                  });\n                  this.handleExpand(!node.expanded, node._key);\n                  return [3 /*break*/, 3];\n                case 2:\n                  e_1 = _a.sent();\n                  console.error('[tree]load data error: ', e_1);\n                  this.setState({\n                    loadingKeys: this.state.loadingKeys.filter(function (x) {\n                      return x !== node._key;\n                    })\n                  });\n                  return [3 /*break*/, 3];\n                case 3:\n                  return [2 /*return*/];\n              }\n            });\n          });\n        });\n      }\n    };\n    _this.handleNodeDragStart = function (e, node) {\n      _this.dragNode = _this.getCacheNode([node._key])[0];\n      _this.dropPosition = 0;\n      var onDragStart = _this.props.onDragStart;\n      onDragStart && onDragStart(e, _this.getCacheNode([node._key])[0]);\n    };\n    _this.handleNodeDragEnd = function (e, node) {\n      _this.dragNode = null;\n      _this.dropPosition = 0;\n      var onDragEnd = _this.props.onDragEnd;\n      onDragEnd && onDragEnd(e, _this.getCacheNode([node._key])[0]);\n    };\n    _this.handleNodeDragOver = function (e, node, dropPosition) {\n      _this.dropPosition = dropPosition;\n      var onDragOver = _this.props.onDragOver;\n      onDragOver && onDragOver(e, _this.getCacheNode([node._key])[0]);\n    };\n    _this.handleNodeDragLeave = function (e, node) {\n      // this.dropNode = null;\n      _this.dropPosition = 0;\n      var onDragLeave = _this.props.onDragLeave;\n      onDragLeave && onDragLeave(e, _this.getCacheNode([node._key])[0]);\n    };\n    _this.isChildOfNode = function (node, target) {\n      var current = _this.key2nodeProps[node.parentKey];\n      while (current) {\n        var _key = current._key,\n          parentKey = current.parentKey;\n        if (_key === target.props._key) {\n          return true;\n        }\n        if (parentKey === _key) return;\n        current = _this.key2nodeProps[parentKey];\n      }\n    };\n    _this.isSameNode = function (node1, node2) {\n      // 对比 node\n      if (node1 === undefined || node2 === undefined) return false;\n      if (node1 === node2) return true;\n      // 对比 node.key\n      var key1 = node1.key;\n      var key2 = node2.key;\n      if (key1 !== undefined || key2 !== undefined) return key1 === key2;\n      // 对比 node.props._key\n      var _key1 = node1.props._key;\n      var _key2 = node2.props._key;\n      if (_key1 === undefined && _key2 === undefined) return false;\n      return _key1 === _key2;\n    };\n    _this.handleNodeDrop = function (e, node, dropPosition) {\n      if (_this.dragNode) {\n        var allowDrop = _this.getMergedProps().allowDrop;\n        var onDrop = _this.props.onDrop;\n        var nodeInstance = _this.getCacheNode([node._key])[0];\n        if (onDrop && !_this.isChildOfNode(node, _this.dragNode) && !_this.isSameNode(_this.dragNode, nodeInstance)) {\n          if (allowDrop && !allowDrop({\n            dropNode: nodeInstance,\n            dragNode: _this.dragNode,\n            dropPosition: dropPosition\n          })) {\n            return;\n          }\n          onDrop({\n            dragNode: _this.dragNode,\n            dropNode: nodeInstance,\n            dropPosition: dropPosition,\n            e: e\n          });\n        }\n      }\n    };\n    _this.handleAllowDrop = function (node, dropPosition) {\n      var allowDrop = _this.getMergedProps().allowDrop;\n      var isAllowDrop = true;\n      if (typeof allowDrop === 'function') {\n        isAllowDrop = allowDrop({\n          dropNode: _this.getCacheNode([node._key])[0],\n          dragNode: _this.dragNode,\n          dropPosition: dropPosition\n        });\n      }\n      return isAllowDrop;\n    };\n    _this.handleExpand = function (expanded, key) {\n      var _a = _this.state,\n        currentExpandKeys = _a.currentExpandKeys,\n        _b = _a.expandedKeys,\n        expandedKeys = _b === void 0 ? [] : _b;\n      var animation = _this.getMergedProps().animation;\n      var onExpand = _this.props.onExpand;\n      if (currentExpandKeys.indexOf(key) > -1) {\n        // 如果当前key节点正在展开/收起，不执行操作。\n        return;\n      }\n      var newExpandedKeys = [];\n      if (expanded) {\n        newExpandedKeys = Array.from(new Set(__spreadArray(__spreadArray([], __read(expandedKeys), false), [key], false)));\n      } else {\n        newExpandedKeys = expandedKeys.filter(function (k) {\n          return k !== key;\n        });\n      }\n      if (!('expandedKeys' in _this.props)) {\n        _this.setState({\n          expandedKeys: newExpandedKeys,\n          currentExpandKeys: animation ? __spreadArray(__spreadArray([], __read(currentExpandKeys), false), [key], false) : []\n        });\n      }\n      onExpand && onExpand(newExpandedKeys, {\n        expanded: expanded,\n        node: _this.getCacheNode([key])[0],\n        expandedNodes: _this.getCacheNode(newExpandedKeys)\n      });\n    };\n    _this.getCacheNode = function (key) {\n      // __ArcoAdapterMode__ ，在大数据下获取选中结点信息时，构建 Node 会导致性能消耗过大，\n      // 通过 __ArcoAdapterMode__ 开启构建数据一个类似 node 的数据结构，提升性能，大版本升级时调整所有回调类型的 NodeInstance 的参数\n      var __ArcoAdapterMode__ = _this.props.__ArcoAdapterMode__;\n      var originData = [];\n      [].concat(key).forEach(function (_key) {\n        var data = _this.key2nodeProps[_key];\n        if (data) {\n          originData.push(data);\n        }\n      });\n      var nodeProps = _this.getNodeProps(originData);\n      return nodeProps.map(function (_props) {\n        return __ArcoAdapterMode__ ? {\n          props: _props,\n          key: key\n        } : React.createElement(Node, __assign({}, _props, {\n          key: _props.key\n        }));\n      });\n    };\n    // 转换为 set 类型，便于查找。主要是传递给node-list使用\n    _this.getDataSet = function (dataSet) {\n      var _a, _b, _c, _d;\n      return {\n        expandedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.expandedKeysSet) || new Set(((_a = _this.state) === null || _a === void 0 ? void 0 : _a.expandedKeys) || []),\n        checkedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.checkedKeysSet) || new Set(((_b = _this.state) === null || _b === void 0 ? void 0 : _b.checkedKeys) || []),\n        selectedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.selectedKeysSet) || new Set(((_c = _this.state) === null || _c === void 0 ? void 0 : _c.selectedKeys) || []),\n        halfCheckedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.halfCheckedKeysSet) || new Set(((_d = _this.state) === null || _d === void 0 ? void 0 : _d.halfCheckedKeys) || [])\n      };\n    };\n    // dataSet:传入构建好的expandedKeysSet,, checkedKeysSet, halfCheckedKeysSet ，性能优化\n    _this.getNodeProps = function (nodes, dataSet) {\n      var autoExpandParent = _this.getMergedProps().autoExpandParent;\n      var loadMore = _this.props.loadMore;\n      var _a = _this.state,\n        selectedKeys = _a.selectedKeys,\n        expandedKeys = _a.expandedKeys,\n        checkedKeys = _a.checkedKeys,\n        _b = _a.loadingKeys,\n        loadingKeys = _b === void 0 ? [] : _b,\n        _c = _a.loadedKeys,\n        loadedKeys = _c === void 0 ? [] : _c;\n      var _d = _this.getDataSet(dataSet),\n        expandedKeysSet = _d.expandedKeysSet,\n        checkedKeysSet = _d.checkedKeysSet,\n        selectedKeysSet = _d.selectedKeysSet,\n        halfCheckedKeysSet = _d.halfCheckedKeysSet;\n      var processNodeProps = function (nodeProps) {\n        var hasChildren = nodeProps.children && nodeProps.children.length;\n        var otherProps = {\n          isLeaf: !hasChildren,\n          autoExpandParent: hasChildren ? autoExpandParent : false,\n          expanded: expandedKeysSet ? expandedKeysSet.has(nodeProps._key) : expandedKeys.indexOf(nodeProps._key) > -1\n        };\n        if (loadMore) {\n          var loaded = loadedKeys.indexOf(nodeProps._key) > -1;\n          otherProps.loaded = loaded;\n          otherProps.isLeaf = hasChildren ? false : nodeProps.isLeaf;\n        }\n        return __assign(__assign(__assign({}, nodeProps), otherProps), {\n          selected: selectedKeysSet.has(nodeProps._key),\n          indeterminated: halfCheckedKeysSet.has(nodeProps._key),\n          loading: loadingKeys.indexOf(nodeProps._key) > -1,\n          checked: checkedKeysSet.has(nodeProps._key),\n          selectedKeys: selectedKeys,\n          checkedKeys: checkedKeys,\n          loadingKeys: loadingKeys,\n          loadedKeys: loadedKeys,\n          expandedKeys: expandedKeys,\n          childrenData: nodeProps.children || [],\n          children: null\n        });\n      };\n      return isArray(nodes) ? nodes.map(function (node) {\n        return processNodeProps(node);\n      }) : processNodeProps(nodes);\n    };\n    _this.handleExpandEnd = function (key) {\n      // 获取最新 state 并更新，因为在 react 18 下批处理，可能多个节点并行执行动画时，导致更新 currentExpandKeys 相互覆盖\n      _this.setState(function (state) {\n        var currentExpandKeys = state.currentExpandKeys;\n        if (currentExpandKeys.indexOf(key) > -1) {\n          return {\n            currentExpandKeys: currentExpandKeys.filter(function (v) {\n              return v !== key;\n            })\n          };\n        }\n        return {};\n      });\n    };\n    // 获取tree的state数据，在子组件里使用。\n    _this.getTreeState = function () {\n      return _this.state;\n    };\n    _this.state = {};\n    var treeData = _this.getTreeData();\n    var nodeList = _this.getNodeList(treeData, context.getPrefixCls('tree'));\n    var _a = _this.getInitCheckedKeys(props.checkedKeys || props.defaultCheckedKeys || []),\n      checkedKeys = _a.checkedKeys,\n      halfCheckedKeys = _a.halfCheckedKeys;\n    _this.state = {\n      selectedKeys: props.selectedKeys || props.defaultSelectedKeys || [],\n      checkedKeys: checkedKeys,\n      halfCheckedKeys: halfCheckedKeys,\n      expandedKeys: _this.getInitExpandedKeys(props.expandedKeys || props.defaultExpandedKeys),\n      loadedKeys: [],\n      loadingKeys: [],\n      currentExpandKeys: [],\n      nodeList: nodeList\n    };\n    return _this;\n  }\n  Tree.getDerivedStateFromProps = function (nextProps, state) {\n    var newState = {};\n    if ('selectedKeys' in nextProps && !isEqualWith(nextProps.selectedKeys, state.selectedKeys)) {\n      newState.selectedKeys = nextProps.selectedKeys || [];\n    }\n    if (Object.keys(newState).length) {\n      return newState;\n    }\n    return null;\n  };\n  Tree.prototype.componentDidUpdate = function (prevProps) {\n    // 类似 componentWillReceiveProps 周期\n    var _this = this;\n    var prevMergedProps = this.getMergedProps(prevProps);\n    var mergedProps = this.getMergedProps();\n    if (prevProps !== this.props || !isEqualWith(prevMergedProps, mergedProps)) {\n      var newState_1 = {};\n      if (this.needUpdateTreeData(__assign({\n        prevMergedProps: prevMergedProps\n      }, prevProps), __assign(__assign({}, mergedProps), this.props))) {\n        var treeData = this.getTreeData();\n        var nodeList = this.getNodeList(treeData);\n        newState_1.treeData = treeData;\n        newState_1.nodeList = nodeList;\n      }\n      if (newState_1.treeData || 'checkedKeys' in this.props && !isEqualWith(prevProps.checkedKeys, this.props.checkedKeys)) {\n        // 说明treeData变了，需要比较下内部checkedKeys\n        var currentCheckedKeys = 'checkedKeys' in this.props ? this.props.checkedKeys : this.state.checkedKeys;\n        var _a = this.getInitCheckedKeys(currentCheckedKeys || []),\n          halfCheckedKeys = _a.halfCheckedKeys,\n          checkedKeys = _a.checkedKeys;\n        if (!isEqualWith(checkedKeys, this.state.checkedKeys)) {\n          newState_1.checkedKeys = checkedKeys;\n        }\n        if (!isEqualWith(halfCheckedKeys, this.state.halfCheckedKeys)) {\n          newState_1.halfCheckedKeys = halfCheckedKeys;\n        }\n      }\n      if (this.props.checkStrictly && 'halfCheckedKeys' in this.props && !isEqualWith(prevProps.halfCheckedKeys, this.props.halfCheckedKeys)) {\n        newState_1.halfCheckedKeys = this.props.halfCheckedKeys;\n      }\n      if ('expandedKeys' in this.props && !isEqualWith(this.props.expandedKeys, prevProps.expandedKeys)) {\n        newState_1.expandedKeys = this.props.expandedKeys;\n        // 比较前后expandKeys的改变，去重，得到需要收起/展开的动画\n        // 例如 [...[1, 2, 3], ...[1, 3, 4]] 。那么 2 会收起，4会展开。\n        // 如果父节点正在执行收起/展开逻辑，子节点不需要出现在 currentExpandKeys 数组。\n        newState_1.currentExpandKeys = !mergedProps.animation ? [] : __spreadArray(__spreadArray([], __read(newState_1.expandedKeys), false), __read(this.state.expandedKeys), false).reduce(function (total, next) {\n          var index = total.indexOf(next);\n          if (index === -1) {\n            total.push(next);\n          } else {\n            total.splice(index, 1);\n          }\n          return total;\n        }, []).filter(function (key, _, array) {\n          var _a;\n          if (_this.key2nodeProps[key]) {\n            var pathParentKeys = _this.key2nodeProps[key].pathParentKeys;\n            if (pathParentKeys.some(function (x) {\n              return array.indexOf(x) > -1;\n            })) {\n              return false;\n            }\n            return (_a = _this.key2nodeProps[key].children) === null || _a === void 0 ? void 0 : _a.length;\n          }\n        });\n      }\n      var currentExpandKeys = newState_1.currentExpandKeys || this.state.currentExpandKeys;\n      if (newState_1.treeData && currentExpandKeys) {\n        newState_1.currentExpandKeys = currentExpandKeys.filter(function (key) {\n          var item = newState_1.treeData.find(function (node) {\n            return node.key === key;\n          });\n          return item && item.children && item.children.length;\n        });\n      }\n      if (Object.keys(newState_1).length) {\n        this.setState(newState_1);\n      }\n    }\n  };\n  Tree.prototype.render = function () {\n    var _a;\n    var _this = this;\n    var _b = this.getMergedProps(),\n      className = _b.className,\n      showLine = _b.showLine,\n      size = _b.size,\n      _virtualListProps = _b.virtualListProps,\n      height = _b.height,\n      style = _b.style,\n      icons = _b.icons,\n      actionOnClick = _b.actionOnClick,\n      animation = _b.animation;\n    var _c = this.props,\n      loadMore = _c.loadMore,\n      checkable = _c.checkable;\n    // 兼容旧 APi : height\n    var virtualListProps = _virtualListProps ? __assign({\n      threshold: 100\n    }, _virtualListProps) : height ? {\n      height: height,\n      threshold: 100\n    } : {\n      threshold: null\n    };\n    var _d = this.context,\n      getPrefixCls = _d.getPrefixCls,\n      rtl = _d.rtl;\n    var prefixCls = getPrefixCls('tree');\n    return React.createElement(TreeContext.Provider, {\n      value: {\n        icons: icons,\n        animation: animation,\n        key2nodeProps: this.key2nodeProps,\n        getFieldInfo: this.getFieldInfo,\n        getTreeState: this.getTreeState,\n        getNodeProps: this.getNodeProps,\n        onExpandEnd: animation ? this.handleExpandEnd : function () {},\n        onSelect: this.handleSelect,\n        onCheck: this.handleCheck,\n        onNodeDragStart: this.handleNodeDragStart,\n        onNodeDragEnd: this.handleNodeDragEnd,\n        onNodeDragLeave: this.handleNodeDragLeave,\n        onNodeDragOver: this.handleNodeDragOver,\n        onNodeDrop: this.handleNodeDrop,\n        onExpand: this.handleExpand,\n        renderExtra: this.props.renderExtra,\n        renderTitle: this.props.renderTitle,\n        loadMore: loadMore && this.handleLoadMore,\n        allowDrop: this.handleAllowDrop,\n        actionOnClick: actionOnClick,\n        virtualListProps: virtualListProps\n      }\n    }, React.createElement(NodeList, {\n      ref: function (node) {\n        _this.nodeListRef = node;\n      },\n      className: cs(prefixCls, (_a = {}, _a[prefixCls + \"-checkable\"] = checkable, _a[prefixCls + \"-show-line\"] = showLine, _a[prefixCls + \"-size-\" + size] = size, _a[prefixCls + \"-rtl\"] = rtl, _a), className),\n      style: style,\n      filterNode: this.props.filterNode,\n      virtualListProps: virtualListProps,\n      expandedKeys: this.state.expandedKeys,\n      currentExpandKeys: this.state.currentExpandKeys,\n      getNodeProps: this.getNodeProps,\n      getDataSet: this.getDataSet,\n      nodeList: this.state.nodeList,\n      onMouseDown: this.props.onMouseDown,\n      ariaProps: __assign({\n        role: 'tree',\n        'aria-multiselectable': this.props.multiple,\n        tabIndex: 0\n      }, pickDataAttributes(this.props))\n    }));\n  };\n  Tree.displayName = 'Tree';\n  Tree.SHOW_PARENT = 'parent';\n  Tree.SHOW_ALL = 'all';\n  Tree.SHOW_CHILD = 'child';\n  Tree.Node = Node;\n  Tree.contextType = ConfigContext;\n  return Tree;\n}(Component);\nexport default Tree;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","pop","push","__rest","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__read","o","m","r","ar","error","__spreadArray","to","from","pack","l","slice","concat","React","Component","isEqualWith","cs","Node","NodeList","isArray","isEmptyObject","isFunction","isUndefined","ConfigContext","getAllCheckedKeysByCheck","getCheckedKeysByInitKeys","getTreeDataFromTreeChildren","TreeContext","pickDataAttributes","DefaultFieldNames","key","title","children","selectable","disabled","disableCheckbox","checkable","isLeaf","defaultProps","autoExpandParent","checkedStrategy","actionOnClick","allowDrop","fieldNames","animation","needMergeKeys","Tree","_super","props","context","_this","key2nodeProps","getMergedProps","baseProps","componentConfig","treeComponentConfig","_props","forEach","scrollIntoView","_index","nodeProps","index","_key","nodeListRef","getTreeData","treeData","needUpdateTreeData","prevProps","keys","some","getFieldInfo","data","mergedProps","getNodeList","treedata","prefix","prefixCls","getPrefixCls","nodeList","currentIndex","_a","showLine","blockNode","loop","father","totalLength","map","_b","rest","dataRef","draggable","parentKey","undefined","pathParentKeys","_level","_lineless","_isTail","className","getInitExpandedKeys","filter","expandedKeys","item","x","getInitCheckedKeys","checkStrictly","checkedKeys","indeterminateKeys","halfCheckedKeys","handleSelect","onSelect","extra","node","getCacheNode","multiple","selectedKeys","state","splice","selected","selectedNodes","setState","handleCheck","checked","onCheck","newState","newCheckedKeys","SHOW_PARENT","SHOW_CHILD","every","checkedNodes","halfCheckedNodes","handleLoadMore","loadMore","loadingKeys","loadedKeys","Set","e_1","handleExpand","expanded","console","handleNodeDragStart","dragNode","dropPosition","onDragStart","handleNodeDragEnd","onDragEnd","handleNodeDragOver","onDragOver","handleNodeDragLeave","onDragLeave","isChildOfNode","target","current","isSameNode","node1","node2","key1","key2","_key1","_key2","handleNodeDrop","onDrop","nodeInstance","dropNode","handleAllowDrop","isAllowDrop","currentExpandKeys","onExpand","newExpandedKeys","k","expandedNodes","__ArcoAdapterMode__","originData","getNodeProps","createElement","getDataSet","dataSet","_c","_d","expandedKeysSet","checkedKeysSet","selectedKeysSet","halfCheckedKeysSet","nodes","processNodeProps","hasChildren","otherProps","has","loaded","indeterminated","loading","childrenData","handleExpandEnd","getTreeState","defaultCheckedKeys","defaultSelectedKeys","defaultExpandedKeys","getDerivedStateFromProps","nextProps","componentDidUpdate","prevMergedProps","newState_1","currentCheckedKeys","reduce","total","array","find","render","size","_virtualListProps","virtualListProps","height","style","icons","threshold","rtl","Provider","onExpandEnd","onNodeDragStart","onNodeDragEnd","onNodeDragLeave","onNodeDragOver","onNodeDrop","renderExtra","renderTitle","ref","filterNode","onMouseDown","ariaProps","role","tabIndex","displayName","SHOW_ALL","contextType"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Tree/index.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { Component } from 'react';\nimport isEqualWith from 'lodash/isEqualWith';\nimport cs from '../_util/classNames';\nimport Node from './node';\nimport NodeList from './node-list';\nimport { isArray, isEmptyObject, isFunction, isUndefined } from '../_util/is';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getAllCheckedKeysByCheck, getCheckedKeysByInitKeys, getTreeDataFromTreeChildren, } from './util';\nimport { TreeContext } from './context';\nimport { pickDataAttributes } from '../_util/pick';\nvar DefaultFieldNames = {\n    key: 'key',\n    title: 'title',\n    children: 'children',\n    selectable: 'selectable',\n    disabled: 'disabled',\n    disableCheckbox: 'disableCheckbox',\n    checkable: 'checkable',\n    isLeaf: 'isLeaf',\n};\nvar defaultProps = {\n    selectable: true,\n    autoExpandParent: true,\n    checkedStrategy: 'all',\n    actionOnClick: 'select',\n    allowDrop: function () { return true; },\n    fieldNames: DefaultFieldNames,\n    animation: true,\n};\nvar needMergeKeys = [\n    'style',\n    'className',\n    'height',\n    'size',\n    'blockNode',\n    'autoExpandParent',\n    'checkedStrategy',\n    'fieldNames',\n    'icons',\n    'virtualListProps',\n    'showLine',\n    'selectable',\n    'allowDrop',\n    'actionOnClick',\n    'animation',\n];\nvar Tree = /** @class */ (function (_super) {\n    __extends(Tree, _super);\n    function Tree(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.key2nodeProps = {};\n        _this.getMergedProps = function (baseProps) {\n            var componentConfig = _this.context.componentConfig;\n            var props = baseProps || _this.props;\n            var treeComponentConfig = (componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Tree) || {};\n            var _props = {};\n            needMergeKeys.forEach(function (key) {\n                if (!isUndefined(props[key])) {\n                    _props[key] = props[key];\n                }\n                else if (!isUndefined(treeComponentConfig[key])) {\n                    _props[key] = treeComponentConfig[key];\n                }\n                else {\n                    _props[key] = defaultProps[key];\n                }\n            });\n            return _props;\n        };\n        // index: 第几个dom元素, 如果传入的是字符串，会作为 node 的 key去查找。\n        // nodeProps 参数似乎咩有什么用。。。但是不知道外部有没有调用，就当key用吧。。\n        _this.scrollIntoView = function (_index, nodeProps) {\n            var index = _index;\n            if (nodeProps) {\n                // 作为key\n                index = nodeProps._key;\n            }\n            if (_this.nodeListRef) {\n                _this.nodeListRef.scrollIntoView(index, nodeProps || _this.key2nodeProps[index]);\n            }\n        };\n        _this.getTreeData = function () {\n            return 'treeData' in _this.props\n                ? _this.props.treeData\n                : getTreeDataFromTreeChildren(_this.props.children);\n        };\n        // 以下外部传入的属性改变时，需要更新nodeList\n        _this.needUpdateTreeData = function (prevProps, props) {\n            var keys = [\n                'fieldNames',\n                'selectable',\n                'draggable',\n                'checkStrictly',\n                'showLine',\n                'blockNode',\n                'checkable',\n                'treeData',\n                'children',\n            ];\n            return (prevProps.treeData !== props.treeData ||\n                prevProps.children !== props.children ||\n                keys.some(function (key) { return isEqualWith(prevProps[key], props[key]); }));\n        };\n        // 根据 fieldNames 获取节点数据\n        _this.getFieldInfo = function (data) {\n            var mergedProps = _this.getMergedProps();\n            var selectable = mergedProps.selectable;\n            // fieldsNames 仅在treeData时生效。\n            var fieldNames = __assign(__assign({}, DefaultFieldNames), ('treeData' in _this.props ? mergedProps.fieldNames : {}));\n            var result = {\n                children: data[fieldNames.children],\n                selectable: fieldNames.selectable in data ? data[fieldNames.selectable] : selectable,\n                checkable: fieldNames.checkable in data ? data[fieldNames.checkable] : _this.props.checkable,\n                title: data[fieldNames.title],\n                disabled: data[fieldNames.disabled],\n                disableCheckbox: data[fieldNames.disableCheckbox],\n                isLeaf: data[fieldNames.isLeaf],\n                key: data[fieldNames.key],\n            };\n            if (!(fieldNames.key in data)) {\n                delete result.key;\n            }\n            return result;\n        };\n        _this.getNodeList = function (treedata, prefix) {\n            _this.key2nodeProps = {};\n            var prefixCls = prefix || _this.context.getPrefixCls('tree');\n            var nodeList = [];\n            var currentIndex = 0;\n            var _a = _this.getMergedProps(), showLine = _a.showLine, blockNode = _a.blockNode;\n            var loop = function (treeData, father) {\n                var totalLength = treeData.length;\n                return treeData.map(function (data, index) {\n                    var _a = _this.getFieldInfo(data), children = _a.children, selectable = _a.selectable, checkable = _a.checkable, _b = _a.key, key = _b === void 0 ? ((father === null || father === void 0 ? void 0 : father._key) || '') + \"-\" + index : _b, rest = __rest(_a, [\"children\", \"selectable\", \"checkable\", \"key\"]);\n                    var nodeProps = __assign(__assign(__assign({ \n                        // data 中含有dataRef时，优先级较高\n                        dataRef: data, draggable: _this.props.draggable, selectable: selectable, checkable: checkable, showLine: showLine, blockNode: blockNode }, data), rest), { key: key, children: children, _key: key, _index: currentIndex++, parentKey: father ? father._key : undefined, pathParentKeys: (father && father.pathParentKeys) || [], _level: father._level || 0, \n                        // 保存node在sowLine模式下是否显示缩进线。如果父节点是其所在层级的最后一个节点，那么所有的子节点（包括孙子节点等）在父节点所在层级的缩进格都不显示缩进线。\n                        _lineless: father && father._lineless ? __spreadArray(__spreadArray([], __read((father._lineless || [])), false), [father._isTail], false) : [] });\n                    if (totalLength === index + 1) {\n                        nodeProps.className = cs(prefixCls + \"-node-is-tail\", nodeProps.className);\n                    }\n                    nodeList.push(nodeProps);\n                    _this.key2nodeProps[key] = nodeProps;\n                    if (children && children.length) {\n                        _this.key2nodeProps[key].children = loop(children, {\n                            _key: key,\n                            _level: nodeProps._level + 1,\n                            _lineless: nodeProps._lineless,\n                            _isTail: totalLength === index + 1,\n                            pathParentKeys: __spreadArray(__spreadArray([], __read(((father === null || father === void 0 ? void 0 : father.pathParentKeys) || [])), false), [key], false),\n                        });\n                    }\n                    return nodeProps;\n                });\n            };\n            loop(treedata || [], {});\n            return nodeList;\n        };\n        _this.getInitExpandedKeys = function (keys) {\n            if (!_this.getMergedProps().autoExpandParent) {\n                return keys || [];\n            }\n            if (!keys) {\n                return Object.keys(_this.key2nodeProps).filter(function (key) {\n                    var props = _this.key2nodeProps[key];\n                    return props.children && props.children.length;\n                });\n            }\n            var expandedKeys = {};\n            keys.forEach(function (key) {\n                var item = _this.key2nodeProps[key];\n                if (!item) {\n                    return;\n                }\n                expandedKeys[key] = 1;\n                if (item.pathParentKeys) {\n                    item.pathParentKeys.forEach(function (x) {\n                        expandedKeys[x] = 1;\n                    });\n                }\n            });\n            return Object.keys(expandedKeys);\n        };\n        _this.getInitCheckedKeys = function (keys) {\n            if (!_this.props.checkStrictly) {\n                var _a = getCheckedKeysByInitKeys(keys, _this.key2nodeProps), checkedKeys = _a.checkedKeys, indeterminateKeys = _a.indeterminateKeys;\n                return {\n                    checkedKeys: checkedKeys,\n                    halfCheckedKeys: indeterminateKeys,\n                };\n            }\n            return {\n                checkedKeys: keys,\n                halfCheckedKeys: _this.props.halfCheckedKeys || [],\n            };\n        };\n        _this.handleSelect = function (key, e) {\n            var onSelect = _this.props.onSelect;\n            var extra = { e: e, node: _this.getCacheNode([key])[0] };\n            if (_this.props.multiple) {\n                var selectedKeys = __spreadArray([], __read(_this.state.selectedKeys), false);\n                var index = selectedKeys.indexOf(key);\n                if (index > -1) {\n                    selectedKeys.splice(index, 1);\n                    extra.selected = false;\n                }\n                else {\n                    extra.selected = true;\n                    selectedKeys.push(key);\n                }\n                extra.selectedNodes = _this.getCacheNode(selectedKeys);\n                if (!('selectedKeys' in _this.props)) {\n                    _this.setState({ selectedKeys: selectedKeys });\n                }\n                onSelect && onSelect(selectedKeys, extra);\n            }\n            else {\n                extra.selected = true;\n                extra.selectedNodes = _this.getCacheNode([key]);\n                if (!('selectedKeys' in _this.props)) {\n                    _this.setState({ selectedKeys: [key] });\n                }\n                onSelect && onSelect([key], extra);\n            }\n        };\n        _this.handleCheck = function (checked, key, e) {\n            var checkedStrategy = _this.getMergedProps().checkedStrategy;\n            var _a = _this.props, onCheck = _a.onCheck, checkStrictly = _a.checkStrictly;\n            var extra = { e: e, node: _this.getCacheNode([key])[0] };\n            var checkedKeys = _this.state.checkedKeys;\n            var halfCheckedKeys = _this.state.halfCheckedKeys;\n            if (checkStrictly) {\n                if (checked) {\n                    checkedKeys = checkedKeys.concat(key);\n                }\n                else {\n                    checkedKeys = checkedKeys.filter(function (item) { return item !== key; });\n                }\n                var newState = {};\n                if (!('checkedKeys' in _this.props)) {\n                    newState.checkedKeys = checkedKeys;\n                }\n                if (!('halfCheckedKeys' in _this.props)) {\n                    newState.halfCheckedKeys = halfCheckedKeys;\n                }\n                if (!isEmptyObject(newState)) {\n                    _this.setState(__assign({}, newState));\n                }\n            }\n            else {\n                // 找到所有允许勾选的子节点\n                var _b = getAllCheckedKeysByCheck(key, checked, checkedKeys, _this.key2nodeProps, halfCheckedKeys), newCheckedKeys = _b.checkedKeys, indeterminateKeys = _b.indeterminateKeys;\n                checkedKeys = newCheckedKeys;\n                halfCheckedKeys = indeterminateKeys;\n                if (!('checkedKeys' in _this.props)) {\n                    _this.setState({ checkedKeys: checkedKeys, halfCheckedKeys: halfCheckedKeys });\n                }\n                else {\n                    _this.setState({ halfCheckedKeys: halfCheckedKeys });\n                }\n                if (checkedStrategy === Tree.SHOW_PARENT) {\n                    checkedKeys = checkedKeys.filter(function (x) {\n                        var item = _this.key2nodeProps[x];\n                        if (!item || checkedKeys.indexOf(item.parentKey) === -1) {\n                            return true;\n                        }\n                    });\n                }\n                else if (checkedStrategy === Tree.SHOW_CHILD) {\n                    checkedKeys = checkedKeys.filter(function (x) {\n                        var _a, _b;\n                        var item = _this.key2nodeProps[x];\n                        if (!item ||\n                            !((_a = item.children) === null || _a === void 0 ? void 0 : _a.length) ||\n                            ((_b = item.children) === null || _b === void 0 ? void 0 : _b.every(function (x) { return checkedKeys.indexOf(x._key) === -1; }))) {\n                            return true;\n                        }\n                    });\n                }\n            }\n            onCheck &&\n                onCheck(checkedKeys, __assign({ checkedNodes: _this.getCacheNode(checkedKeys), checked: checked, halfCheckedKeys: halfCheckedKeys, halfCheckedNodes: _this.getCacheNode(halfCheckedKeys) }, extra));\n        };\n        _this.handleLoadMore = function (node) {\n            var loadMore = _this.props.loadMore;\n            if (isFunction(loadMore)) {\n                var _a = _this.state, _b = _a.loadingKeys, loadingKeys = _b === void 0 ? [] : _b, loadedKeys = _a.loadedKeys;\n                _this.setState({\n                    loadingKeys: Array.from(new Set(__spreadArray(__spreadArray([], __read(loadingKeys), false), [node._key], false))),\n                    loadedKeys: loadedKeys.filter(function (x) { return x !== node._key; }),\n                }, function () { return __awaiter(_this, void 0, void 0, function () {\n                    var e_1;\n                    return __generator(this, function (_a) {\n                        switch (_a.label) {\n                            case 0:\n                                _a.trys.push([0, 2, , 3]);\n                                return [4 /*yield*/, loadMore(this.getCacheNode([node._key])[0])];\n                            case 1:\n                                _a.sent();\n                                this.setState({\n                                    loadedKeys: Array.from(new Set(__spreadArray(__spreadArray([], __read(this.state.loadedKeys), false), [node._key], false))),\n                                    loadingKeys: this.state.loadingKeys.filter(function (x) { return x !== node._key; }),\n                                });\n                                this.handleExpand(!node.expanded, node._key);\n                                return [3 /*break*/, 3];\n                            case 2:\n                                e_1 = _a.sent();\n                                console.error('[tree]load data error: ', e_1);\n                                this.setState({\n                                    loadingKeys: this.state.loadingKeys.filter(function (x) { return x !== node._key; }),\n                                });\n                                return [3 /*break*/, 3];\n                            case 3: return [2 /*return*/];\n                        }\n                    });\n                }); });\n            }\n        };\n        _this.handleNodeDragStart = function (e, node) {\n            _this.dragNode = _this.getCacheNode([node._key])[0];\n            _this.dropPosition = 0;\n            var onDragStart = _this.props.onDragStart;\n            onDragStart && onDragStart(e, _this.getCacheNode([node._key])[0]);\n        };\n        _this.handleNodeDragEnd = function (e, node) {\n            _this.dragNode = null;\n            _this.dropPosition = 0;\n            var onDragEnd = _this.props.onDragEnd;\n            onDragEnd && onDragEnd(e, _this.getCacheNode([node._key])[0]);\n        };\n        _this.handleNodeDragOver = function (e, node, dropPosition) {\n            _this.dropPosition = dropPosition;\n            var onDragOver = _this.props.onDragOver;\n            onDragOver && onDragOver(e, _this.getCacheNode([node._key])[0]);\n        };\n        _this.handleNodeDragLeave = function (e, node) {\n            // this.dropNode = null;\n            _this.dropPosition = 0;\n            var onDragLeave = _this.props.onDragLeave;\n            onDragLeave && onDragLeave(e, _this.getCacheNode([node._key])[0]);\n        };\n        _this.isChildOfNode = function (node, target) {\n            var current = _this.key2nodeProps[node.parentKey];\n            while (current) {\n                var _key = current._key, parentKey = current.parentKey;\n                if (_key === target.props._key) {\n                    return true;\n                }\n                if (parentKey === _key)\n                    return;\n                current = _this.key2nodeProps[parentKey];\n            }\n        };\n        _this.isSameNode = function (node1, node2) {\n            // 对比 node\n            if (node1 === undefined || node2 === undefined)\n                return false;\n            if (node1 === node2)\n                return true;\n            // 对比 node.key\n            var key1 = node1.key;\n            var key2 = node2.key;\n            if (key1 !== undefined || key2 !== undefined)\n                return key1 === key2;\n            // 对比 node.props._key\n            var _key1 = node1.props._key;\n            var _key2 = node2.props._key;\n            if (_key1 === undefined && _key2 === undefined)\n                return false;\n            return _key1 === _key2;\n        };\n        _this.handleNodeDrop = function (e, node, dropPosition) {\n            if (_this.dragNode) {\n                var allowDrop = _this.getMergedProps().allowDrop;\n                var onDrop = _this.props.onDrop;\n                var nodeInstance = _this.getCacheNode([node._key])[0];\n                if (onDrop &&\n                    !_this.isChildOfNode(node, _this.dragNode) &&\n                    !_this.isSameNode(_this.dragNode, nodeInstance)) {\n                    if (allowDrop &&\n                        !allowDrop({ dropNode: nodeInstance, dragNode: _this.dragNode, dropPosition: dropPosition })) {\n                        return;\n                    }\n                    onDrop({\n                        dragNode: _this.dragNode,\n                        dropNode: nodeInstance,\n                        dropPosition: dropPosition,\n                        e: e,\n                    });\n                }\n            }\n        };\n        _this.handleAllowDrop = function (node, dropPosition) {\n            var allowDrop = _this.getMergedProps().allowDrop;\n            var isAllowDrop = true;\n            if (typeof allowDrop === 'function') {\n                isAllowDrop = allowDrop({\n                    dropNode: _this.getCacheNode([node._key])[0],\n                    dragNode: _this.dragNode,\n                    dropPosition: dropPosition,\n                });\n            }\n            return isAllowDrop;\n        };\n        _this.handleExpand = function (expanded, key) {\n            var _a = _this.state, currentExpandKeys = _a.currentExpandKeys, _b = _a.expandedKeys, expandedKeys = _b === void 0 ? [] : _b;\n            var animation = _this.getMergedProps().animation;\n            var onExpand = _this.props.onExpand;\n            if (currentExpandKeys.indexOf(key) > -1) {\n                // 如果当前key节点正在展开/收起，不执行操作。\n                return;\n            }\n            var newExpandedKeys = [];\n            if (expanded) {\n                newExpandedKeys = Array.from(new Set(__spreadArray(__spreadArray([], __read(expandedKeys), false), [key], false)));\n            }\n            else {\n                newExpandedKeys = expandedKeys.filter(function (k) { return k !== key; });\n            }\n            if (!('expandedKeys' in _this.props)) {\n                _this.setState({\n                    expandedKeys: newExpandedKeys,\n                    currentExpandKeys: animation ? __spreadArray(__spreadArray([], __read(currentExpandKeys), false), [key], false) : [],\n                });\n            }\n            onExpand &&\n                onExpand(newExpandedKeys, {\n                    expanded: expanded,\n                    node: _this.getCacheNode([key])[0],\n                    expandedNodes: _this.getCacheNode(newExpandedKeys),\n                });\n        };\n        _this.getCacheNode = function (key) {\n            // __ArcoAdapterMode__ ，在大数据下获取选中结点信息时，构建 Node 会导致性能消耗过大，\n            // 通过 __ArcoAdapterMode__ 开启构建数据一个类似 node 的数据结构，提升性能，大版本升级时调整所有回调类型的 NodeInstance 的参数\n            var __ArcoAdapterMode__ = _this.props.__ArcoAdapterMode__;\n            var originData = [];\n            [].concat(key).forEach(function (_key) {\n                var data = _this.key2nodeProps[_key];\n                if (data) {\n                    originData.push(data);\n                }\n            });\n            var nodeProps = _this.getNodeProps(originData);\n            return nodeProps.map(function (_props) {\n                return __ArcoAdapterMode__ ? ({\n                    props: _props,\n                    key: key,\n                }) : (React.createElement(Node, __assign({}, _props, { key: _props.key })));\n            });\n        };\n        // 转换为 set 类型，便于查找。主要是传递给node-list使用\n        _this.getDataSet = function (dataSet) {\n            var _a, _b, _c, _d;\n            return {\n                expandedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.expandedKeysSet) || new Set(((_a = _this.state) === null || _a === void 0 ? void 0 : _a.expandedKeys) || []),\n                checkedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.checkedKeysSet) || new Set(((_b = _this.state) === null || _b === void 0 ? void 0 : _b.checkedKeys) || []),\n                selectedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.selectedKeysSet) || new Set(((_c = _this.state) === null || _c === void 0 ? void 0 : _c.selectedKeys) || []),\n                halfCheckedKeysSet: (dataSet === null || dataSet === void 0 ? void 0 : dataSet.halfCheckedKeysSet) || new Set(((_d = _this.state) === null || _d === void 0 ? void 0 : _d.halfCheckedKeys) || []),\n            };\n        };\n        // dataSet:传入构建好的expandedKeysSet,, checkedKeysSet, halfCheckedKeysSet ，性能优化\n        _this.getNodeProps = function (nodes, dataSet) {\n            var autoExpandParent = _this.getMergedProps().autoExpandParent;\n            var loadMore = _this.props.loadMore;\n            var _a = _this.state, selectedKeys = _a.selectedKeys, expandedKeys = _a.expandedKeys, checkedKeys = _a.checkedKeys, _b = _a.loadingKeys, loadingKeys = _b === void 0 ? [] : _b, _c = _a.loadedKeys, loadedKeys = _c === void 0 ? [] : _c;\n            var _d = _this.getDataSet(dataSet), expandedKeysSet = _d.expandedKeysSet, checkedKeysSet = _d.checkedKeysSet, selectedKeysSet = _d.selectedKeysSet, halfCheckedKeysSet = _d.halfCheckedKeysSet;\n            var processNodeProps = function (nodeProps) {\n                var hasChildren = nodeProps.children && nodeProps.children.length;\n                var otherProps = {\n                    isLeaf: !hasChildren,\n                    autoExpandParent: hasChildren ? autoExpandParent : false,\n                    expanded: expandedKeysSet\n                        ? expandedKeysSet.has(nodeProps._key)\n                        : expandedKeys.indexOf(nodeProps._key) > -1,\n                };\n                if (loadMore) {\n                    var loaded = loadedKeys.indexOf(nodeProps._key) > -1;\n                    otherProps.loaded = loaded;\n                    otherProps.isLeaf = hasChildren ? false : nodeProps.isLeaf;\n                }\n                return __assign(__assign(__assign({}, nodeProps), otherProps), { selected: selectedKeysSet.has(nodeProps._key), indeterminated: halfCheckedKeysSet.has(nodeProps._key), loading: loadingKeys.indexOf(nodeProps._key) > -1, checked: checkedKeysSet.has(nodeProps._key), selectedKeys: selectedKeys, checkedKeys: checkedKeys, loadingKeys: loadingKeys, loadedKeys: loadedKeys, expandedKeys: expandedKeys, childrenData: nodeProps.children || [], children: null });\n            };\n            return isArray(nodes)\n                ? nodes.map(function (node) {\n                    return processNodeProps(node);\n                })\n                : processNodeProps(nodes);\n        };\n        _this.handleExpandEnd = function (key) {\n            // 获取最新 state 并更新，因为在 react 18 下批处理，可能多个节点并行执行动画时，导致更新 currentExpandKeys 相互覆盖\n            _this.setState(function (state) {\n                var currentExpandKeys = state.currentExpandKeys;\n                if (currentExpandKeys.indexOf(key) > -1) {\n                    return {\n                        currentExpandKeys: currentExpandKeys.filter(function (v) { return v !== key; }),\n                    };\n                }\n                return {};\n            });\n        };\n        // 获取tree的state数据，在子组件里使用。\n        _this.getTreeState = function () {\n            return _this.state;\n        };\n        _this.state = {};\n        var treeData = _this.getTreeData();\n        var nodeList = _this.getNodeList(treeData, context.getPrefixCls('tree'));\n        var _a = _this.getInitCheckedKeys(props.checkedKeys || props.defaultCheckedKeys || []), checkedKeys = _a.checkedKeys, halfCheckedKeys = _a.halfCheckedKeys;\n        _this.state = {\n            selectedKeys: props.selectedKeys || props.defaultSelectedKeys || [],\n            checkedKeys: checkedKeys,\n            halfCheckedKeys: halfCheckedKeys,\n            expandedKeys: _this.getInitExpandedKeys(props.expandedKeys || props.defaultExpandedKeys),\n            loadedKeys: [],\n            loadingKeys: [],\n            currentExpandKeys: [],\n            nodeList: nodeList,\n        };\n        return _this;\n    }\n    Tree.getDerivedStateFromProps = function (nextProps, state) {\n        var newState = {};\n        if ('selectedKeys' in nextProps && !isEqualWith(nextProps.selectedKeys, state.selectedKeys)) {\n            newState.selectedKeys = nextProps.selectedKeys || [];\n        }\n        if (Object.keys(newState).length) {\n            return newState;\n        }\n        return null;\n    };\n    Tree.prototype.componentDidUpdate = function (prevProps) {\n        // 类似 componentWillReceiveProps 周期\n        var _this = this;\n        var prevMergedProps = this.getMergedProps(prevProps);\n        var mergedProps = this.getMergedProps();\n        if (prevProps !== this.props || !isEqualWith(prevMergedProps, mergedProps)) {\n            var newState_1 = {};\n            if (this.needUpdateTreeData(__assign({ prevMergedProps: prevMergedProps }, prevProps), __assign(__assign({}, mergedProps), this.props))) {\n                var treeData = this.getTreeData();\n                var nodeList = this.getNodeList(treeData);\n                newState_1.treeData = treeData;\n                newState_1.nodeList = nodeList;\n            }\n            if (newState_1.treeData ||\n                ('checkedKeys' in this.props && !isEqualWith(prevProps.checkedKeys, this.props.checkedKeys))) {\n                // 说明treeData变了，需要比较下内部checkedKeys\n                var currentCheckedKeys = 'checkedKeys' in this.props ? this.props.checkedKeys : this.state.checkedKeys;\n                var _a = this.getInitCheckedKeys(currentCheckedKeys || []), halfCheckedKeys = _a.halfCheckedKeys, checkedKeys = _a.checkedKeys;\n                if (!isEqualWith(checkedKeys, this.state.checkedKeys)) {\n                    newState_1.checkedKeys = checkedKeys;\n                }\n                if (!isEqualWith(halfCheckedKeys, this.state.halfCheckedKeys)) {\n                    newState_1.halfCheckedKeys = halfCheckedKeys;\n                }\n            }\n            if (this.props.checkStrictly &&\n                'halfCheckedKeys' in this.props &&\n                !isEqualWith(prevProps.halfCheckedKeys, this.props.halfCheckedKeys)) {\n                newState_1.halfCheckedKeys = this.props.halfCheckedKeys;\n            }\n            if ('expandedKeys' in this.props &&\n                !isEqualWith(this.props.expandedKeys, prevProps.expandedKeys)) {\n                newState_1.expandedKeys = this.props.expandedKeys;\n                // 比较前后expandKeys的改变，去重，得到需要收起/展开的动画\n                // 例如 [...[1, 2, 3], ...[1, 3, 4]] 。那么 2 会收起，4会展开。\n                // 如果父节点正在执行收起/展开逻辑，子节点不需要出现在 currentExpandKeys 数组。\n                newState_1.currentExpandKeys = !mergedProps.animation\n                    ? []\n                    : __spreadArray(__spreadArray([], __read(newState_1.expandedKeys), false), __read(this.state.expandedKeys), false).reduce(function (total, next) {\n                        var index = total.indexOf(next);\n                        if (index === -1) {\n                            total.push(next);\n                        }\n                        else {\n                            total.splice(index, 1);\n                        }\n                        return total;\n                    }, [])\n                        .filter(function (key, _, array) {\n                        var _a;\n                        if (_this.key2nodeProps[key]) {\n                            var pathParentKeys = _this.key2nodeProps[key].pathParentKeys;\n                            if (pathParentKeys.some(function (x) { return array.indexOf(x) > -1; })) {\n                                return false;\n                            }\n                            return (_a = _this.key2nodeProps[key].children) === null || _a === void 0 ? void 0 : _a.length;\n                        }\n                    });\n            }\n            var currentExpandKeys = newState_1.currentExpandKeys || this.state.currentExpandKeys;\n            if (newState_1.treeData && currentExpandKeys) {\n                newState_1.currentExpandKeys = currentExpandKeys.filter(function (key) {\n                    var item = newState_1.treeData.find(function (node) { return node.key === key; });\n                    return item && item.children && item.children.length;\n                });\n            }\n            if (Object.keys(newState_1).length) {\n                this.setState(newState_1);\n            }\n        }\n    };\n    Tree.prototype.render = function () {\n        var _a;\n        var _this = this;\n        var _b = this.getMergedProps(), className = _b.className, showLine = _b.showLine, size = _b.size, _virtualListProps = _b.virtualListProps, height = _b.height, style = _b.style, icons = _b.icons, actionOnClick = _b.actionOnClick, animation = _b.animation;\n        var _c = this.props, loadMore = _c.loadMore, checkable = _c.checkable;\n        // 兼容旧 APi : height\n        var virtualListProps = _virtualListProps\n            ? __assign({ threshold: 100 }, _virtualListProps) : height\n            ? { height: height, threshold: 100 }\n            : {\n                threshold: null,\n            };\n        var _d = this.context, getPrefixCls = _d.getPrefixCls, rtl = _d.rtl;\n        var prefixCls = getPrefixCls('tree');\n        return (React.createElement(TreeContext.Provider, { value: {\n                icons: icons,\n                animation: animation,\n                key2nodeProps: this.key2nodeProps,\n                getFieldInfo: this.getFieldInfo,\n                getTreeState: this.getTreeState,\n                getNodeProps: this.getNodeProps,\n                onExpandEnd: animation ? this.handleExpandEnd : function () { },\n                onSelect: this.handleSelect,\n                onCheck: this.handleCheck,\n                onNodeDragStart: this.handleNodeDragStart,\n                onNodeDragEnd: this.handleNodeDragEnd,\n                onNodeDragLeave: this.handleNodeDragLeave,\n                onNodeDragOver: this.handleNodeDragOver,\n                onNodeDrop: this.handleNodeDrop,\n                onExpand: this.handleExpand,\n                renderExtra: this.props.renderExtra,\n                renderTitle: this.props.renderTitle,\n                loadMore: loadMore && this.handleLoadMore,\n                allowDrop: this.handleAllowDrop,\n                actionOnClick: actionOnClick,\n                virtualListProps: virtualListProps,\n            } },\n            React.createElement(NodeList, { ref: function (node) {\n                    _this.nodeListRef = node;\n                }, className: cs(prefixCls, (_a = {},\n                    _a[prefixCls + \"-checkable\"] = checkable,\n                    _a[prefixCls + \"-show-line\"] = showLine,\n                    _a[prefixCls + \"-size-\" + size] = size,\n                    _a[prefixCls + \"-rtl\"] = rtl,\n                    _a), className), style: style, filterNode: this.props.filterNode, virtualListProps: virtualListProps, expandedKeys: this.state.expandedKeys, currentExpandKeys: this.state.currentExpandKeys, getNodeProps: this.getNodeProps, getDataSet: this.getDataSet, nodeList: this.state.nodeList, onMouseDown: this.props.onMouseDown, ariaProps: __assign({ role: 'tree', 'aria-multiselectable': this.props.multiple, tabIndex: 0 }, pickDataAttributes(this.props)) })));\n    };\n    Tree.displayName = 'Tree';\n    Tree.SHOW_PARENT = 'parent';\n    Tree.SHOW_ALL = 'all';\n    Tree.SHOW_CHILD = 'child';\n    Tree.Node = Node;\n    Tree.contextType = ConfigContext;\n    return Tree;\n}(Component));\nexport default Tree;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}