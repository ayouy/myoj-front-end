{"ast":null,"code":"import \"core-js/modules/esnext.iterator.map.js\";\nimport React, { useMemo } from 'react';\nimport IconDown from '../../../icon/react-icon/IconDown';\nimport Dropdown from '../../Dropdown';\nimport Menu from '../../Menu';\nimport IconHover from '../../_class/icon-hover';\nimport { isNull } from '../../_util/is';\nexport default function DropdownIcon(props) {\n  var prefixCls = props.prefixCls,\n    currentOffset = props.currentOffset,\n    headerSize = props.headerSize,\n    headerWrapperSize = props.headerWrapperSize,\n    getTitleRef = props.getTitleRef,\n    paneChildren = props.paneChildren,\n    direction = props.direction,\n    icon = props.icon;\n  var paneKeys = paneChildren.map(function (child) {\n    return child.key;\n  });\n  var size = direction === 'vertical' ? headerSize.height : headerSize.width;\n  var wrapperSize = direction === 'vertical' ? headerWrapperSize.height : headerWrapperSize.width;\n  var tabSizes = useMemo(function () {\n    var map = {};\n    var wrapperRect = headerWrapperSize.domRect;\n    paneKeys.map(function (key) {\n      var titleDom = getTitleRef(key);\n      if (!titleDom) return;\n      var rect = titleDom.getBoundingClientRect();\n      map[key] = {\n        left: rect.left - wrapperRect.left,\n        right: rect.left - wrapperRect.left + rect.width,\n        top: rect.top - wrapperRect.top,\n        bottom: rect.top - wrapperRect.top + rect.height\n      };\n    });\n    return map;\n  }, [paneKeys.join(','), size, wrapperSize]);\n  var rangeIndex = useMemo(function () {\n    var start = -1;\n    var end = -1;\n    for (var key in tabSizes) {\n      var _a = tabSizes[key],\n        left = _a.left,\n        right = _a.right;\n      if (left >= currentOffset && right - currentOffset <= wrapperSize && start === -1) {\n        start = paneKeys.indexOf(key);\n        end = start;\n      }\n      if (left >= currentOffset && right - currentOffset > wrapperSize) {\n        end = paneKeys.indexOf(key);\n        break;\n      }\n    }\n    return [start, end];\n  }, [tabSizes, paneKeys.join(','), currentOffset]);\n  if (isNull(icon)) {\n    return null;\n  }\n  return React.createElement(Dropdown, {\n    trigger: \"click\",\n    droplist: React.createElement(Menu, {\n      onClickMenuItem: props.onClickTab\n    }, paneChildren.map(function (child, index) {\n      if (index < rangeIndex[0] || index >= rangeIndex[1]) {\n        return React.createElement(Menu.Item, {\n          key: child.key,\n          disabled: child.disabled\n        }, child.props.title);\n      }\n    }))\n  }, React.createElement(IconHover, {\n    role: \"button\",\n    \"aria-label\": \"expand tabs\",\n    prefix: prefixCls + \"-dropdown\",\n    className: prefixCls + \"-dropdown-icon\"\n  }, icon || React.createElement(IconDown, null)));\n}","map":{"version":3,"names":["React","useMemo","IconDown","Dropdown","Menu","IconHover","isNull","DropdownIcon","props","prefixCls","currentOffset","headerSize","headerWrapperSize","getTitleRef","paneChildren","direction","icon","paneKeys","map","child","key","size","height","width","wrapperSize","tabSizes","wrapperRect","domRect","titleDom","rect","getBoundingClientRect","left","right","top","bottom","join","rangeIndex","start","end","_a","indexOf","createElement","trigger","droplist","onClickMenuItem","onClickTab","index","Item","disabled","title","role","prefix","className"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Tabs/tab-header/dropdown-icon.js"],"sourcesContent":["import React, { useMemo } from 'react';\nimport IconDown from '../../../icon/react-icon/IconDown';\nimport Dropdown from '../../Dropdown';\nimport Menu from '../../Menu';\nimport IconHover from '../../_class/icon-hover';\nimport { isNull } from '../../_util/is';\nexport default function DropdownIcon(props) {\n    var prefixCls = props.prefixCls, currentOffset = props.currentOffset, headerSize = props.headerSize, headerWrapperSize = props.headerWrapperSize, getTitleRef = props.getTitleRef, paneChildren = props.paneChildren, direction = props.direction, icon = props.icon;\n    var paneKeys = paneChildren.map(function (child) { return child.key; });\n    var size = direction === 'vertical' ? headerSize.height : headerSize.width;\n    var wrapperSize = direction === 'vertical' ? headerWrapperSize.height : headerWrapperSize.width;\n    var tabSizes = useMemo(function () {\n        var map = {};\n        var wrapperRect = headerWrapperSize.domRect;\n        paneKeys.map(function (key) {\n            var titleDom = getTitleRef(key);\n            if (!titleDom)\n                return;\n            var rect = titleDom.getBoundingClientRect();\n            map[key] = {\n                left: rect.left - wrapperRect.left,\n                right: rect.left - wrapperRect.left + rect.width,\n                top: rect.top - wrapperRect.top,\n                bottom: rect.top - wrapperRect.top + rect.height,\n            };\n        });\n        return map;\n    }, [paneKeys.join(','), size, wrapperSize]);\n    var rangeIndex = useMemo(function () {\n        var start = -1;\n        var end = -1;\n        for (var key in tabSizes) {\n            var _a = tabSizes[key], left = _a.left, right = _a.right;\n            if (left >= currentOffset && right - currentOffset <= wrapperSize && start === -1) {\n                start = paneKeys.indexOf(key);\n                end = start;\n            }\n            if (left >= currentOffset && right - currentOffset > wrapperSize) {\n                end = paneKeys.indexOf(key);\n                break;\n            }\n        }\n        return [start, end];\n    }, [tabSizes, paneKeys.join(','), currentOffset]);\n    if (isNull(icon)) {\n        return null;\n    }\n    return (React.createElement(Dropdown, { trigger: \"click\", droplist: React.createElement(Menu, { onClickMenuItem: props.onClickTab }, paneChildren.map(function (child, index) {\n            if (index < rangeIndex[0] || index >= rangeIndex[1]) {\n                return (React.createElement(Menu.Item, { key: child.key, disabled: child.disabled }, child.props.title));\n            }\n        })) },\n        React.createElement(IconHover, { role: \"button\", \"aria-label\": \"expand tabs\", prefix: prefixCls + \"-dropdown\", className: prefixCls + \"-dropdown-icon\" }, icon || React.createElement(IconDown, null))));\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}