{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport React, { useState, useRef, useEffect, useContext, useImperativeHandle, forwardRef } from 'react';\nimport Trigger from '../Trigger';\nimport DateInput from '../_class/picker/input';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport omit from '../_util/omit';\nimport { getDayjsValue, dayjs, getNow, getValueWithTime, methods, isDayjsChange, toLocal, toTimezone } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport PickerContext from './context';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport { getDefaultWeekStart, getLocaleDayjsValue } from './util';\nimport { pickDataAttributes } from '../_util/pick';\nfunction getFormat(props) {\n  var format = props.format,\n    picker = props.picker,\n    showTime = props.showTime;\n  var valueFormat;\n  var mode = props.mode || picker.props.pickerType;\n  switch (mode) {\n    case 'date':\n      valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n      break;\n    case 'month':\n      valueFormat = 'YYYY-MM';\n      break;\n    case 'year':\n      valueFormat = 'YYYY';\n      break;\n    case 'week':\n      valueFormat = 'gggg-wo';\n      break;\n    case 'quarter':\n      valueFormat = 'YYYY-[Q]Q';\n      break;\n    default:\n      valueFormat = 'YYYY-MM-DD';\n  }\n  if (format) {\n    valueFormat = format;\n  }\n  return valueFormat;\n}\nvar defaultProps = {\n  allowClear: true,\n  unmountOnExit: true,\n  position: 'bl',\n  editable: true,\n  showNowBtn: true\n};\nvar triggerPopupAlign = {\n  bottom: 4\n};\nvar Picker = function (baseProps, ref) {\n  var _a = useContext(ConfigContext),\n    getPrefixCls = _a.getPrefixCls,\n    locale = _a.locale,\n    ctxSize = _a.size,\n    componentConfig = _a.componentConfig,\n    rtl = _a.rtl;\n  if (rtl) {\n    defaultProps.position = 'br';\n  }\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n  var allowClear = props.allowClear,\n    className = props.className,\n    style = props.style,\n    placeholder = props.placeholder,\n    getPopupContainer = props.getPopupContainer,\n    disabled = props.disabled,\n    position = props.position,\n    error = props.error,\n    status = props.status,\n    unmountOnExit = props.unmountOnExit,\n    editable = props.editable,\n    triggerProps = props.triggerProps,\n    picker = props.picker,\n    shortcuts = props.shortcuts,\n    onSelect = props.onSelect,\n    onVisibleChange = props.onVisibleChange,\n    propsValue = props.value,\n    onChange = props.onChange,\n    icons = props.icons,\n    disabledDate = props.disabledDate,\n    showTime = props.showTime,\n    showNowBtn = props.showNowBtn,\n    onSelectShortcut = props.onSelectShortcut,\n    extra = props.extra,\n    shortcutsPlacementLeft = props.shortcutsPlacementLeft,\n    onOk = props.onOk,\n    defaultPickerValue = props.defaultPickerValue,\n    pickerValue = props.pickerValue,\n    onPickerValueChange = props.onPickerValueChange,\n    triggerElement = props.triggerElement,\n    utcOffset = props.utcOffset,\n    timezone = props.timezone,\n    panelRender = props.panelRender,\n    inputProps = props.inputProps;\n  var prefixCls = getPrefixCls('picker');\n  var DATEPICKER_LOCALE = locale.DatePicker;\n  var weekStart = isUndefined(props.dayStartOfWeek) ? getDefaultWeekStart(locale.dayjsLocale) : props.dayStartOfWeek;\n  // picker.props.pickerType: Compatible with defaultProps\n  var mode = props.mode || picker.props.pickerType;\n  var refInput = useRef(null);\n  var refPanel = useRef(null);\n  var refShortcuts = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function () {\n        refInput.current && refInput.current.focus && refInput.current.focus();\n      },\n      blur: function () {\n        refInput.current && refInput.current.blur && refInput.current.blur();\n      }\n    };\n  }, []);\n  var realFormat = getFormat(props);\n  var format = realFormat;\n  if (typeof format === 'function') {\n    format = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n  }\n  function getDefaultValue() {\n    var value;\n    if (props.value) {\n      value = getDayjsValue(props.value, format, utcOffset, timezone);\n    } else {\n      value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n    }\n    return value;\n  }\n  var _b = __read(useState(getDefaultValue()), 2),\n    value = _b[0],\n    setValue = _b[1];\n  var _c = __read(useState(props.popupVisible), 2),\n    popupVisible = _c[0],\n    setPopupVisible = _c[1];\n  var _d = __read(useState(false), 2),\n    isTimePanel = _d[0],\n    setIsTimePanel = _d[1];\n  var _e = __read(useState(), 2),\n    hoverPlaceholderValue = _e[0],\n    setHoverPlaceholderValue = _e[1];\n  var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n  var mergedValue = 'value' in props ? getDayjsValue(propsValue, format, utcOffset, timezone) : value;\n  var defaultPageShowDate = mergedValue || getDayjsValue(defaultPickerValue, format) || getNow();\n  var _f = __read(useState(), 2),\n    inputValue = _f[0],\n    setInputValue = _f[1];\n  var _g = __read(useState(), 2),\n    valueShow = _g[0],\n    setValueShow = _g[1];\n  var _h = __read(useState(), 2),\n    shortcutValue = _h[0],\n    setShortcutValue = _h[1];\n  var _j = __read(useState(defaultPageShowDate), 2),\n    pageShowDate = _j[0],\n    setPageShowDate = _j[1];\n  var mergedPageShowDate = getDayjsValue(pickerValue, format) || pageShowDate;\n  var panelValue = shortcutValue || valueShow || mergedValue;\n  var _k = __read(useState(mode), 2),\n    panelMode = _k[0],\n    setPanelMode = _k[1];\n  var defaultTimeValue = isObject(showTime) && getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss') || getNow(utcOffset, timezone);\n  var timeValue = panelValue || defaultTimeValue;\n  function focusInput() {\n    var _a, _b;\n    refInput.current && ((_b = (_a = refInput.current).focus) === null || _b === void 0 ? void 0 : _b.call(_a));\n  }\n  function blurInput() {\n    refInput.current && refInput.current.blur && refInput.current.blur();\n  }\n  var previousUtcOffset = usePrevious(utcOffset);\n  var previousTimezone = usePrevious(timezone);\n  // when timezone or utcOffset change changed\n  useUpdate(function () {\n    if (value && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n      var localValue = toLocal(value, previousUtcOffset, previousTimezone);\n      setValue(toTimezone(localValue, utcOffset, timezone));\n    }\n  }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n  useEffect(function () {\n    setInputValue(undefined);\n    setHoverPlaceholderValue(undefined);\n    if (mergedPopupVisible) {\n      setPageShowDate(defaultPageShowDate);\n      if (shortcutsPlacementLeft) {\n        refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n      }\n    } else {\n      setValueShow(undefined);\n      setShortcutValue(undefined);\n      setTimeout(function () {\n        setIsTimePanel(false);\n        setPanelMode(mode);\n        blurInput();\n      }, 100);\n    }\n  }, [mergedPopupVisible]);\n  function visibleChange(visible) {\n    if (visible) {\n      setOpen(visible, function () {\n        focusInput();\n      });\n    } else {\n      setOpen(false);\n    }\n  }\n  function handlePickerValueChange(v) {\n    onPickerValueChange && onPickerValueChange(v.format(format), v);\n  }\n  function setOpen(visible, callback) {\n    setPopupVisible(visible);\n    onVisibleChange && onVisibleChange(visible);\n    callback === null || callback === void 0 ? void 0 : callback();\n  }\n  function onClear(e) {\n    e.stopPropagation();\n    setValue(undefined);\n    setValueShow(undefined);\n    onHandleChange(undefined);\n    props.onClear && props.onClear();\n  }\n  function onClickConfirmBtn() {\n    var pv = getLocaleDayjsValue(panelValue, locale.dayjsLocale);\n    onConfirmValue();\n    onOk && onOk(pv && pv.format(format), pv);\n  }\n  function onConfirmValue() {\n    setValue(panelValue);\n    onHandleChange(panelValue);\n    setOpen(false);\n  }\n  function onHandleSelect(_, date, now) {\n    setInputValue(undefined);\n    setHoverPlaceholderValue(undefined);\n    if (showTime) {\n      var newTime = now ? date : getValueWithTime(date, timeValue);\n      setValueShow(newTime);\n      setPageShowDate(newTime);\n      var localTime = getLocaleDayjsValue(toLocal(newTime, utcOffset, timezone), locale.dayjsLocale);\n      onSelect && onSelect(localTime.format(format), localTime);\n    } else {\n      var localTime = getLocaleDayjsValue(toLocal(date, utcOffset, timezone).locale(locale.dayjsLocale), locale.dayjsLocale);\n      onSelect && onSelect(localTime ? localTime.format(format) : undefined, localTime);\n      setValue(date);\n      onHandleChange(date);\n      setOpen(false);\n    }\n  }\n  function onHandleChange(newValue) {\n    if (isDayjsChange(newValue, mergedValue)) {\n      var localValue = getLocaleDayjsValue(toLocal(newValue, utcOffset, timezone), locale.dayjsLocale);\n      onChange && onChange(localValue ? localValue.format(format) : undefined, localValue);\n    }\n  }\n  function onTimePickerSelect(_, time) {\n    var _valueShow = panelValue || getNow(utcOffset, timezone);\n    var newValueShow = getValueWithTime(_valueShow, time);\n    setValueShow(newValueShow);\n    var localNewValueShow = getLocaleDayjsValue(toLocal(newValueShow, utcOffset, timezone), locale.dayjsLocale);\n    onSelect && onSelect(localNewValueShow.format(format), localNewValueShow);\n  }\n  function isValid(time) {\n    return typeof time === 'string' && dayjs(time, format).format(format) === time && (typeof disabledDate === 'function' ? !disabledDate(dayjs(time, format)) : true);\n  }\n  function onChangeInput(e) {\n    var niv = e.target.value;\n    setInputValue(niv);\n    if (!mergedPopupVisible) {\n      setOpen(true);\n    }\n    if (isValid(niv)) {\n      // https://github.com/arco-design/arco-design/issues/1986\n      var newValue = getDayjsValue(niv, format);\n      setValueShow(newValue);\n      setPageShowDate(newValue);\n      setInputValue(undefined);\n    }\n  }\n  function onPressEnter() {\n    if (panelValue) {\n      onConfirmValue();\n      blurInput();\n    } else if (mergedPopupVisible) {\n      setOpen(false);\n    }\n  }\n  function changePageShowDate(type, unit, num) {\n    if (num === void 0) {\n      num = 1;\n    }\n    var newPageShowDate;\n    if (type === 'prev') {\n      newPageShowDate = methods.subtract(mergedPageShowDate, num, unit);\n    }\n    if (type === 'next') {\n      newPageShowDate = methods.add(mergedPageShowDate, num, unit);\n    }\n    handlePickerValueChange(newPageShowDate);\n    setPageShowDate(newPageShowDate);\n  }\n  function getHeaderOperations(pickMode) {\n    if (pickMode === void 0) {\n      pickMode = mode;\n    }\n    if (pickMode === 'date' || pickMode === 'week') {\n      return {\n        onPrev: function () {\n          return changePageShowDate('prev', 'month');\n        },\n        onNext: function () {\n          return changePageShowDate('next', 'month');\n        },\n        onSuperPrev: function () {\n          return changePageShowDate('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDate('next', 'year');\n        }\n      };\n    }\n    if (pickMode === 'month' || pickMode === 'quarter') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDate('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDate('next', 'year');\n        }\n      };\n    }\n    if (pickMode === 'year') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDate('prev', 'year', 10);\n        },\n        onSuperNext: function () {\n          return changePageShowDate('next', 'year', 10);\n        }\n      };\n    }\n  }\n  function onSelectNow() {\n    var now = getLocaleDayjsValue(getNow(utcOffset, timezone), locale.dayjsLocale);\n    handlePickerValueChange(now);\n    onHandleSelect(now.format(format), now, true);\n  }\n  function onMouseEnterCell(value, disabled) {\n    if (!disabled) {\n      var placeHolderValue = showTime ? getValueWithTime(value, timeValue) : value;\n      setHoverPlaceholderValue(typeof realFormat === 'function' ? realFormat(value) : placeHolderValue.locale(locale.dayjsLocale).format(format));\n    }\n  }\n  function onMouseLeaveCell() {\n    setHoverPlaceholderValue(undefined);\n  }\n  function onMouseEnterShortcut(shortcut) {\n    if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n      var sv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n      setPageShowDate(sv);\n      handlePickerValueChange(sv);\n      setShortcutValue(sv);\n    }\n  }\n  function onMouseLeaveShortcut() {\n    var newValue = valueShow || mergedValue || getNow(utcOffset, timezone);\n    setShortcutValue(undefined);\n    setPageShowDate(newValue);\n    handlePickerValueChange(newValue);\n  }\n  function onHandleSelectShortcut(shortcut) {\n    onSelectShortcut && onSelectShortcut(shortcut);\n    if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n      var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n      setValue(time);\n      onHandleChange(time);\n      setOpen(false);\n    }\n  }\n  function onClickSelectTimeBtn() {\n    setIsTimePanel(!isTimePanel);\n  }\n  function renderPopup(panelOnly) {\n    var _a;\n    var classNames = cs(prefixCls + \"-container\", (_a = {}, _a[prefixCls + \"-panel-only\"] = panelOnly, _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft, _a[prefixCls + \"-container-rtl\"] = rtl, _a), panelOnly ? className : '');\n    var shortcutsProps = {\n      prefixCls: prefixCls,\n      showTime: showTime,\n      shortcuts: shortcuts,\n      onSelectNow: onSelectNow,\n      showNowBtn: showNowBtn,\n      onMouseEnterShortcut: onMouseEnterShortcut,\n      onMouseLeaveShortcut: onMouseLeaveShortcut,\n      onSelectShortcut: onHandleSelectShortcut\n    };\n    var shouldShowFooter = showTime && panelMode === 'date' || extra || isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft || !showTime && panelMode === 'date' && showNowBtn;\n    var content = React.createElement(React.Fragment, null, React.cloneElement(picker, __assign(__assign(__assign({}, omit(props, ['style'])), getHeaderOperations()), {\n      getHeaderOperations: getHeaderOperations,\n      onSelect: onHandleSelect,\n      onTimePickerSelect: onTimePickerSelect,\n      onSelectNow: onSelectNow,\n      popupVisible: mergedPopupVisible,\n      format: format,\n      value: panelValue,\n      pageShowDate: mergedPageShowDate,\n      localeName: locale.dayjsLocale,\n      setPageShowDate: function (v) {\n        setPageShowDate(v);\n        handlePickerValueChange(v);\n      },\n      timeValue: timeValue,\n      isTimePanel: isTimePanel,\n      panelMode: panelMode,\n      setPanelMode: setPanelMode,\n      onMouseEnterCell: onMouseEnterCell,\n      onMouseLeaveCell: onMouseLeaveCell\n    })), !!shouldShowFooter && React.createElement(Footer, __assign({}, shortcutsProps, {\n      DATEPICKER_LOCALE: DATEPICKER_LOCALE,\n      disabled: !panelValue,\n      onClickConfirmBtn: onClickConfirmBtn,\n      extra: extra,\n      mode: panelMode,\n      shortcutsPlacementLeft: shortcutsPlacementLeft,\n      onClickSelectTimeBtn: onClickSelectTimeBtn,\n      isTimePanel: isTimePanel\n    })));\n    var contentWithShortcuts = shortcutsPlacementLeft ? React.createElement(React.Fragment, null, React.createElement(Shortcuts, __assign({\n      ref: refShortcuts\n    }, shortcutsProps)), React.createElement(\"div\", {\n      ref: refPanel,\n      className: prefixCls + \"-panel-wrapper\"\n    }, content)) : content;\n    var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n    return React.createElement(\"div\", {\n      className: classNames,\n      onClick: function () {\n        refInput.current && refInput.current.focus && refInput.current.focus();\n      },\n      style: panelOnly ? style : {}\n    }, panelNode);\n  }\n  var size = props.size || ctxSize;\n  var suffixIcon = icons && icons.inputSuffix === null ? null : icons && icons.inputSuffix || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n  var baseInputProps = {\n    style: style,\n    className: className,\n    popupVisible: mergedPopupVisible,\n    format: realFormat,\n    disabled: disabled,\n    error: error,\n    status: status,\n    size: size,\n    onPressEnter: onPressEnter,\n    onClear: onClear,\n    prefix: props.prefix,\n    suffixIcon: suffixIcon,\n    editable: editable && typeof realFormat !== 'function',\n    allowClear: allowClear\n  };\n  return React.createElement(PickerContext.Provider, {\n    value: {\n      utcOffset: utcOffset,\n      timezone: timezone,\n      weekStart: weekStart\n    }\n  }, triggerElement === null ? renderPopup(true) : React.createElement(Trigger, __assign({\n    popup: renderPopup,\n    trigger: \"click\",\n    clickToClose: false,\n    position: position,\n    disabled: disabled,\n    popupAlign: triggerPopupAlign,\n    getPopupContainer: getPopupContainer,\n    onVisibleChange: visibleChange,\n    popupVisible: mergedPopupVisible,\n    classNames: \"slideDynamicOrigin\",\n    unmountOnExit: unmountOnExit\n  }, triggerProps), triggerElement || React.createElement(DateInput, __assign({}, pickDataAttributes(props), baseInputProps, {\n    ref: refInput,\n    placeholder: placeholder || DATEPICKER_LOCALE.placeholder[mode],\n    popupVisible: mergedPopupVisible,\n    value: valueShow || mergedValue,\n    inputValue: hoverPlaceholderValue || inputValue,\n    prefixCls: prefixCls,\n    onChange: onChangeInput,\n    isPlaceholder: !!hoverPlaceholderValue,\n    inputProps: inputProps\n  }))));\n};\nvar PickerComponent = forwardRef(Picker);\nexport default PickerComponent;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","React","useState","useRef","useEffect","useContext","useImperativeHandle","forwardRef","Trigger","DateInput","isArray","isDayjs","isObject","isUndefined","cs","ConfigContext","omit","getDayjsValue","dayjs","getNow","getValueWithTime","methods","isDayjsChange","toLocal","toTimezone","IconCalendar","IconCalendarClock","Footer","Shortcuts","useMergeProps","PickerContext","usePrevious","useUpdate","getDefaultWeekStart","getLocaleDayjsValue","pickDataAttributes","getFormat","props","format","picker","showTime","valueFormat","mode","pickerType","defaultProps","allowClear","unmountOnExit","position","editable","showNowBtn","triggerPopupAlign","bottom","Picker","baseProps","ref","_a","getPrefixCls","locale","ctxSize","size","componentConfig","rtl","DatePicker","className","style","placeholder","getPopupContainer","disabled","status","triggerProps","shortcuts","onSelect","onVisibleChange","propsValue","onChange","icons","disabledDate","onSelectShortcut","extra","shortcutsPlacementLeft","onOk","defaultPickerValue","pickerValue","onPickerValueChange","triggerElement","utcOffset","timezone","panelRender","inputProps","prefixCls","DATEPICKER_LOCALE","weekStart","dayStartOfWeek","dayjsLocale","refInput","refPanel","refShortcuts","focus","current","blur","realFormat","getDefaultValue","defaultValue","_b","setValue","_c","popupVisible","setPopupVisible","_d","isTimePanel","setIsTimePanel","_e","hoverPlaceholderValue","setHoverPlaceholderValue","mergedPopupVisible","mergedValue","defaultPageShowDate","_f","inputValue","setInputValue","_g","valueShow","setValueShow","_h","shortcutValue","setShortcutValue","_j","pageShowDate","setPageShowDate","mergedPageShowDate","panelValue","_k","panelMode","setPanelMode","defaultTimeValue","timeValue","focusInput","blurInput","previousUtcOffset","previousTimezone","localValue","undefined","maxHeight","clientHeight","setTimeout","visibleChange","visible","setOpen","handlePickerValueChange","v","callback","onClear","stopPropagation","onHandleChange","onClickConfirmBtn","pv","onConfirmValue","onHandleSelect","_","date","now","newTime","localTime","newValue","onTimePickerSelect","time","_valueShow","newValueShow","localNewValueShow","isValid","onChangeInput","niv","target","onPressEnter","changePageShowDate","type","unit","num","newPageShowDate","subtract","add","getHeaderOperations","pickMode","onPrev","onNext","onSuperPrev","onSuperNext","onSelectNow","onMouseEnterCell","placeHolderValue","onMouseLeaveCell","onMouseEnterShortcut","shortcut","sv","onMouseLeaveShortcut","onHandleSelectShortcut","onClickSelectTimeBtn","renderPopup","panelOnly","classNames","shortcutsProps","shouldShowFooter","content","createElement","Fragment","cloneElement","localeName","contentWithShortcuts","panelNode","onClick","suffixIcon","inputSuffix","baseInputProps","prefix","Provider","popup","trigger","clickToClose","popupAlign","isPlaceholder","PickerComponent"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/DatePicker/picker.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport React, { useState, useRef, useEffect, useContext, useImperativeHandle, forwardRef, } from 'react';\nimport Trigger from '../Trigger';\nimport DateInput from '../_class/picker/input';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport omit from '../_util/omit';\nimport { getDayjsValue, dayjs, getNow, getValueWithTime, methods, isDayjsChange, toLocal, toTimezone, } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport PickerContext from './context';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport { getDefaultWeekStart, getLocaleDayjsValue } from './util';\nimport { pickDataAttributes } from '../_util/pick';\nfunction getFormat(props) {\n    var format = props.format, picker = props.picker, showTime = props.showTime;\n    var valueFormat;\n    var mode = props.mode || picker.props.pickerType;\n    switch (mode) {\n        case 'date':\n            valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n            break;\n        case 'month':\n            valueFormat = 'YYYY-MM';\n            break;\n        case 'year':\n            valueFormat = 'YYYY';\n            break;\n        case 'week':\n            valueFormat = 'gggg-wo';\n            break;\n        case 'quarter':\n            valueFormat = 'YYYY-[Q]Q';\n            break;\n        default:\n            valueFormat = 'YYYY-MM-DD';\n    }\n    if (format) {\n        valueFormat = format;\n    }\n    return valueFormat;\n}\nvar defaultProps = {\n    allowClear: true,\n    unmountOnExit: true,\n    position: 'bl',\n    editable: true,\n    showNowBtn: true,\n};\nvar triggerPopupAlign = { bottom: 4 };\nvar Picker = function (baseProps, ref) {\n    var _a = useContext(ConfigContext), getPrefixCls = _a.getPrefixCls, locale = _a.locale, ctxSize = _a.size, componentConfig = _a.componentConfig, rtl = _a.rtl;\n    if (rtl) {\n        defaultProps.position = 'br';\n    }\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n    var allowClear = props.allowClear, className = props.className, style = props.style, placeholder = props.placeholder, getPopupContainer = props.getPopupContainer, disabled = props.disabled, position = props.position, error = props.error, status = props.status, unmountOnExit = props.unmountOnExit, editable = props.editable, triggerProps = props.triggerProps, picker = props.picker, shortcuts = props.shortcuts, onSelect = props.onSelect, onVisibleChange = props.onVisibleChange, propsValue = props.value, onChange = props.onChange, icons = props.icons, disabledDate = props.disabledDate, showTime = props.showTime, showNowBtn = props.showNowBtn, onSelectShortcut = props.onSelectShortcut, extra = props.extra, shortcutsPlacementLeft = props.shortcutsPlacementLeft, onOk = props.onOk, defaultPickerValue = props.defaultPickerValue, pickerValue = props.pickerValue, onPickerValueChange = props.onPickerValueChange, triggerElement = props.triggerElement, utcOffset = props.utcOffset, timezone = props.timezone, panelRender = props.panelRender, inputProps = props.inputProps;\n    var prefixCls = getPrefixCls('picker');\n    var DATEPICKER_LOCALE = locale.DatePicker;\n    var weekStart = isUndefined(props.dayStartOfWeek)\n        ? getDefaultWeekStart(locale.dayjsLocale)\n        : props.dayStartOfWeek;\n    // picker.props.pickerType: Compatible with defaultProps\n    var mode = props.mode || picker.props.pickerType;\n    var refInput = useRef(null);\n    var refPanel = useRef(null);\n    var refShortcuts = useRef(null);\n    useImperativeHandle(ref, function () { return ({\n        focus: function () {\n            refInput.current && refInput.current.focus && refInput.current.focus();\n        },\n        blur: function () {\n            refInput.current && refInput.current.blur && refInput.current.blur();\n        },\n    }); }, []);\n    var realFormat = getFormat(props);\n    var format = realFormat;\n    if (typeof format === 'function') {\n        format = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n    }\n    function getDefaultValue() {\n        var value;\n        if (props.value) {\n            value = getDayjsValue(props.value, format, utcOffset, timezone);\n        }\n        else {\n            value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n        }\n        return value;\n    }\n    var _b = __read(useState(getDefaultValue()), 2), value = _b[0], setValue = _b[1];\n    var _c = __read(useState(props.popupVisible), 2), popupVisible = _c[0], setPopupVisible = _c[1];\n    var _d = __read(useState(false), 2), isTimePanel = _d[0], setIsTimePanel = _d[1];\n    var _e = __read(useState(), 2), hoverPlaceholderValue = _e[0], setHoverPlaceholderValue = _e[1];\n    var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n    var mergedValue = 'value' in props ? getDayjsValue(propsValue, format, utcOffset, timezone) : value;\n    var defaultPageShowDate = mergedValue || getDayjsValue(defaultPickerValue, format) || getNow();\n    var _f = __read(useState(), 2), inputValue = _f[0], setInputValue = _f[1];\n    var _g = __read(useState(), 2), valueShow = _g[0], setValueShow = _g[1];\n    var _h = __read(useState(), 2), shortcutValue = _h[0], setShortcutValue = _h[1];\n    var _j = __read(useState(defaultPageShowDate), 2), pageShowDate = _j[0], setPageShowDate = _j[1];\n    var mergedPageShowDate = getDayjsValue(pickerValue, format) || pageShowDate;\n    var panelValue = shortcutValue || valueShow || mergedValue;\n    var _k = __read(useState(mode), 2), panelMode = _k[0], setPanelMode = _k[1];\n    var defaultTimeValue = (isObject(showTime) &&\n        getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss')) ||\n        getNow(utcOffset, timezone);\n    var timeValue = panelValue || defaultTimeValue;\n    function focusInput() {\n        var _a, _b;\n        refInput.current && ((_b = (_a = refInput.current).focus) === null || _b === void 0 ? void 0 : _b.call(_a));\n    }\n    function blurInput() {\n        refInput.current && refInput.current.blur && refInput.current.blur();\n    }\n    var previousUtcOffset = usePrevious(utcOffset);\n    var previousTimezone = usePrevious(timezone);\n    // when timezone or utcOffset change changed\n    useUpdate(function () {\n        if (value && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n            var localValue = toLocal(value, previousUtcOffset, previousTimezone);\n            setValue(toTimezone(localValue, utcOffset, timezone));\n        }\n    }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n    useEffect(function () {\n        setInputValue(undefined);\n        setHoverPlaceholderValue(undefined);\n        if (mergedPopupVisible) {\n            setPageShowDate(defaultPageShowDate);\n            if (shortcutsPlacementLeft) {\n                refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n            }\n        }\n        else {\n            setValueShow(undefined);\n            setShortcutValue(undefined);\n            setTimeout(function () {\n                setIsTimePanel(false);\n                setPanelMode(mode);\n                blurInput();\n            }, 100);\n        }\n    }, [mergedPopupVisible]);\n    function visibleChange(visible) {\n        if (visible) {\n            setOpen(visible, function () {\n                focusInput();\n            });\n        }\n        else {\n            setOpen(false);\n        }\n    }\n    function handlePickerValueChange(v) {\n        onPickerValueChange && onPickerValueChange(v.format(format), v);\n    }\n    function setOpen(visible, callback) {\n        setPopupVisible(visible);\n        onVisibleChange && onVisibleChange(visible);\n        callback === null || callback === void 0 ? void 0 : callback();\n    }\n    function onClear(e) {\n        e.stopPropagation();\n        setValue(undefined);\n        setValueShow(undefined);\n        onHandleChange(undefined);\n        props.onClear && props.onClear();\n    }\n    function onClickConfirmBtn() {\n        var pv = getLocaleDayjsValue(panelValue, locale.dayjsLocale);\n        onConfirmValue();\n        onOk && onOk(pv && pv.format(format), pv);\n    }\n    function onConfirmValue() {\n        setValue(panelValue);\n        onHandleChange(panelValue);\n        setOpen(false);\n    }\n    function onHandleSelect(_, date, now) {\n        setInputValue(undefined);\n        setHoverPlaceholderValue(undefined);\n        if (showTime) {\n            var newTime = now ? date : getValueWithTime(date, timeValue);\n            setValueShow(newTime);\n            setPageShowDate(newTime);\n            var localTime = getLocaleDayjsValue(toLocal(newTime, utcOffset, timezone), locale.dayjsLocale);\n            onSelect && onSelect(localTime.format(format), localTime);\n        }\n        else {\n            var localTime = getLocaleDayjsValue(toLocal(date, utcOffset, timezone).locale(locale.dayjsLocale), locale.dayjsLocale);\n            onSelect && onSelect(localTime ? localTime.format(format) : undefined, localTime);\n            setValue(date);\n            onHandleChange(date);\n            setOpen(false);\n        }\n    }\n    function onHandleChange(newValue) {\n        if (isDayjsChange(newValue, mergedValue)) {\n            var localValue = getLocaleDayjsValue(toLocal(newValue, utcOffset, timezone), locale.dayjsLocale);\n            onChange && onChange(localValue ? localValue.format(format) : undefined, localValue);\n        }\n    }\n    function onTimePickerSelect(_, time) {\n        var _valueShow = panelValue || getNow(utcOffset, timezone);\n        var newValueShow = getValueWithTime(_valueShow, time);\n        setValueShow(newValueShow);\n        var localNewValueShow = getLocaleDayjsValue(toLocal(newValueShow, utcOffset, timezone), locale.dayjsLocale);\n        onSelect && onSelect(localNewValueShow.format(format), localNewValueShow);\n    }\n    function isValid(time) {\n        return (typeof time === 'string' &&\n            dayjs(time, format).format(format) === time &&\n            (typeof disabledDate === 'function' ? !disabledDate(dayjs(time, format)) : true));\n    }\n    function onChangeInput(e) {\n        var niv = e.target.value;\n        setInputValue(niv);\n        if (!mergedPopupVisible) {\n            setOpen(true);\n        }\n        if (isValid(niv)) {\n            // https://github.com/arco-design/arco-design/issues/1986\n            var newValue = getDayjsValue(niv, format);\n            setValueShow(newValue);\n            setPageShowDate(newValue);\n            setInputValue(undefined);\n        }\n    }\n    function onPressEnter() {\n        if (panelValue) {\n            onConfirmValue();\n            blurInput();\n        }\n        else if (mergedPopupVisible) {\n            setOpen(false);\n        }\n    }\n    function changePageShowDate(type, unit, num) {\n        if (num === void 0) { num = 1; }\n        var newPageShowDate;\n        if (type === 'prev') {\n            newPageShowDate = methods.subtract(mergedPageShowDate, num, unit);\n        }\n        if (type === 'next') {\n            newPageShowDate = methods.add(mergedPageShowDate, num, unit);\n        }\n        handlePickerValueChange(newPageShowDate);\n        setPageShowDate(newPageShowDate);\n    }\n    function getHeaderOperations(pickMode) {\n        if (pickMode === void 0) { pickMode = mode; }\n        if (pickMode === 'date' || pickMode === 'week') {\n            return {\n                onPrev: function () { return changePageShowDate('prev', 'month'); },\n                onNext: function () { return changePageShowDate('next', 'month'); },\n                onSuperPrev: function () { return changePageShowDate('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDate('next', 'year'); },\n            };\n        }\n        if (pickMode === 'month' || pickMode === 'quarter') {\n            return {\n                onSuperPrev: function () { return changePageShowDate('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDate('next', 'year'); },\n            };\n        }\n        if (pickMode === 'year') {\n            return {\n                onSuperPrev: function () { return changePageShowDate('prev', 'year', 10); },\n                onSuperNext: function () { return changePageShowDate('next', 'year', 10); },\n            };\n        }\n    }\n    function onSelectNow() {\n        var now = getLocaleDayjsValue(getNow(utcOffset, timezone), locale.dayjsLocale);\n        handlePickerValueChange(now);\n        onHandleSelect(now.format(format), now, true);\n    }\n    function onMouseEnterCell(value, disabled) {\n        if (!disabled) {\n            var placeHolderValue = showTime ? getValueWithTime(value, timeValue) : value;\n            setHoverPlaceholderValue(typeof realFormat === 'function'\n                ? realFormat(value)\n                : placeHolderValue.locale(locale.dayjsLocale).format(format));\n        }\n    }\n    function onMouseLeaveCell() {\n        setHoverPlaceholderValue(undefined);\n    }\n    function onMouseEnterShortcut(shortcut) {\n        if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n            var sv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n            setPageShowDate(sv);\n            handlePickerValueChange(sv);\n            setShortcutValue(sv);\n        }\n    }\n    function onMouseLeaveShortcut() {\n        var newValue = valueShow || mergedValue || getNow(utcOffset, timezone);\n        setShortcutValue(undefined);\n        setPageShowDate(newValue);\n        handlePickerValueChange(newValue);\n    }\n    function onHandleSelectShortcut(shortcut) {\n        onSelectShortcut && onSelectShortcut(shortcut);\n        if (typeof shortcut.value === 'function' && isDayjs(shortcut.value())) {\n            var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n            setValue(time);\n            onHandleChange(time);\n            setOpen(false);\n        }\n    }\n    function onClickSelectTimeBtn() {\n        setIsTimePanel(!isTimePanel);\n    }\n    function renderPopup(panelOnly) {\n        var _a;\n        var classNames = cs(prefixCls + \"-container\", (_a = {},\n            _a[prefixCls + \"-panel-only\"] = panelOnly,\n            _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft,\n            _a[prefixCls + \"-container-rtl\"] = rtl,\n            _a), panelOnly ? className : '');\n        var shortcutsProps = {\n            prefixCls: prefixCls,\n            showTime: showTime,\n            shortcuts: shortcuts,\n            onSelectNow: onSelectNow,\n            showNowBtn: showNowBtn,\n            onMouseEnterShortcut: onMouseEnterShortcut,\n            onMouseLeaveShortcut: onMouseLeaveShortcut,\n            onSelectShortcut: onHandleSelectShortcut,\n        };\n        var shouldShowFooter = (showTime && panelMode === 'date') ||\n            extra ||\n            (isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft) ||\n            (!showTime && panelMode === 'date' && showNowBtn);\n        var content = (React.createElement(React.Fragment, null,\n            React.cloneElement(picker, __assign(__assign(__assign({}, omit(props, ['style'])), getHeaderOperations()), { getHeaderOperations: getHeaderOperations, onSelect: onHandleSelect, onTimePickerSelect: onTimePickerSelect, onSelectNow: onSelectNow, popupVisible: mergedPopupVisible, format: format, value: panelValue, pageShowDate: mergedPageShowDate, localeName: locale.dayjsLocale, setPageShowDate: function (v) {\n                    setPageShowDate(v);\n                    handlePickerValueChange(v);\n                }, timeValue: timeValue, isTimePanel: isTimePanel, panelMode: panelMode, setPanelMode: setPanelMode, onMouseEnterCell: onMouseEnterCell, onMouseLeaveCell: onMouseLeaveCell })),\n            !!shouldShowFooter && (React.createElement(Footer, __assign({}, shortcutsProps, { DATEPICKER_LOCALE: DATEPICKER_LOCALE, disabled: !panelValue, onClickConfirmBtn: onClickConfirmBtn, extra: extra, mode: panelMode, shortcutsPlacementLeft: shortcutsPlacementLeft, onClickSelectTimeBtn: onClickSelectTimeBtn, isTimePanel: isTimePanel })))));\n        var contentWithShortcuts = shortcutsPlacementLeft ? (React.createElement(React.Fragment, null,\n            React.createElement(Shortcuts, __assign({ ref: refShortcuts }, shortcutsProps)),\n            React.createElement(\"div\", { ref: refPanel, className: prefixCls + \"-panel-wrapper\" }, content))) : (content);\n        var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n        return (React.createElement(\"div\", { className: classNames, onClick: function () {\n                refInput.current && refInput.current.focus && refInput.current.focus();\n            }, style: panelOnly ? style : {} }, panelNode));\n    }\n    var size = props.size || ctxSize;\n    var suffixIcon = icons && icons.inputSuffix === null\n        ? null\n        : (icons && icons.inputSuffix) || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n    var baseInputProps = {\n        style: style,\n        className: className,\n        popupVisible: mergedPopupVisible,\n        format: realFormat,\n        disabled: disabled,\n        error: error,\n        status: status,\n        size: size,\n        onPressEnter: onPressEnter,\n        onClear: onClear,\n        prefix: props.prefix,\n        suffixIcon: suffixIcon,\n        editable: editable && typeof realFormat !== 'function',\n        allowClear: allowClear,\n    };\n    return (React.createElement(PickerContext.Provider, { value: { utcOffset: utcOffset, timezone: timezone, weekStart: weekStart } }, triggerElement === null ? (renderPopup(true)) : (React.createElement(Trigger, __assign({ popup: renderPopup, trigger: \"click\", clickToClose: false, position: position, disabled: disabled, popupAlign: triggerPopupAlign, getPopupContainer: getPopupContainer, onVisibleChange: visibleChange, popupVisible: mergedPopupVisible, classNames: \"slideDynamicOrigin\", unmountOnExit: unmountOnExit }, triggerProps), triggerElement || (React.createElement(DateInput, __assign({}, pickDataAttributes(props), baseInputProps, { ref: refInput, placeholder: placeholder || DATEPICKER_LOCALE.placeholder[mode], popupVisible: mergedPopupVisible, value: valueShow || mergedValue, inputValue: hoverPlaceholderValue || inputValue, prefixCls: prefixCls, onChange: onChangeInput, isPlaceholder: !!hoverPlaceholderValue, inputProps: inputProps })))))));\n};\nvar PickerComponent = forwardRef(Picker);\nexport default PickerComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}