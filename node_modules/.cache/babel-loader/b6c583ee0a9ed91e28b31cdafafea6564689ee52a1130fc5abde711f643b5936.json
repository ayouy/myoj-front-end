{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useState, useRef, useEffect, useContext, useImperativeHandle, forwardRef } from 'react';\nimport Trigger from '../Trigger';\nimport DateInputRange from '../_class/picker/input-range';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { pickDataAttributes } from '../_util/pick';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getDayjsValue, getValueWithTime, getNow, methods, getSortedDayjsArray, isDayjsArrayChange, toTimezone, toLocal, isValidTimeString } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport RangePickerPanel from './panels/range';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport { getAvailableDayjsLength, getDefaultWeekStart, getLocaleDayjsValue, getFormatByIndex } from './util';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport PickerContext from './context';\n// get default format by mode\nfunction getFormat(props) {\n  var format = props.format,\n    showTime = props.showTime,\n    mode = props.mode;\n  var valueFormat;\n  switch (mode) {\n    case 'date':\n      valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n      break;\n    case 'month':\n      valueFormat = 'YYYY-MM';\n      break;\n    case 'year':\n      valueFormat = 'YYYY';\n      break;\n    case 'week':\n      valueFormat = 'YYYY-wo';\n      break;\n    case 'quarter':\n      valueFormat = 'YYYY-[Q]Q';\n      break;\n    default:\n      valueFormat = 'YYYY-MM-DD';\n  }\n  if (format) {\n    valueFormat = format;\n  }\n  return valueFormat;\n}\nvar defaultProps = {\n  allowClear: true,\n  unmountOnExit: true,\n  position: 'bl',\n  editable: true,\n  mode: 'date'\n};\nvar triggerPopupAlign = {\n  bottom: 4\n};\nvar Picker = function (baseProps, ref) {\n  var _a, _b;\n  var _c = useContext(ConfigContext),\n    getPrefixCls = _c.getPrefixCls,\n    locale = _c.locale,\n    ctxSize = _c.size,\n    componentConfig = _c.componentConfig,\n    rtl = _c.rtl;\n  if (rtl) {\n    defaultProps.position = 'br';\n  }\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n  var allowClear = props.allowClear,\n    className = props.className,\n    style = props.style,\n    placeholder = props.placeholder,\n    getPopupContainer = props.getPopupContainer,\n    disabled = props.disabled,\n    position = props.position,\n    error = props.error,\n    status = props.status,\n    unmountOnExit = props.unmountOnExit,\n    editable = props.editable,\n    triggerProps = props.triggerProps,\n    shortcuts = props.shortcuts,\n    onSelect = props.onSelect,\n    onVisibleChange = props.onVisibleChange,\n    propsValue = props.value,\n    onChange = props.onChange,\n    icons = props.icons,\n    disabledDate = props.disabledDate,\n    disabledTime = props.disabledTime,\n    mode = props.mode,\n    showTime = props.showTime,\n    onSelectShortcut = props.onSelectShortcut,\n    extra = props.extra,\n    shortcutsPlacementLeft = props.shortcutsPlacementLeft,\n    onOk = props.onOk,\n    defaultPickerValue = props.defaultPickerValue,\n    pickerValue = props.pickerValue,\n    panelRender = props.panelRender,\n    onPickerValueChange = props.onPickerValueChange,\n    triggerElement = props.triggerElement,\n    clearRangeOnReselect = props.clearRangeOnReselect,\n    separator = props.separator,\n    utcOffset = props.utcOffset,\n    timezone = props.timezone,\n    inputProps = props.inputProps;\n  var prefixCls = getPrefixCls('picker-range');\n  var weekStart = isUndefined(props.dayStartOfWeek) ? getDefaultWeekStart(locale.dayjsLocale) : props.dayStartOfWeek;\n  var refInput = useRef(null);\n  var refPanel = useRef(null);\n  var refShortcuts = useRef(null);\n  var shortcutEnterTimer = useRef(null);\n  var shortcutLeaveTimer = useRef(null);\n  useImperativeHandle(ref, function () {\n    return {\n      focus: function (index) {\n        refInput.current && refInput.current.focus && refInput.current.focus(index);\n      },\n      blur: function () {\n        refInput.current && refInput.current.blur && refInput.current.blur();\n      }\n    };\n  }, []);\n  var format = getFormat(props);\n  // get input index when half disabled\n  function getAvailableInputIndex() {\n    if (isArray(disabled)) {\n      if (disabled[0] && !disabled[1]) {\n        return 1;\n      }\n      if (disabled[1] && !disabled[0]) {\n        return 0;\n      }\n    }\n  }\n  var availableInputIndex = getAvailableInputIndex();\n  var isHalfAvailable = typeof availableInputIndex === 'number';\n  var disabledTimePickerIndex = isHalfAvailable ? 1 ^ availableInputIndex : undefined;\n  // current focus index\n  var _d = __read(useState(isHalfAvailable ? availableInputIndex : 0), 2),\n    focusedInputIndex = _d[0],\n    setFocusedInputIndex = _d[1];\n  useEffect(function () {\n    if (isHalfAvailable) {\n      setFocusedInputIndex(availableInputIndex);\n    }\n  }, [disabled]);\n  var nextFocusedInputIndex = 1 ^ focusedInputIndex;\n  var _e = __read(useState(), 2),\n    inputValue = _e[0],\n    setInputValue = _e[1];\n  var _f = __read(useState(), 2),\n    hoverPlaceholderValue = _f[0],\n    setHoverPlaceholderValue = _f[1];\n  var _g = __read(useState(getDefaultValue()), 2),\n    value = _g[0],\n    setValue = _g[1];\n  var _h = __read(useState(), 2),\n    valueShow = _h[0],\n    setValueShow = _h[1];\n  var _j = __read(useState(), 2),\n    valueShowHover = _j[0],\n    setValueShowHover = _j[1];\n  var _k = __read(useState(), 2),\n    shortcutsValue = _k[0],\n    setShortcutsValue = _k[1];\n  var _l = __read(useState(props.popupVisible), 2),\n    popupVisible = _l[0],\n    setPopupVisible = _l[1];\n  var _m = __read(useState([mode, mode]), 2),\n    panelModes = _m[0],\n    setPanelModes = _m[1];\n  var _o = __read(useState(false), 2),\n    isTimePanel = _o[0],\n    setIsTimePanel = _o[1];\n  var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n  var propsValueDayjs = getDayjsValue(propsValue, format, utcOffset, timezone);\n  var mergedValue = 'value' in props ? propsValueDayjs : value;\n  var panelValue = shortcutsValue || valueShow || mergedValue || [];\n  var selectedLength = getAvailableDayjsLength(valueShow || mergedValue);\n  // the first time we select a range after open\n  var firstRange = useRef(true);\n  var now = getNow();\n  var zoneNow = toTimezone(now, utcOffset, timezone);\n  function getTimeValues() {\n    var timeValues = [];\n    var defaultTimeValue = isObject(showTime) && showTime.defaultValue ? getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss') : [];\n    timeValues[0] = panelValue[0] || defaultTimeValue[0] || zoneNow;\n    timeValues[1] = panelValue[1] || defaultTimeValue[1] || zoneNow;\n    return timeValues;\n  }\n  var timeValues = getTimeValues();\n  var selectedDisabledDate = isHalfAvailable ? function (current) {\n    return availableInputIndex === 0 ? current.isAfter(panelValue[1], mode) : current.isBefore(panelValue[0], mode);\n  } : undefined;\n  // if triggerElement !== undefined, we should activate clearRangeOnReselect by default\n  var customTriggerElement = triggerElement !== undefined;\n  var resetRange = customTriggerElement || clearRangeOnReselect;\n  function getDefaultValue() {\n    var value;\n    if (props.value) {\n      value = getDayjsValue(props.value, format, utcOffset, timezone);\n    } else {\n      value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n    }\n    if (isHalfAvailable && (!value || value && !value[nextFocusedInputIndex])) {\n      var nv = [];\n      nv[nextFocusedInputIndex] = getNow(utcOffset, timezone);\n      return nv;\n    }\n    return value;\n  }\n  var defaultPageShowDates = mergedValue || getDayjsValue(defaultPickerValue, format) || [now, now];\n  // show date at two panels\n  var _p = __read(useState(getShowDatesFromFocused(defaultPageShowDates)), 2),\n    pageShowDates = _p[0],\n    setPageShowDates = _p[1];\n  var mergedPageShowDate = getShowDatesFromFocused(getDayjsValue(pickerValue, format, utcOffset, timezone)) || pageShowDates;\n  var previousUtcOffset = usePrevious(utcOffset);\n  var previousTimezone = usePrevious(timezone);\n  // when timezone or utcOffset change changed\n  useUpdate(function () {\n    if (isArray(value) && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n      var localValue = value.map(function (v) {\n        return toLocal(v, previousUtcOffset, previousTimezone);\n      });\n      var zoneValue = localValue.map(function (v) {\n        return toTimezone(v, utcOffset, timezone);\n      });\n      setValue(zoneValue);\n    }\n  }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n  // panel open and change mode\n  useUpdate(function () {\n    setPageShowDates(getShowDatesFromFocused(defaultPageShowDates));\n  }, [mode]);\n  useEffect(function () {\n    setPanelModes([mode, mode]);\n  }, [mode]);\n  useEffect(function () {\n    setHoverPlaceholderValue(undefined);\n    setInputValue(undefined);\n    if (mergedPopupVisible) {\n      var resetPageShowDates = getShowDatesFromFocused(defaultPageShowDates);\n      setIsTimePanel(false);\n      setPanelModes([mode, mode]);\n      setPageShowDates(resetPageShowDates);\n      handlePickerValueChange(resetPageShowDates);\n      setValueShow(mergedValue);\n      if (shortcutsPlacementLeft) {\n        refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n      }\n    } else {\n      setValueShow(undefined);\n      setValueShowHover(undefined);\n      setShortcutsValue(undefined);\n      blurInput();\n    }\n    firstRange.current = mergedPopupVisible;\n  }, [mergedPopupVisible]);\n  var startStr = (_a = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[0]) === null || _a === void 0 ? void 0 : _a.format(getFormatByIndex(format, 0));\n  var endStr = (_b = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[1]) === null || _b === void 0 ? void 0 : _b.format(getFormatByIndex(format, 1));\n  useEffect(function () {\n    setValueShow(undefined);\n    setValueShowHover(undefined);\n  }, [startStr, endStr]);\n  function setFixedPageShowDates(innerValue, index) {\n    if (index === void 0) {\n      index = focusedInputIndex;\n    }\n    var newPageShowDates = getShowDatesFromFocused(innerValue, index);\n    setPageShowDates(newPageShowDates);\n    handlePickerValueChange(newPageShowDates);\n  }\n  function handlePickerValueChange(v) {\n    if (!isSamePanel([v[0], pageShowDates[0]], mode)) {\n      onPickerValueChange && onPickerValueChange(isArray(v) ? v.map(function (v, i) {\n        return v && v.format(getFormatByIndex(format, i));\n      }) : undefined, v);\n    }\n  }\n  function getShowDatesFromFocused(dates, index) {\n    if (index === void 0) {\n      index = focusedInputIndex;\n    }\n    var prev = index === 0 || isSamePanel(dates, mode);\n    if (isArray(dates) && dates.length < 2) {\n      return getPageShowDatesByValue(dates[0] || getNow(utcOffset, timezone), mode, 'prev');\n    }\n    if (isArray(dates) && dates.length === 2) {\n      if (dates[index]) {\n        return getPageShowDatesByValue(dates[index], mode, prev ? 'prev' : 'next');\n      }\n      return getPageShowDatesByValue(dates[index === 0 ? 1 : 0] || getNow(utcOffset, timezone), mode, prev && !dates[index === 0 ? 1 : 0] ? 'prev' : 'next');\n    }\n  }\n  function isSamePanel(innerValue, pickerMode) {\n    if (innerValue && innerValue.length === 2 && isValidDayjsArray(innerValue)) {\n      return (pickerMode === 'date' || pickerMode === 'week') && innerValue[0].isSame(innerValue[1], 'month') || (pickerMode === 'month' || pickerMode === 'quarter') && innerValue[0].isSame(innerValue[1], 'year') || pickerMode === 'year' && Math.floor(innerValue[0].year() / 10) === Math.floor(innerValue[1].year() / 10);\n    }\n  }\n  // get page show date by specify value\n  function getPageShowDatesByValue(value, pickerMode, type) {\n    if (value === void 0) {\n      value = getNow(utcOffset, timezone);\n    }\n    if (pickerMode === void 0) {\n      pickerMode = mode;\n    }\n    if (type === void 0) {\n      type = 'prev';\n    }\n    var prev = type === 'prev';\n    switch (pickerMode) {\n      case 'date':\n      case 'week':\n        return prev ? [value, methods.add(value, 1, 'month')] : [methods.subtract(value, 1, 'month'), value];\n      case 'month':\n      case 'quarter':\n        return prev ? [value, methods.add(value, 1, 'year')] : [methods.subtract(value, 1, 'year'), value];\n      case 'year':\n        return prev ? [value, methods.add(value, 10, 'year')] : [methods.subtract(value, 10, 'year'), value];\n      default:\n        return [];\n    }\n  }\n  function focusInput(index) {\n    refInput.current && refInput.current.focus && refInput.current.focus(isHalfAvailable ? availableInputIndex : index);\n  }\n  function blurInput() {\n    refInput.current && refInput.current.blur && refInput.current.blur();\n  }\n  function visibleChange(visible) {\n    if (visible) {\n      setTimeout(function () {\n        return focusInput();\n      });\n      setOpen(visible);\n    } else {\n      setOpen(false);\n    }\n  }\n  // open or close popup\n  function setOpen(visible) {\n    onVisibleChange && onVisibleChange(visible);\n    setPopupVisible(visible);\n  }\n  function onClear(e) {\n    e.stopPropagation();\n    var newValueShow = __spreadArray([], __read(panelValue), false);\n    if (isHalfAvailable) {\n      newValueShow[availableInputIndex] = undefined;\n    } else {\n      newValueShow = undefined;\n    }\n    setValue(newValueShow);\n    setValueShow(newValueShow);\n    onHandleChange(newValueShow);\n    props.onClear && props.onClear();\n  }\n  function changeFocusedInputIndex(index, silent) {\n    setFocusedInputIndex(index);\n    if (panelValue && panelValue.length && !silent) {\n      var newPageShowDates = getShowDatesFromFocused(panelValue, index);\n      setPageShowDates(newPageShowDates);\n      handlePickerValueChange(newPageShowDates);\n    }\n  }\n  function isDisabledDate(date) {\n    var selectedDisabled = typeof selectedDisabledDate === 'function' ? selectedDisabledDate(date) : false;\n    var originDisabledDate = typeof disabledDate === 'function' ? disabledDate(date) : false;\n    return originDisabledDate || selectedDisabled;\n  }\n  // Determine whether the input date is in the correct format\n  function isValid(time) {\n    return isValidTimeString(time, format, focusedInputIndex) && !isDisabledDate(getDayjsValue(time, format))\n    // (panelValue[nextFocusedInputIndex]\n    //   ? nextFocusedInputIndex === 0\n    //     ? panelValue[nextFocusedInputIndex].isBefore(dayjs(time, format))\n    //     : panelValue[nextFocusedInputIndex].isAfter(dayjs(time, format))\n    //   : true)\n    ;\n  }\n  function onChangeInput(e) {\n    var newValueShow = __spreadArray([], __read(panelValue || []), false);\n    var niv = e.target.value;\n    setInputValue(niv);\n    if (!mergedPopupVisible) {\n      setOpen(true);\n    }\n    if (isValid(niv)) {\n      newValueShow[focusedInputIndex] = getDayjsValue(niv, format);\n      setValueShow(newValueShow);\n      setFixedPageShowDates(newValueShow);\n      setInputValue(undefined);\n    }\n  }\n  function onBlurInput() {\n    if (inputValue) {\n      setInputValue(undefined);\n    }\n  }\n  // Compare with the last value, trigger onChange only if the value changes\n  function onHandleChange(newValue) {\n    if (isDayjsArrayChange(mergedValue, newValue)) {\n      var localValue = isArray(newValue) ? newValue.map(function (v) {\n        return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n      }) : undefined;\n      onChange && onChange(isArray(localValue) ? localValue.map(function (v, i) {\n        return v && v.format(getFormatByIndex(format, i));\n      }) : undefined, localValue);\n    }\n  }\n  function onPressEnter() {\n    if (isArray(valueShow) && valueShow.length) {\n      if (inputValue && !isValid(inputValue)) {\n        setInputValue(undefined);\n      } else if (selectedLength !== 2) {\n        switchFocusedInput();\n      } else if (selectedLength === 2) {\n        onConfirmValue(valueShow);\n      }\n    } else if (mergedPopupVisible) {\n      setOpen(false);\n    }\n  }\n  // Confirm and update component value\n  function onConfirmValue(date, keepOpen) {\n    var confirmValue = date || panelValue;\n    if (!confirmValue || !confirmValue[0] || !confirmValue[1]) {\n      return;\n    }\n    var sortedValues = getSortedDayjsArray(confirmValue);\n    setValue(sortedValues);\n    onHandleChange(sortedValues);\n    if (triggerElement !== null && !keepOpen) {\n      setOpen(false);\n    }\n  }\n  // Callback when click the confirm button\n  function onClickConfirmBtn() {\n    onConfirmValue();\n    var localePanelValue = panelValue.map(function (v) {\n      return getLocaleDayjsValue(v, locale.dayjsLocale);\n    });\n    onOk && onOk(localePanelValue.map(function (v, i) {\n      return v && v.format(getFormatByIndex(format, i));\n    }), localePanelValue);\n  }\n  function getUnit() {\n    switch (mode) {\n      case 'date':\n      case 'week':\n        return 'date';\n      case 'month':\n        return 'month';\n      case 'year':\n        return 'year';\n      default:\n        return undefined;\n    }\n  }\n  function outOfRange(date) {\n    if (selectedLength !== 2) {\n      return false;\n    }\n    var v = valueShow || mergedValue;\n    if (focusedInputIndex === 0 && date.isAfter(v[1], getUnit())) {\n      return true;\n    }\n    if (focusedInputIndex === 1 && date.isBefore(v[0], getUnit())) {\n      return true;\n    }\n    return false;\n  }\n  // Callback when click the panel date cell\n  function onSelectPanel(_, date) {\n    var isOutOfRange = outOfRange(date) && firstRange.current;\n    var newValueShow = resetRange && selectedLength === 2 && !isHalfAvailable ? [] : __spreadArray([], __read(panelValue), false);\n    // if custom triggerElement, focused input index always 0 -> 1\n    var focusedIndex = customTriggerElement ? selectedLength === 0 || selectedLength === 2 ? 0 : 1 : focusedInputIndex;\n    var newDate = showTime ? getValueWithTime(date, timeValues[focusedIndex]) : date;\n    if (isOutOfRange) {\n      newValueShow[focusedIndex] = newDate;\n      newValueShow[1 ^ focusedIndex] = undefined;\n    } else {\n      newValueShow[focusedIndex] = newDate;\n    }\n    var sortedValueShow = getSortedDayjsArray(newValueShow);\n    onSelectValueShow(sortedValueShow);\n    setInputValue(undefined);\n    setHoverPlaceholderValue(undefined);\n    var newSelectedLength = getAvailableDayjsLength(newValueShow);\n    if (resetRange) {\n      if (selectedLength === 0 || selectedLength === 2 && !isHalfAvailable) {\n        customTriggerElement ? setFocusedInputIndex(1) : switchFocusedInput(true);\n      } else if (!showTime) {\n        onConfirmValue(newValueShow);\n      }\n    } else if (newSelectedLength <= 1) {\n      switchFocusedInput(true);\n    } else if (selectedLength === 2 && firstRange.current && !isHalfAvailable) {\n      firstRange.current = false;\n      switchFocusedInput(true);\n      if (!showTime && !isOutOfRange) {\n        onConfirmValue(newValueShow, true);\n      }\n    } else {\n      firstRange.current = false;\n      if (!showTime && !isOutOfRange) {\n        onConfirmValue(newValueShow);\n      }\n    }\n  }\n  // Callback when click TimePicker\n  function onTimePickerSelect(index, _, time) {\n    var newValueShow = isArray(panelValue) ? __spreadArray([], __read(panelValue), false) : [];\n    var newTimeValue = getValueWithTime(newValueShow[index] || getNow(utcOffset, timezone), time);\n    newValueShow[index] = newTimeValue;\n    onSelectValueShow(newValueShow);\n  }\n  function onSelectValueShow(newValueShow) {\n    setValueShow(newValueShow);\n    setValueShowHover(undefined);\n    var sortedValues = getSortedDayjsArray(newValueShow);\n    var zoneValues = sortedValues.map(function (v) {\n      return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n    });\n    onSelect && onSelect(zoneValues.map(function (v, i) {\n      return v && v.format(getFormatByIndex(format, i));\n    }), zoneValues, {\n      type: focusedInputIndex === 1 ? 'end' : 'start'\n    });\n  }\n  // Switch to next focused input\n  function switchFocusedInput(silent) {\n    changeFocusedInputIndex(nextFocusedInputIndex, silent);\n    setTimeout(function () {\n      return focusInput(nextFocusedInputIndex);\n    });\n  }\n  // Callback when mouse entered the date cell\n  function onMouseEnterCell(date, disabled) {\n    var newValueShowHover = __spreadArray([], __read(panelValue || []), false);\n    var needShowHover = resetRange ? selectedLength === 1 : selectedLength !== 0;\n    if (!disabled && needShowHover && !outOfRange(date)) {\n      newValueShowHover[focusedInputIndex] = getValueWithTime(date, timeValues[focusedInputIndex]);\n      setValueShowHover(newValueShowHover);\n      setInputValue(undefined);\n    }\n    if (!disabled) {\n      var placeHolderValue = showTime ? getValueWithTime(date, timeValues[focusedInputIndex]) : date;\n      setHoverPlaceholderValue(placeHolderValue.locale(locale.dayjsLocale).format(getFormatByIndex(format, focusedInputIndex)));\n    }\n  }\n  function onMouseLeaveCell() {\n    setValueShowHover(undefined);\n    setHoverPlaceholderValue(undefined);\n  }\n  function isValidDayjsArray(sv) {\n    return sv && isArray(sv) && sv.length === 2 && isDayjs(sv[0]) && isDayjs(sv[1]);\n  }\n  // Determine whether the value entered in the shortcut is in the correct format\n  function isValidShortcut(shortcut) {\n    var sv = typeof shortcut.value === 'function' && shortcut.value();\n    return isValidDayjsArray(sv);\n  }\n  function clearShortcutsTimer() {\n    clearTimeout(shortcutEnterTimer.current);\n    clearTimeout(shortcutLeaveTimer.current);\n    shortcutEnterTimer.current = null;\n    shortcutLeaveTimer.current = null;\n  }\n  // Callback when mouse entered the shortcuts\n  function onMouseEnterShortcut(shortcut) {\n    clearShortcutsTimer();\n    shortcutEnterTimer.current = setTimeout(function () {\n      if (isValidShortcut(shortcut)) {\n        var nv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n        setShortcutsValue(nv);\n        setFixedPageShowDates(nv);\n      }\n    }, 50);\n  }\n  // Callback when mouse leaved the shortcuts\n  function onMouseLeaveShortcut() {\n    clearShortcutsTimer();\n    shortcutLeaveTimer.current = setTimeout(function () {\n      setShortcutsValue(undefined);\n      setFixedPageShowDates(valueShow || mergedValue || [getNow(utcOffset, timezone), getNow(utcOffset, timezone)]);\n    }, 50);\n  }\n  // Callback when click the shortcuts button\n  function onHandleSelectShortcut(shortcut) {\n    onSelectShortcut && onSelectShortcut(shortcut);\n    if (isValidShortcut(shortcut)) {\n      var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n      onConfirmValue(time);\n    }\n  }\n  // Modify panel date (the value of the panel itself, not the component value)\n  function changePageShowDates(type, unit, num) {\n    if (num === void 0) {\n      num = 1;\n    }\n    var index = type === 'prev' ? 0 : 1;\n    var newPageShowDates = __spreadArray([], __read(mergedPageShowDate), false);\n    if (type === 'prev') {\n      newPageShowDates[index] = methods.subtract(mergedPageShowDate[index], num, unit);\n    }\n    if (type === 'next') {\n      newPageShowDates[index] = methods.add(mergedPageShowDate[index], num, unit);\n    }\n    newPageShowDates = getPageShowDatesByValue(newPageShowDates[index], mode, type);\n    setFixedPageShowDates(newPageShowDates);\n  }\n  // Callback when click the prev or next button\n  function getHeaderOperations(pickerMode) {\n    if (pickerMode === void 0) {\n      pickerMode = mode;\n    }\n    if (pickerMode === 'date' || pickerMode === 'week') {\n      return {\n        onPrev: function () {\n          return changePageShowDates('prev', 'month');\n        },\n        onNext: function () {\n          return changePageShowDates('next', 'month');\n        },\n        onSuperPrev: function () {\n          return changePageShowDates('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDates('next', 'year');\n        }\n      };\n    }\n    if (pickerMode === 'month' || pickerMode === 'quarter') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDates('prev', 'year');\n        },\n        onSuperNext: function () {\n          return changePageShowDates('next', 'year');\n        }\n      };\n    }\n    if (pickerMode === 'year') {\n      return {\n        onSuperPrev: function () {\n          return changePageShowDates('prev', 'year', 10);\n        },\n        onSuperNext: function () {\n          return changePageShowDates('next', 'year', 10);\n        }\n      };\n    }\n  }\n  function onClickSelectTimeBtn() {\n    setIsTimePanel(!isTimePanel);\n  }\n  function renderPopup(panelOnly) {\n    var _a;\n    var classNames = cs(prefixCls + \"-container\", (_a = {}, _a[prefixCls + \"-panel-only\"] = panelOnly, _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft, _a[prefixCls + \"-container-rtl\"] = rtl, _a), panelOnly ? className : '');\n    var shortcutsProps = {\n      prefixCls: getPrefixCls('picker'),\n      showTime: showTime,\n      shortcuts: shortcuts,\n      onMouseEnterShortcut: onMouseEnterShortcut,\n      onMouseLeaveShortcut: onMouseLeaveShortcut,\n      onSelectShortcut: onHandleSelectShortcut\n    };\n    var shouldShowFooter = showTime && panelModes[0] === 'date' && panelModes[1] === 'date' || extra || isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft;\n    var content = React.createElement(React.Fragment, null, React.createElement(RangePickerPanel, __assign({}, props, getHeaderOperations(), {\n      getHeaderOperations: getHeaderOperations,\n      setRangePageShowDates: setFixedPageShowDates,\n      pageShowDates: mergedPageShowDate,\n      value: panelValue,\n      format: format,\n      onSelectPanel: onSelectPanel,\n      onMouseEnterCell: onMouseEnterCell,\n      onMouseLeaveCell: onMouseLeaveCell,\n      disabledDate: function (current) {\n        return isDisabledDate(current);\n      },\n      disabledTime: disabledTime,\n      mode: mode,\n      localeName: locale.dayjsLocale,\n      showTime: showTime,\n      timeValues: shortcutsValue || timeValues,\n      onTimePickerSelect: onTimePickerSelect,\n      popupVisible: mergedPopupVisible,\n      disabledTimePickerIndex: disabledTimePickerIndex,\n      isTimePanel: isTimePanel,\n      valueShowHover: valueShowHover,\n      panelModes: panelModes,\n      setPanelModes: setPanelModes\n    })), !!shouldShowFooter && React.createElement(Footer, __assign({}, shortcutsProps, {\n      DATEPICKER_LOCALE: locale.DatePicker,\n      disabled: !(isArray(panelValue) && panelValue[0] && panelValue[1]),\n      onClickConfirmBtn: onClickConfirmBtn,\n      extra: extra,\n      shortcutsPlacementLeft: shortcutsPlacementLeft,\n      onClickSelectTimeBtn: onClickSelectTimeBtn,\n      isTimePanel: isTimePanel\n    })));\n    var contentWithShortcuts = shortcutsPlacementLeft ? React.createElement(React.Fragment, null, React.createElement(Shortcuts, __assign({\n      ref: refShortcuts\n    }, shortcutsProps)), React.createElement(\"div\", {\n      ref: refPanel,\n      className: prefixCls + \"-panel-wrapper\"\n    }, content)) : content;\n    var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n    return React.createElement(\"div\", {\n      className: classNames,\n      onClick: function () {\n        return focusInput();\n      },\n      style: panelOnly ? style : {}\n    }, panelNode);\n  }\n  var size = props.size || ctxSize;\n  var placeholders = isArray(placeholder) ? placeholder : locale.DatePicker.placeholders[mode];\n  var suffixIcon = icons && icons.inputSuffix === null ? null : icons && icons.inputSuffix || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n  var baseInputProps = {\n    style: style,\n    className: className,\n    popupVisible: mergedPopupVisible,\n    format: format,\n    disabled: disabled,\n    error: error,\n    status: status,\n    size: size,\n    onPressEnter: onPressEnter,\n    onClear: onClear,\n    suffixIcon: suffixIcon,\n    editable: editable,\n    allowClear: allowClear,\n    prefix: props.prefix\n  };\n  var triggerDisabled = isArray(disabled) ? disabled[0] && disabled[1] : disabled;\n  return React.createElement(PickerContext.Provider, {\n    value: {\n      utcOffset: utcOffset,\n      timezone: timezone,\n      weekStart: weekStart\n    }\n  }, triggerElement === null ? renderPopup(true) : React.createElement(Trigger, __assign({\n    popup: renderPopup,\n    trigger: \"click\",\n    clickToClose: false,\n    position: position,\n    disabled: triggerDisabled,\n    popupAlign: triggerPopupAlign,\n    getPopupContainer: getPopupContainer,\n    onVisibleChange: visibleChange,\n    popupVisible: mergedPopupVisible,\n    classNames: \"slideDynamicOrigin\",\n    unmountOnExit: unmountOnExit\n  }, triggerProps), triggerElement || React.createElement(DateInputRange, __assign({}, pickDataAttributes(props), baseInputProps, {\n    inputProps: inputProps,\n    ref: refInput,\n    placeholder: placeholders,\n    value: valueShow || mergedValue,\n    onChange: onChangeInput,\n    inputValue: hoverPlaceholderValue || inputValue,\n    changeFocusedInputIndex: changeFocusedInputIndex,\n    focusedInputIndex: focusedInputIndex,\n    isPlaceholder: !!hoverPlaceholderValue,\n    separator: separator,\n    onBlur: onBlurInput\n  }))));\n};\nvar PickerComponent = forwardRef(Picker);\nPickerComponent.displayName = 'RangePicker';\nexport default PickerComponent;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__spreadArray","to","from","pack","l","Array","slice","concat","React","useState","useRef","useEffect","useContext","useImperativeHandle","forwardRef","Trigger","DateInputRange","isArray","isDayjs","isObject","isUndefined","cs","pickDataAttributes","ConfigContext","getDayjsValue","getValueWithTime","getNow","methods","getSortedDayjsArray","isDayjsArrayChange","toTimezone","toLocal","isValidTimeString","IconCalendar","IconCalendarClock","RangePickerPanel","Footer","Shortcuts","getAvailableDayjsLength","getDefaultWeekStart","getLocaleDayjsValue","getFormatByIndex","useMergeProps","usePrevious","useUpdate","PickerContext","getFormat","props","format","showTime","mode","valueFormat","defaultProps","allowClear","unmountOnExit","position","editable","triggerPopupAlign","bottom","Picker","baseProps","ref","_a","_b","_c","getPrefixCls","locale","ctxSize","size","componentConfig","rtl","DatePicker","className","style","placeholder","getPopupContainer","disabled","status","triggerProps","shortcuts","onSelect","onVisibleChange","propsValue","onChange","icons","disabledDate","disabledTime","onSelectShortcut","extra","shortcutsPlacementLeft","onOk","defaultPickerValue","pickerValue","panelRender","onPickerValueChange","triggerElement","clearRangeOnReselect","separator","utcOffset","timezone","inputProps","prefixCls","weekStart","dayStartOfWeek","dayjsLocale","refInput","refPanel","refShortcuts","shortcutEnterTimer","shortcutLeaveTimer","focus","index","current","blur","getAvailableInputIndex","availableInputIndex","isHalfAvailable","disabledTimePickerIndex","undefined","_d","focusedInputIndex","setFocusedInputIndex","nextFocusedInputIndex","_e","inputValue","setInputValue","_f","hoverPlaceholderValue","setHoverPlaceholderValue","_g","getDefaultValue","setValue","_h","valueShow","setValueShow","_j","valueShowHover","setValueShowHover","_k","shortcutsValue","setShortcutsValue","_l","popupVisible","setPopupVisible","_m","panelModes","setPanelModes","_o","isTimePanel","setIsTimePanel","mergedPopupVisible","propsValueDayjs","mergedValue","panelValue","selectedLength","firstRange","now","zoneNow","getTimeValues","timeValues","defaultTimeValue","defaultValue","selectedDisabledDate","isAfter","isBefore","customTriggerElement","resetRange","nv","defaultPageShowDates","_p","getShowDatesFromFocused","pageShowDates","setPageShowDates","mergedPageShowDate","previousUtcOffset","previousTimezone","localValue","map","v","zoneValue","resetPageShowDates","handlePickerValueChange","maxHeight","clientHeight","blurInput","startStr","endStr","setFixedPageShowDates","innerValue","newPageShowDates","isSamePanel","dates","prev","getPageShowDatesByValue","pickerMode","isValidDayjsArray","isSame","Math","floor","year","type","add","subtract","focusInput","visibleChange","visible","setTimeout","setOpen","onClear","stopPropagation","newValueShow","onHandleChange","changeFocusedInputIndex","silent","isDisabledDate","date","selectedDisabled","originDisabledDate","isValid","time","onChangeInput","niv","target","onBlurInput","newValue","onPressEnter","switchFocusedInput","onConfirmValue","keepOpen","confirmValue","sortedValues","onClickConfirmBtn","localePanelValue","getUnit","outOfRange","onSelectPanel","_","isOutOfRange","focusedIndex","newDate","sortedValueShow","onSelectValueShow","newSelectedLength","onTimePickerSelect","newTimeValue","zoneValues","onMouseEnterCell","newValueShowHover","needShowHover","placeHolderValue","onMouseLeaveCell","sv","isValidShortcut","shortcut","clearShortcutsTimer","clearTimeout","onMouseEnterShortcut","onMouseLeaveShortcut","onHandleSelectShortcut","changePageShowDates","unit","num","getHeaderOperations","onPrev","onNext","onSuperPrev","onSuperNext","onClickSelectTimeBtn","renderPopup","panelOnly","classNames","shortcutsProps","shouldShowFooter","content","createElement","Fragment","setRangePageShowDates","localeName","DATEPICKER_LOCALE","contentWithShortcuts","panelNode","onClick","placeholders","suffixIcon","inputSuffix","baseInputProps","prefix","triggerDisabled","Provider","popup","trigger","clickToClose","popupAlign","isPlaceholder","onBlur","PickerComponent","displayName"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/DatePicker/picker-range.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useState, useRef, useEffect, useContext, useImperativeHandle, forwardRef, } from 'react';\nimport Trigger from '../Trigger';\nimport DateInputRange from '../_class/picker/input-range';\nimport { isArray, isDayjs, isObject, isUndefined } from '../_util/is';\nimport cs from '../_util/classNames';\nimport { pickDataAttributes } from '../_util/pick';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getDayjsValue, getValueWithTime, getNow, methods, getSortedDayjsArray, isDayjsArrayChange, toTimezone, toLocal, isValidTimeString, } from '../_util/dayjs';\nimport IconCalendar from '../../icon/react-icon/IconCalendar';\nimport IconCalendarClock from '../../icon/react-icon/IconCalendarClock';\nimport RangePickerPanel from './panels/range';\nimport Footer from './panels/footer';\nimport Shortcuts from './panels/shortcuts';\nimport { getAvailableDayjsLength, getDefaultWeekStart, getLocaleDayjsValue, getFormatByIndex, } from './util';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport usePrevious from '../_util/hooks/usePrevious';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport PickerContext from './context';\n// get default format by mode\nfunction getFormat(props) {\n    var format = props.format, showTime = props.showTime, mode = props.mode;\n    var valueFormat;\n    switch (mode) {\n        case 'date':\n            valueFormat = showTime ? 'YYYY-MM-DD HH:mm:ss' : 'YYYY-MM-DD';\n            break;\n        case 'month':\n            valueFormat = 'YYYY-MM';\n            break;\n        case 'year':\n            valueFormat = 'YYYY';\n            break;\n        case 'week':\n            valueFormat = 'YYYY-wo';\n            break;\n        case 'quarter':\n            valueFormat = 'YYYY-[Q]Q';\n            break;\n        default:\n            valueFormat = 'YYYY-MM-DD';\n    }\n    if (format) {\n        valueFormat = format;\n    }\n    return valueFormat;\n}\nvar defaultProps = {\n    allowClear: true,\n    unmountOnExit: true,\n    position: 'bl',\n    editable: true,\n    mode: 'date',\n};\nvar triggerPopupAlign = { bottom: 4 };\nvar Picker = function (baseProps, ref) {\n    var _a, _b;\n    var _c = useContext(ConfigContext), getPrefixCls = _c.getPrefixCls, locale = _c.locale, ctxSize = _c.size, componentConfig = _c.componentConfig, rtl = _c.rtl;\n    if (rtl) {\n        defaultProps.position = 'br';\n    }\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.DatePicker);\n    var allowClear = props.allowClear, className = props.className, style = props.style, placeholder = props.placeholder, getPopupContainer = props.getPopupContainer, disabled = props.disabled, position = props.position, error = props.error, status = props.status, unmountOnExit = props.unmountOnExit, editable = props.editable, triggerProps = props.triggerProps, shortcuts = props.shortcuts, onSelect = props.onSelect, onVisibleChange = props.onVisibleChange, propsValue = props.value, onChange = props.onChange, icons = props.icons, disabledDate = props.disabledDate, disabledTime = props.disabledTime, mode = props.mode, showTime = props.showTime, onSelectShortcut = props.onSelectShortcut, extra = props.extra, shortcutsPlacementLeft = props.shortcutsPlacementLeft, onOk = props.onOk, defaultPickerValue = props.defaultPickerValue, pickerValue = props.pickerValue, panelRender = props.panelRender, onPickerValueChange = props.onPickerValueChange, triggerElement = props.triggerElement, clearRangeOnReselect = props.clearRangeOnReselect, separator = props.separator, utcOffset = props.utcOffset, timezone = props.timezone, inputProps = props.inputProps;\n    var prefixCls = getPrefixCls('picker-range');\n    var weekStart = isUndefined(props.dayStartOfWeek)\n        ? getDefaultWeekStart(locale.dayjsLocale)\n        : props.dayStartOfWeek;\n    var refInput = useRef(null);\n    var refPanel = useRef(null);\n    var refShortcuts = useRef(null);\n    var shortcutEnterTimer = useRef(null);\n    var shortcutLeaveTimer = useRef(null);\n    useImperativeHandle(ref, function () { return ({\n        focus: function (index) {\n            refInput.current && refInput.current.focus && refInput.current.focus(index);\n        },\n        blur: function () {\n            refInput.current && refInput.current.blur && refInput.current.blur();\n        },\n    }); }, []);\n    var format = getFormat(props);\n    // get input index when half disabled\n    function getAvailableInputIndex() {\n        if (isArray(disabled)) {\n            if (disabled[0] && !disabled[1]) {\n                return 1;\n            }\n            if (disabled[1] && !disabled[0]) {\n                return 0;\n            }\n        }\n    }\n    var availableInputIndex = getAvailableInputIndex();\n    var isHalfAvailable = typeof availableInputIndex === 'number';\n    var disabledTimePickerIndex = isHalfAvailable ? 1 ^ availableInputIndex : undefined;\n    // current focus index\n    var _d = __read(useState(isHalfAvailable ? availableInputIndex : 0), 2), focusedInputIndex = _d[0], setFocusedInputIndex = _d[1];\n    useEffect(function () {\n        if (isHalfAvailable) {\n            setFocusedInputIndex(availableInputIndex);\n        }\n    }, [disabled]);\n    var nextFocusedInputIndex = 1 ^ focusedInputIndex;\n    var _e = __read(useState(), 2), inputValue = _e[0], setInputValue = _e[1];\n    var _f = __read(useState(), 2), hoverPlaceholderValue = _f[0], setHoverPlaceholderValue = _f[1];\n    var _g = __read(useState(getDefaultValue()), 2), value = _g[0], setValue = _g[1];\n    var _h = __read(useState(), 2), valueShow = _h[0], setValueShow = _h[1];\n    var _j = __read(useState(), 2), valueShowHover = _j[0], setValueShowHover = _j[1];\n    var _k = __read(useState(), 2), shortcutsValue = _k[0], setShortcutsValue = _k[1];\n    var _l = __read(useState(props.popupVisible), 2), popupVisible = _l[0], setPopupVisible = _l[1];\n    var _m = __read(useState([mode, mode]), 2), panelModes = _m[0], setPanelModes = _m[1];\n    var _o = __read(useState(false), 2), isTimePanel = _o[0], setIsTimePanel = _o[1];\n    var mergedPopupVisible = 'popupVisible' in props ? props.popupVisible : popupVisible;\n    var propsValueDayjs = getDayjsValue(propsValue, format, utcOffset, timezone);\n    var mergedValue = 'value' in props ? propsValueDayjs : value;\n    var panelValue = shortcutsValue || valueShow || mergedValue || [];\n    var selectedLength = getAvailableDayjsLength(valueShow || mergedValue);\n    // the first time we select a range after open\n    var firstRange = useRef(true);\n    var now = getNow();\n    var zoneNow = toTimezone(now, utcOffset, timezone);\n    function getTimeValues() {\n        var timeValues = [];\n        var defaultTimeValue = isObject(showTime) && showTime.defaultValue\n            ? getDayjsValue(showTime.defaultValue, showTime.format || 'HH:mm:ss')\n            : [];\n        timeValues[0] = panelValue[0] || defaultTimeValue[0] || zoneNow;\n        timeValues[1] = panelValue[1] || defaultTimeValue[1] || zoneNow;\n        return timeValues;\n    }\n    var timeValues = getTimeValues();\n    var selectedDisabledDate = isHalfAvailable\n        ? function (current) {\n            return availableInputIndex === 0\n                ? current.isAfter(panelValue[1], mode)\n                : current.isBefore(panelValue[0], mode);\n        }\n        : undefined;\n    // if triggerElement !== undefined, we should activate clearRangeOnReselect by default\n    var customTriggerElement = triggerElement !== undefined;\n    var resetRange = customTriggerElement || clearRangeOnReselect;\n    function getDefaultValue() {\n        var value;\n        if (props.value) {\n            value = getDayjsValue(props.value, format, utcOffset, timezone);\n        }\n        else {\n            value = getDayjsValue(props.defaultValue, format, utcOffset, timezone);\n        }\n        if (isHalfAvailable && (!value || (value && !value[nextFocusedInputIndex]))) {\n            var nv = [];\n            nv[nextFocusedInputIndex] = getNow(utcOffset, timezone);\n            return nv;\n        }\n        return value;\n    }\n    var defaultPageShowDates = mergedValue ||\n        getDayjsValue(defaultPickerValue, format) || [now, now];\n    // show date at two panels\n    var _p = __read(useState(getShowDatesFromFocused(defaultPageShowDates)), 2), pageShowDates = _p[0], setPageShowDates = _p[1];\n    var mergedPageShowDate = getShowDatesFromFocused(getDayjsValue(pickerValue, format, utcOffset, timezone)) ||\n        pageShowDates;\n    var previousUtcOffset = usePrevious(utcOffset);\n    var previousTimezone = usePrevious(timezone);\n    // when timezone or utcOffset change changed\n    useUpdate(function () {\n        if (isArray(value) && (previousUtcOffset !== utcOffset || timezone !== previousTimezone)) {\n            var localValue = value.map(function (v) { return toLocal(v, previousUtcOffset, previousTimezone); });\n            var zoneValue = localValue.map(function (v) { return toTimezone(v, utcOffset, timezone); });\n            setValue(zoneValue);\n        }\n    }, [utcOffset, previousUtcOffset, timezone, previousTimezone]);\n    // panel open and change mode\n    useUpdate(function () {\n        setPageShowDates(getShowDatesFromFocused(defaultPageShowDates));\n    }, [mode]);\n    useEffect(function () {\n        setPanelModes([mode, mode]);\n    }, [mode]);\n    useEffect(function () {\n        setHoverPlaceholderValue(undefined);\n        setInputValue(undefined);\n        if (mergedPopupVisible) {\n            var resetPageShowDates = getShowDatesFromFocused(defaultPageShowDates);\n            setIsTimePanel(false);\n            setPanelModes([mode, mode]);\n            setPageShowDates(resetPageShowDates);\n            handlePickerValueChange(resetPageShowDates);\n            setValueShow(mergedValue);\n            if (shortcutsPlacementLeft) {\n                refShortcuts.current.style.maxHeight = refPanel.current.clientHeight + \"px\";\n            }\n        }\n        else {\n            setValueShow(undefined);\n            setValueShowHover(undefined);\n            setShortcutsValue(undefined);\n            blurInput();\n        }\n        firstRange.current = mergedPopupVisible;\n    }, [mergedPopupVisible]);\n    var startStr = (_a = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[0]) === null || _a === void 0 ? void 0 : _a.format(getFormatByIndex(format, 0));\n    var endStr = (_b = propsValueDayjs === null || propsValueDayjs === void 0 ? void 0 : propsValueDayjs[1]) === null || _b === void 0 ? void 0 : _b.format(getFormatByIndex(format, 1));\n    useEffect(function () {\n        setValueShow(undefined);\n        setValueShowHover(undefined);\n    }, [startStr, endStr]);\n    function setFixedPageShowDates(innerValue, index) {\n        if (index === void 0) { index = focusedInputIndex; }\n        var newPageShowDates = getShowDatesFromFocused(innerValue, index);\n        setPageShowDates(newPageShowDates);\n        handlePickerValueChange(newPageShowDates);\n    }\n    function handlePickerValueChange(v) {\n        if (!isSamePanel([v[0], pageShowDates[0]], mode)) {\n            onPickerValueChange &&\n                onPickerValueChange(isArray(v) ? v.map(function (v, i) { return v && v.format(getFormatByIndex(format, i)); }) : undefined, v);\n        }\n    }\n    function getShowDatesFromFocused(dates, index) {\n        if (index === void 0) { index = focusedInputIndex; }\n        var prev = index === 0 || isSamePanel(dates, mode);\n        if (isArray(dates) && dates.length < 2) {\n            return getPageShowDatesByValue(dates[0] || getNow(utcOffset, timezone), mode, 'prev');\n        }\n        if (isArray(dates) && dates.length === 2) {\n            if (dates[index]) {\n                return getPageShowDatesByValue(dates[index], mode, prev ? 'prev' : 'next');\n            }\n            return getPageShowDatesByValue(dates[index === 0 ? 1 : 0] || getNow(utcOffset, timezone), mode, prev && !dates[index === 0 ? 1 : 0] ? 'prev' : 'next');\n        }\n    }\n    function isSamePanel(innerValue, pickerMode) {\n        if (innerValue && innerValue.length === 2 && isValidDayjsArray(innerValue)) {\n            return (((pickerMode === 'date' || pickerMode === 'week') &&\n                innerValue[0].isSame(innerValue[1], 'month')) ||\n                ((pickerMode === 'month' || pickerMode === 'quarter') &&\n                    innerValue[0].isSame(innerValue[1], 'year')) ||\n                (pickerMode === 'year' &&\n                    Math.floor(innerValue[0].year() / 10) === Math.floor(innerValue[1].year() / 10)));\n        }\n    }\n    // get page show date by specify value\n    function getPageShowDatesByValue(value, pickerMode, type) {\n        if (value === void 0) { value = getNow(utcOffset, timezone); }\n        if (pickerMode === void 0) { pickerMode = mode; }\n        if (type === void 0) { type = 'prev'; }\n        var prev = type === 'prev';\n        switch (pickerMode) {\n            case 'date':\n            case 'week':\n                return prev\n                    ? [value, methods.add(value, 1, 'month')]\n                    : [methods.subtract(value, 1, 'month'), value];\n            case 'month':\n            case 'quarter':\n                return prev\n                    ? [value, methods.add(value, 1, 'year')]\n                    : [methods.subtract(value, 1, 'year'), value];\n            case 'year':\n                return prev\n                    ? [value, methods.add(value, 10, 'year')]\n                    : [methods.subtract(value, 10, 'year'), value];\n            default:\n                return [];\n        }\n    }\n    function focusInput(index) {\n        refInput.current &&\n            refInput.current.focus &&\n            refInput.current.focus(isHalfAvailable ? availableInputIndex : index);\n    }\n    function blurInput() {\n        refInput.current && refInput.current.blur && refInput.current.blur();\n    }\n    function visibleChange(visible) {\n        if (visible) {\n            setTimeout(function () { return focusInput(); });\n            setOpen(visible);\n        }\n        else {\n            setOpen(false);\n        }\n    }\n    // open or close popup\n    function setOpen(visible) {\n        onVisibleChange && onVisibleChange(visible);\n        setPopupVisible(visible);\n    }\n    function onClear(e) {\n        e.stopPropagation();\n        var newValueShow = __spreadArray([], __read(panelValue), false);\n        if (isHalfAvailable) {\n            newValueShow[availableInputIndex] = undefined;\n        }\n        else {\n            newValueShow = undefined;\n        }\n        setValue(newValueShow);\n        setValueShow(newValueShow);\n        onHandleChange(newValueShow);\n        props.onClear && props.onClear();\n    }\n    function changeFocusedInputIndex(index, silent) {\n        setFocusedInputIndex(index);\n        if (panelValue && panelValue.length && !silent) {\n            var newPageShowDates = getShowDatesFromFocused(panelValue, index);\n            setPageShowDates(newPageShowDates);\n            handlePickerValueChange(newPageShowDates);\n        }\n    }\n    function isDisabledDate(date) {\n        var selectedDisabled = typeof selectedDisabledDate === 'function' ? selectedDisabledDate(date) : false;\n        var originDisabledDate = typeof disabledDate === 'function' ? disabledDate(date) : false;\n        return originDisabledDate || selectedDisabled;\n    }\n    // Determine whether the input date is in the correct format\n    function isValid(time) {\n        return (isValidTimeString(time, format, focusedInputIndex) &&\n            !isDisabledDate(getDayjsValue(time, format))\n        // (panelValue[nextFocusedInputIndex]\n        //   ? nextFocusedInputIndex === 0\n        //     ? panelValue[nextFocusedInputIndex].isBefore(dayjs(time, format))\n        //     : panelValue[nextFocusedInputIndex].isAfter(dayjs(time, format))\n        //   : true)\n        );\n    }\n    function onChangeInput(e) {\n        var newValueShow = __spreadArray([], __read((panelValue || [])), false);\n        var niv = e.target.value;\n        setInputValue(niv);\n        if (!mergedPopupVisible) {\n            setOpen(true);\n        }\n        if (isValid(niv)) {\n            newValueShow[focusedInputIndex] = getDayjsValue(niv, format);\n            setValueShow(newValueShow);\n            setFixedPageShowDates(newValueShow);\n            setInputValue(undefined);\n        }\n    }\n    function onBlurInput() {\n        if (inputValue) {\n            setInputValue(undefined);\n        }\n    }\n    // Compare with the last value, trigger onChange only if the value changes\n    function onHandleChange(newValue) {\n        if (isDayjsArrayChange(mergedValue, newValue)) {\n            var localValue = isArray(newValue)\n                ? newValue.map(function (v) {\n                    return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n                })\n                : undefined;\n            onChange &&\n                onChange(isArray(localValue)\n                    ? localValue.map(function (v, i) { return v && v.format(getFormatByIndex(format, i)); })\n                    : undefined, localValue);\n        }\n    }\n    function onPressEnter() {\n        if (isArray(valueShow) && valueShow.length) {\n            if (inputValue && !isValid(inputValue)) {\n                setInputValue(undefined);\n            }\n            else if (selectedLength !== 2) {\n                switchFocusedInput();\n            }\n            else if (selectedLength === 2) {\n                onConfirmValue(valueShow);\n            }\n        }\n        else if (mergedPopupVisible) {\n            setOpen(false);\n        }\n    }\n    // Confirm and update component value\n    function onConfirmValue(date, keepOpen) {\n        var confirmValue = date || panelValue;\n        if (!confirmValue || !confirmValue[0] || !confirmValue[1]) {\n            return;\n        }\n        var sortedValues = getSortedDayjsArray(confirmValue);\n        setValue(sortedValues);\n        onHandleChange(sortedValues);\n        if (triggerElement !== null && !keepOpen) {\n            setOpen(false);\n        }\n    }\n    // Callback when click the confirm button\n    function onClickConfirmBtn() {\n        onConfirmValue();\n        var localePanelValue = panelValue.map(function (v) { return getLocaleDayjsValue(v, locale.dayjsLocale); });\n        onOk &&\n            onOk(localePanelValue.map(function (v, i) { return v && v.format(getFormatByIndex(format, i)); }), localePanelValue);\n    }\n    function getUnit() {\n        switch (mode) {\n            case 'date':\n            case 'week':\n                return 'date';\n            case 'month':\n                return 'month';\n            case 'year':\n                return 'year';\n            default:\n                return undefined;\n        }\n    }\n    function outOfRange(date) {\n        if (selectedLength !== 2) {\n            return false;\n        }\n        var v = valueShow || mergedValue;\n        if (focusedInputIndex === 0 && date.isAfter(v[1], getUnit())) {\n            return true;\n        }\n        if (focusedInputIndex === 1 && date.isBefore(v[0], getUnit())) {\n            return true;\n        }\n        return false;\n    }\n    // Callback when click the panel date cell\n    function onSelectPanel(_, date) {\n        var isOutOfRange = outOfRange(date) && firstRange.current;\n        var newValueShow = resetRange && selectedLength === 2 && !isHalfAvailable ? [] : __spreadArray([], __read(panelValue), false);\n        // if custom triggerElement, focused input index always 0 -> 1\n        var focusedIndex = customTriggerElement\n            ? selectedLength === 0 || selectedLength === 2\n                ? 0\n                : 1\n            : focusedInputIndex;\n        var newDate = showTime ? getValueWithTime(date, timeValues[focusedIndex]) : date;\n        if (isOutOfRange) {\n            newValueShow[focusedIndex] = newDate;\n            newValueShow[1 ^ focusedIndex] = undefined;\n        }\n        else {\n            newValueShow[focusedIndex] = newDate;\n        }\n        var sortedValueShow = getSortedDayjsArray(newValueShow);\n        onSelectValueShow(sortedValueShow);\n        setInputValue(undefined);\n        setHoverPlaceholderValue(undefined);\n        var newSelectedLength = getAvailableDayjsLength(newValueShow);\n        if (resetRange) {\n            if (selectedLength === 0 || (selectedLength === 2 && !isHalfAvailable)) {\n                customTriggerElement ? setFocusedInputIndex(1) : switchFocusedInput(true);\n            }\n            else if (!showTime) {\n                onConfirmValue(newValueShow);\n            }\n        }\n        else if (newSelectedLength <= 1) {\n            switchFocusedInput(true);\n        }\n        else if (selectedLength === 2 && firstRange.current && !isHalfAvailable) {\n            firstRange.current = false;\n            switchFocusedInput(true);\n            if (!showTime && !isOutOfRange) {\n                onConfirmValue(newValueShow, true);\n            }\n        }\n        else {\n            firstRange.current = false;\n            if (!showTime && !isOutOfRange) {\n                onConfirmValue(newValueShow);\n            }\n        }\n    }\n    // Callback when click TimePicker\n    function onTimePickerSelect(index, _, time) {\n        var newValueShow = isArray(panelValue) ? __spreadArray([], __read(panelValue), false) : [];\n        var newTimeValue = getValueWithTime(newValueShow[index] || getNow(utcOffset, timezone), time);\n        newValueShow[index] = newTimeValue;\n        onSelectValueShow(newValueShow);\n    }\n    function onSelectValueShow(newValueShow) {\n        setValueShow(newValueShow);\n        setValueShowHover(undefined);\n        var sortedValues = getSortedDayjsArray(newValueShow);\n        var zoneValues = sortedValues.map(function (v) {\n            return getLocaleDayjsValue(toLocal(v, utcOffset, timezone), locale.dayjsLocale);\n        });\n        onSelect &&\n            onSelect(zoneValues.map(function (v, i) { return v && v.format(getFormatByIndex(format, i)); }), zoneValues, { type: focusedInputIndex === 1 ? 'end' : 'start' });\n    }\n    // Switch to next focused input\n    function switchFocusedInput(silent) {\n        changeFocusedInputIndex(nextFocusedInputIndex, silent);\n        setTimeout(function () { return focusInput(nextFocusedInputIndex); });\n    }\n    // Callback when mouse entered the date cell\n    function onMouseEnterCell(date, disabled) {\n        var newValueShowHover = __spreadArray([], __read((panelValue || [])), false);\n        var needShowHover = resetRange ? selectedLength === 1 : selectedLength !== 0;\n        if (!disabled && needShowHover && !outOfRange(date)) {\n            newValueShowHover[focusedInputIndex] = getValueWithTime(date, timeValues[focusedInputIndex]);\n            setValueShowHover(newValueShowHover);\n            setInputValue(undefined);\n        }\n        if (!disabled) {\n            var placeHolderValue = showTime\n                ? getValueWithTime(date, timeValues[focusedInputIndex])\n                : date;\n            setHoverPlaceholderValue(placeHolderValue\n                .locale(locale.dayjsLocale)\n                .format(getFormatByIndex(format, focusedInputIndex)));\n        }\n    }\n    function onMouseLeaveCell() {\n        setValueShowHover(undefined);\n        setHoverPlaceholderValue(undefined);\n    }\n    function isValidDayjsArray(sv) {\n        return sv && isArray(sv) && sv.length === 2 && isDayjs(sv[0]) && isDayjs(sv[1]);\n    }\n    // Determine whether the value entered in the shortcut is in the correct format\n    function isValidShortcut(shortcut) {\n        var sv = typeof shortcut.value === 'function' && shortcut.value();\n        return isValidDayjsArray(sv);\n    }\n    function clearShortcutsTimer() {\n        clearTimeout(shortcutEnterTimer.current);\n        clearTimeout(shortcutLeaveTimer.current);\n        shortcutEnterTimer.current = null;\n        shortcutLeaveTimer.current = null;\n    }\n    // Callback when mouse entered the shortcuts\n    function onMouseEnterShortcut(shortcut) {\n        clearShortcutsTimer();\n        shortcutEnterTimer.current = setTimeout(function () {\n            if (isValidShortcut(shortcut)) {\n                var nv = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n                setShortcutsValue(nv);\n                setFixedPageShowDates(nv);\n            }\n        }, 50);\n    }\n    // Callback when mouse leaved the shortcuts\n    function onMouseLeaveShortcut() {\n        clearShortcutsTimer();\n        shortcutLeaveTimer.current = setTimeout(function () {\n            setShortcutsValue(undefined);\n            setFixedPageShowDates(valueShow || mergedValue || [getNow(utcOffset, timezone), getNow(utcOffset, timezone)]);\n        }, 50);\n    }\n    // Callback when click the shortcuts button\n    function onHandleSelectShortcut(shortcut) {\n        onSelectShortcut && onSelectShortcut(shortcut);\n        if (isValidShortcut(shortcut)) {\n            var time = getDayjsValue(shortcut.value(), format, utcOffset, timezone);\n            onConfirmValue(time);\n        }\n    }\n    // Modify panel date (the value of the panel itself, not the component value)\n    function changePageShowDates(type, unit, num) {\n        if (num === void 0) { num = 1; }\n        var index = type === 'prev' ? 0 : 1;\n        var newPageShowDates = __spreadArray([], __read(mergedPageShowDate), false);\n        if (type === 'prev') {\n            newPageShowDates[index] = methods.subtract(mergedPageShowDate[index], num, unit);\n        }\n        if (type === 'next') {\n            newPageShowDates[index] = methods.add(mergedPageShowDate[index], num, unit);\n        }\n        newPageShowDates = getPageShowDatesByValue(newPageShowDates[index], mode, type);\n        setFixedPageShowDates(newPageShowDates);\n    }\n    // Callback when click the prev or next button\n    function getHeaderOperations(pickerMode) {\n        if (pickerMode === void 0) { pickerMode = mode; }\n        if (pickerMode === 'date' || pickerMode === 'week') {\n            return {\n                onPrev: function () { return changePageShowDates('prev', 'month'); },\n                onNext: function () { return changePageShowDates('next', 'month'); },\n                onSuperPrev: function () { return changePageShowDates('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDates('next', 'year'); },\n            };\n        }\n        if (pickerMode === 'month' || pickerMode === 'quarter') {\n            return {\n                onSuperPrev: function () { return changePageShowDates('prev', 'year'); },\n                onSuperNext: function () { return changePageShowDates('next', 'year'); },\n            };\n        }\n        if (pickerMode === 'year') {\n            return {\n                onSuperPrev: function () { return changePageShowDates('prev', 'year', 10); },\n                onSuperNext: function () { return changePageShowDates('next', 'year', 10); },\n            };\n        }\n    }\n    function onClickSelectTimeBtn() {\n        setIsTimePanel(!isTimePanel);\n    }\n    function renderPopup(panelOnly) {\n        var _a;\n        var classNames = cs(prefixCls + \"-container\", (_a = {},\n            _a[prefixCls + \"-panel-only\"] = panelOnly,\n            _a[prefixCls + \"-container-shortcuts-placement-left\"] = isArray(shortcuts) && shortcutsPlacementLeft,\n            _a[prefixCls + \"-container-rtl\"] = rtl,\n            _a), panelOnly ? className : '');\n        var shortcutsProps = {\n            prefixCls: getPrefixCls('picker'),\n            showTime: showTime,\n            shortcuts: shortcuts,\n            onMouseEnterShortcut: onMouseEnterShortcut,\n            onMouseLeaveShortcut: onMouseLeaveShortcut,\n            onSelectShortcut: onHandleSelectShortcut,\n        };\n        var shouldShowFooter = (showTime && panelModes[0] === 'date' && panelModes[1] === 'date') ||\n            extra ||\n            (isArray(shortcuts) && shortcuts.length && !shortcutsPlacementLeft);\n        var content = (React.createElement(React.Fragment, null,\n            React.createElement(RangePickerPanel, __assign({}, props, getHeaderOperations(), { getHeaderOperations: getHeaderOperations, setRangePageShowDates: setFixedPageShowDates, pageShowDates: mergedPageShowDate, value: panelValue, format: format, onSelectPanel: onSelectPanel, onMouseEnterCell: onMouseEnterCell, onMouseLeaveCell: onMouseLeaveCell, disabledDate: function (current) { return isDisabledDate(current); }, disabledTime: disabledTime, mode: mode, localeName: locale.dayjsLocale, showTime: showTime, timeValues: shortcutsValue || timeValues, onTimePickerSelect: onTimePickerSelect, popupVisible: mergedPopupVisible, disabledTimePickerIndex: disabledTimePickerIndex, isTimePanel: isTimePanel, valueShowHover: valueShowHover, panelModes: panelModes, setPanelModes: setPanelModes })),\n            !!shouldShowFooter && (React.createElement(Footer, __assign({}, shortcutsProps, { DATEPICKER_LOCALE: locale.DatePicker, disabled: !(isArray(panelValue) && panelValue[0] && panelValue[1]), onClickConfirmBtn: onClickConfirmBtn, extra: extra, shortcutsPlacementLeft: shortcutsPlacementLeft, onClickSelectTimeBtn: onClickSelectTimeBtn, isTimePanel: isTimePanel })))));\n        var contentWithShortcuts = shortcutsPlacementLeft ? (React.createElement(React.Fragment, null,\n            React.createElement(Shortcuts, __assign({ ref: refShortcuts }, shortcutsProps)),\n            React.createElement(\"div\", { ref: refPanel, className: prefixCls + \"-panel-wrapper\" }, content))) : (content);\n        var panelNode = typeof panelRender === 'function' ? panelRender(contentWithShortcuts) : contentWithShortcuts;\n        return (React.createElement(\"div\", { className: classNames, onClick: function () { return focusInput(); }, style: panelOnly ? style : {} }, panelNode));\n    }\n    var size = props.size || ctxSize;\n    var placeholders = isArray(placeholder) ? placeholder : locale.DatePicker.placeholders[mode];\n    var suffixIcon = icons && icons.inputSuffix === null\n        ? null\n        : (icons && icons.inputSuffix) || (showTime ? React.createElement(IconCalendarClock, null) : React.createElement(IconCalendar, null));\n    var baseInputProps = {\n        style: style,\n        className: className,\n        popupVisible: mergedPopupVisible,\n        format: format,\n        disabled: disabled,\n        error: error,\n        status: status,\n        size: size,\n        onPressEnter: onPressEnter,\n        onClear: onClear,\n        suffixIcon: suffixIcon,\n        editable: editable,\n        allowClear: allowClear,\n        prefix: props.prefix,\n    };\n    var triggerDisabled = isArray(disabled) ? disabled[0] && disabled[1] : disabled;\n    return (React.createElement(PickerContext.Provider, { value: { utcOffset: utcOffset, timezone: timezone, weekStart: weekStart } }, triggerElement === null ? (renderPopup(true)) : (React.createElement(Trigger, __assign({ popup: renderPopup, trigger: \"click\", clickToClose: false, position: position, disabled: triggerDisabled, popupAlign: triggerPopupAlign, getPopupContainer: getPopupContainer, onVisibleChange: visibleChange, popupVisible: mergedPopupVisible, classNames: \"slideDynamicOrigin\", unmountOnExit: unmountOnExit }, triggerProps), triggerElement || (React.createElement(DateInputRange, __assign({}, pickDataAttributes(props), baseInputProps, { inputProps: inputProps, ref: refInput, placeholder: placeholders, value: valueShow || mergedValue, onChange: onChangeInput, inputValue: hoverPlaceholderValue || inputValue, changeFocusedInputIndex: changeFocusedInputIndex, focusedInputIndex: focusedInputIndex, isPlaceholder: !!hoverPlaceholderValue, separator: separator, onBlur: onBlurInput })))))));\n};\nvar PickerComponent = forwardRef(Picker);\nPickerComponent.displayName = 'RangePicker';\nexport default PickerComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}