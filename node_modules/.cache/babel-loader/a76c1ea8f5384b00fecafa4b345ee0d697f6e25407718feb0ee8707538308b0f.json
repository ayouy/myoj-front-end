{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.every.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.find.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport \"core-js/modules/esnext.iterator.reduce.js\";\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useState, useRef, useContext, useImperativeHandle, forwardRef, useMemo, useCallback } from 'react';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport BTween from 'b-tween';\nimport { isObject, isArray, isNumber } from '../_util/is';\nimport cs from '../_util/classNames';\nimport Spin from '../Spin';\nimport Thead from './thead/index';\nimport Tbody from './tbody/index';\nimport Tfoot from './tfoot/index';\nimport Pagination from '../Pagination';\nimport { on, off } from '../_util/dom';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getScrollBarHeight, getScrollBarWidth, deepCloneData, getOriginData, getSorterFn, getSorterPriority } from './utils';\nimport ColGroup from './colgroup';\nimport useExpand from './hooks/useExpand';\nimport useRowSelection from './hooks/useRowSelection';\nimport useComponent from './hooks/useComponent';\nimport useStickyOffsets from './hooks/useStickyOffsets';\nimport useStickyClassNames from './hooks/useStickyClassNames';\nimport useColumns from './hooks/useColumns';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport ResizeObserver from '../_util/resizeObserver';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport useIsomorphicLayoutEffect from '../_util/hooks/useIsomorphicLayoutEffect';\nimport { pickDataAttributes } from '../_util/pick';\nimport useSorter from './hooks/useSorter';\nvar EMPTY_DATA = [];\nvar EMPTY_COLUMNS = [];\nvar defaultProps = {\n  showHeader: true,\n  border: true,\n  hover: true,\n  rowKey: 'key',\n  pagePosition: 'br',\n  childrenColumnName: 'children',\n  indentSize: 15,\n  showSorterTooltip: true\n};\nfunction Table(baseProps, ref) {\n  var _a, _b;\n  var _c, _d;\n  var _e = useContext(ConfigContext),\n    getPrefixCls = _e.getPrefixCls,\n    loadingElement = _e.loadingElement,\n    ctxSize = _e.size,\n    tablePagination = _e.tablePagination,\n    renderEmpty = _e.renderEmpty,\n    componentConfig = _e.componentConfig,\n    rtl = _e.rtl;\n  var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Table);\n  // priority: props.pagination > ConfigProvider.tablePagination > ConfigProvider.Table.pagination\n  var mergePagination = useMergeProps(isObject(baseProps === null || baseProps === void 0 ? void 0 : baseProps.pagination) ? baseProps === null || baseProps === void 0 ? void 0 : baseProps.pagination : {}, isObject((_c = componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Table) === null || _c === void 0 ? void 0 : _c.pagination) ? (_d = componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Table) === null || _d === void 0 ? void 0 : _d.pagination : {}, tablePagination || {});\n  var style = props.style,\n    className = props.className,\n    components = props.components,\n    border = props.border,\n    borderCell = props.borderCell,\n    _f = props.columns,\n    columns = _f === void 0 ? EMPTY_COLUMNS : _f,\n    _g = props.data,\n    data = _g === void 0 ? EMPTY_DATA : _g,\n    scroll = props.scroll,\n    noDataElement = props.noDataElement,\n    showHeader = props.showHeader,\n    stripe = props.stripe,\n    hover = props.hover,\n    pagination = props.pagination,\n    onChange = props.onChange,\n    pagePosition = props.pagePosition,\n    childrenColumnName = props.childrenColumnName,\n    indentSize = props.indentSize,\n    rowSelection = props.rowSelection,\n    tableLayoutFixed = props.tableLayoutFixed,\n    footer = props.footer,\n    virtualized = props.virtualized,\n    renderPagination = props.renderPagination,\n    summary = props.summary,\n    rowKey = props.rowKey;\n  var clonedData = useMemo(function () {\n    return deepCloneData(data, childrenColumnName);\n  }, [data, childrenColumnName]);\n  var prefixCls = getPrefixCls('table');\n  // configProvider 提供的size可能和table size 不匹配，此时默认 'default'\n  var size = props.size || (['default', 'middle', 'small'].indexOf(ctxSize) > -1 ? ctxSize : 'default');\n  var refTableHead = useRef(null);\n  var refTableBody = useRef(null);\n  var refTBody = useRef(null);\n  var refTableFoot = useRef(null);\n  var refTable = useRef(null);\n  var refVirtualList = useRef(null);\n  // Not fixed header\n  var refTableNF = useRef(null);\n  var lastScrollLeft = useRef(0);\n  var scrollbarChanged = useRef(false);\n  var _h = __read(useColumns(props), 2),\n    groupColumns = _h[0],\n    flattenColumns = _h[1];\n  var _j = getDefaultFiltersAndSorters(),\n    currentFilters = _j.currentFilters,\n    defaultSorters = _j.defaultSorters;\n  var _k = __read(useState(1), 2),\n    currentPage = _k[0],\n    setCurrentPage = _k[1];\n  var _l = __read(useState(mergePagination.pageSize || mergePagination.defaultPageSize || 10), 2),\n    innerPageSize = _l[0],\n    setInnerPageSize = _l[1];\n  var _m = __read(useState(currentFilters), 2),\n    filters = _m[0],\n    setFilters = _m[1];\n  var _o = __read(useState(0), 2),\n    tableViewWidth = _o[0],\n    setTableViewWidth = _o[1];\n  var _p = __read(useState([]), 2),\n    columnWidths = _p[0],\n    setColumnWidths = _p[1];\n  var stickyOffsets = useStickyOffsets(flattenColumns);\n  var _q = __read(useStickyClassNames(groupColumns, flattenColumns, prefixCls), 2),\n    groupStickyClassNames = _q[0],\n    stickyClassNames = _q[1];\n  var _r = useSorter(flattenColumns, defaultSorters),\n    currentSorter = _r.currentSorter,\n    activeSorters = _r.activeSorters,\n    getNextActiveSorters = _r.getNextActiveSorters,\n    updateStateSorters = _r.updateStateSorters;\n  var _s = useComponent(components),\n    ComponentTable = _s.ComponentTable,\n    ComponentBodyWrapper = _s.ComponentBodyWrapper,\n    ComponentHeaderWrapper = _s.ComponentHeaderWrapper;\n  var getRowKey = useMemo(function () {\n    if (typeof rowKey === 'function') {\n      return function (record) {\n        return rowKey(getOriginData(record));\n      };\n    }\n    return function (record) {\n      return record[rowKey];\n    };\n  }, [rowKey]);\n  function getDefaultFiltersAndSorters() {\n    var currentFilters = {};\n    var defaultSorters = [];\n    flattenColumns.forEach(function (column) {\n      var innerDataIndex = column.key;\n      if (column.defaultFilters) {\n        currentFilters[innerDataIndex] = column.defaultFilters;\n      }\n      if (column.filteredValue) {\n        currentFilters[innerDataIndex] = column.filteredValue;\n      }\n      if ('defaultSortOrder' in column || 'sortOrder' in column) {\n        var priority = getSorterPriority(column.sorter);\n        var direction = 'sortOrder' in column ? column.sortOrder : column.defaultSortOrder;\n        var sorter = {\n          field: innerDataIndex,\n          direction: direction,\n          sorterFn: getSorterFn(column.sorter),\n          priority: priority\n        };\n        if (!direction) {\n          defaultSorters.push(sorter);\n        } else if (isNumber(priority)) {\n          if (defaultSorters.every(function (item) {\n            return isNumber(item.priority) || !item.direction;\n          })) {\n            defaultSorters.push(sorter);\n          }\n        } else if (defaultSorters.every(function (item) {\n          return !item.direction;\n        })) {\n          defaultSorters.push(sorter);\n        } else {\n          defaultSorters = [sorter];\n        }\n      }\n    });\n    return {\n      currentFilters: currentFilters,\n      defaultSorters: defaultSorters\n    };\n  }\n  var controlledFilter = useMemo(function () {\n    // 允许 filteredValue 设置为 undefined 表示不筛选\n    var flattenFilteredValueColumns = flattenColumns.filter(function (column) {\n      return 'filteredValue' in column;\n    });\n    var newFilters = {};\n    // 受控的筛选，当columns中的筛选发生改变时，更新state\n    if (flattenFilteredValueColumns.length) {\n      flattenFilteredValueColumns.forEach(function (column, index) {\n        var innerDataIndex = column.key || column.dataIndex || index;\n        if (innerDataIndex !== undefined) {\n          newFilters[innerDataIndex] = column.filteredValue;\n        }\n      });\n    }\n    return newFilters;\n  }, [flattenColumns]);\n  var innerFilters = useMemo(function () {\n    return Object.keys(controlledFilter).length ? controlledFilter : filters;\n  }, [filters, controlledFilter]);\n  /** ----------- Sorter ----------- */\n  function onSort(direction, field) {\n    var column = getColumnByUniqueKey(field);\n    if (!column) {\n      return;\n    }\n    var sorter = {\n      direction: direction,\n      field: field,\n      sorterFn: getSorterFn(column.sorter),\n      priority: getSorterPriority(column.sorter)\n    };\n    var nextActiveSorters = getNextActiveSorters(sorter);\n    updateStateSorters(sorter, nextActiveSorters);\n    var newProcessedData = getProcessedData(sorter, nextActiveSorters, innerFilters);\n    var currentData = getPageData(newProcessedData);\n    onChange && onChange(getPaginationProps(newProcessedData), sorter, innerFilters, {\n      currentData: getOriginData(currentData),\n      currentAllData: getOriginData(newProcessedData),\n      action: 'sort'\n    });\n  }\n  function compareFn(activeSorters) {\n    var compare = function (fn, direction) {\n      return function (a, b) {\n        var result = fn(a, b);\n        return direction === 'descend' ? -result : result;\n      };\n    };\n    var sorters = __spreadArray([], __read(activeSorters), false);\n    sorters.sort(function (a, b) {\n      return b.priority - a.priority;\n    });\n    return function (a, b) {\n      for (var i = 0, l = sorters.length; i < l; i++) {\n        var _a = sorters[i],\n          sorterFn = _a.sorterFn,\n          direction = _a.direction;\n        if (typeof sorterFn !== 'function') {\n          continue;\n        }\n        var result = compare(sorterFn, direction)(a, b);\n        if (result !== 0) {\n          return result;\n        }\n      }\n      return 0;\n    };\n  }\n  /** ----------- Sorter End ----------- */\n  /** ----------- Filters ----------- */\n  function onHandleFilter(column, filter) {\n    var _a;\n    var newFilters = __assign(__assign({}, innerFilters), (_a = {}, _a[column.dataIndex] = filter, _a));\n    var mergedFilters = __assign(__assign({}, newFilters), controlledFilter);\n    if (isArray(filter) && filter.length) {\n      setFilters(mergedFilters);\n      var newProcessedData = getProcessedData(currentSorter, activeSorters, newFilters);\n      var currentData = getPageData(newProcessedData);\n      onChange && onChange(getPaginationProps(newProcessedData), activeSorters.length === 1 ? activeSorters[0] : activeSorters, newFilters, {\n        currentData: getOriginData(currentData),\n        currentAllData: getOriginData(newProcessedData),\n        action: 'filter'\n      });\n    } else if (isArray(filter) && !filter.length) {\n      onHandleFilterReset(column);\n    }\n  }\n  function onHandleFilterReset(_a) {\n    var dataIndex = _a.dataIndex;\n    var newFilters = __assign({}, innerFilters);\n    delete newFilters[dataIndex];\n    setFilters(newFilters);\n    var newProcessedData = getProcessedData(currentSorter, activeSorters, newFilters);\n    var currentData = getPageData(newProcessedData);\n    onChange && onChange(getPaginationProps(newProcessedData), activeSorters.length === 1 ? activeSorters[0] : activeSorters, newFilters, {\n      currentData: getOriginData(currentData),\n      currentAllData: getOriginData(newProcessedData),\n      action: 'filter'\n    });\n  }\n  /** ----------- Filters End ----------- */\n  var hasFixedColumnLeft = !!flattenColumns.find(function (c) {\n    return c.fixed === 'left';\n  });\n  var hasFixedColumnRight = !!flattenColumns.find(function (c) {\n    return c.fixed === 'right';\n  });\n  var hasFixedColumn = hasFixedColumnLeft || hasFixedColumnRight;\n  function getProcessedData(currentSorter, activeSorters, filters) {\n    var _data = (clonedData || []).slice();\n    Object.keys(filters).forEach(function (field) {\n      if (filters[field] && filters[field].length) {\n        var column_1 = getColumnByUniqueKey(field);\n        if (column_1 && typeof column_1.onFilter === 'function') {\n          _data = _data.filter(function (row) {\n            return filters[field].reduce(function (pre, cur) {\n              return pre || column_1.onFilter(cur, row);\n            }, false);\n          });\n        }\n      }\n    });\n    var getSortData = function (d) {\n      return d.slice().sort(compareFn(activeSorters)).map(function (item) {\n        var _a;\n        if (isArray(item[childrenColumnName])) {\n          return __assign(__assign({}, item), (_a = {}, _a[childrenColumnName] = getSortData(item[childrenColumnName]), _a));\n        }\n        return item;\n      });\n    };\n    if (currentSorter.direction && typeof currentSorter.sorterFn === 'function' || activeSorters.length) {\n      return getSortData(_data);\n    }\n    return _data;\n  }\n  // 获得经过 sorter 和 filters 筛选之后的 data\n  var processedData = getProcessedData(currentSorter, activeSorters, innerFilters);\n  function getPaginationProps(_processedData) {\n    if (_processedData === void 0) {\n      _processedData = processedData;\n    }\n    var pageSize = mergePagination.pageSize || innerPageSize || 10;\n    var paginationSize = size === 'middle' ? 'default' : size;\n    var selectPopupPosition = 'top';\n    if (pagePosition === 'tl' || pagePosition === 'bl') {\n      selectPopupPosition = 'bottom';\n    } else {\n      selectPopupPosition = 'top';\n    }\n    var total = isArray(_processedData) ? _processedData.length : 0;\n    var current = Math.ceil(total / pageSize) < currentPage ? 1 : currentPage;\n    if (current !== currentPage) {\n      setCurrentPage(current);\n    }\n    var paginationProps = {\n      size: paginationSize,\n      total: total,\n      pageSize: pageSize,\n      current: current,\n      selectProps: {\n        triggerProps: {\n          position: selectPopupPosition\n        }\n      }\n    };\n    if (typeof pagination === 'object' && pagination.selectProps) {\n      paginationProps.selectProps = __assign(__assign({}, paginationProps.selectProps), pagination.selectProps);\n    }\n    if (isObject(pagination)) {\n      paginationProps = __assign(__assign({}, paginationProps), pagination);\n    }\n    if (isObject(mergePagination)) {\n      paginationProps = __assign(__assign({}, paginationProps), mergePagination);\n    }\n    paginationProps.onChange = onPaginationChange;\n    return paginationProps;\n  }\n  var paginationProps = getPaginationProps();\n  var pageData = getPageData();\n  function getPageData(currentData, _paginationProps) {\n    if (currentData === void 0) {\n      currentData = processedData;\n    }\n    if (_paginationProps === void 0) {\n      _paginationProps = paginationProps;\n    }\n    var _a = _paginationProps.current,\n      current = _a === void 0 ? 0 : _a,\n      _b = _paginationProps.pageSize,\n      pageSize = _b === void 0 ? 10 : _b;\n    if (pagination === false) {\n      return currentData;\n    }\n    if (isObject(pagination) && data.length <= pageSize) {\n      return currentData;\n    }\n    return currentData.slice((current - 1) * pageSize, current * pageSize);\n  }\n  var throttleResizeHandler = debounce(resizeHandler, 100);\n  var fixedHeader = !!(scroll && scroll.y);\n  var summaryNode = summary === null || summary === void 0 ? void 0 : summary(getOriginData(processedData));\n  var fixedFooterPosition = summary && React.isValidElement(summaryNode) && summaryNode.props.fixed;\n  var fixedFooter = fixedHeader && fixedFooterPosition;\n  useIsomorphicLayoutEffect(function () {\n    resizeHandler();\n    on(window, 'resize', throttleResizeHandler);\n    var tableHead = refTableHead.current;\n    var tableBody = refTableBody.current;\n    var tableFoot = refTableFoot.current;\n    if (tableBody) {\n      on(tableBody, 'scroll', tableScrollHandler);\n    }\n    var theadScrollContainer = tableHead && tableHead.parentNode;\n    if (tableHead) {\n      if (theadScrollContainer) {\n        on(theadScrollContainer, 'scroll', tableScrollHandler);\n      }\n    }\n    if (tableFoot) {\n      on(tableFoot, 'scroll', tableScrollHandler);\n    }\n    return function () {\n      off(window, 'resize', throttleResizeHandler);\n      if (tableBody) {\n        off(tableBody, 'scroll', tableScrollHandler);\n      }\n      if (theadScrollContainer) {\n        off(theadScrollContainer, 'scroll', tableScrollHandler);\n      }\n      if (tableFoot) {\n        off(tableFoot, 'scroll', tableScrollHandler);\n      }\n    };\n  }, [hasFixedColumnLeft, hasFixedColumnRight, scroll === null || scroll === void 0 ? void 0 : scroll.x, scroll === null || scroll === void 0 ? void 0 : scroll.y, flattenColumns.length, data]);\n  useUpdate(function () {\n    var _a = getPaginationProps(data),\n      total = _a.total,\n      pageSize = _a.pageSize;\n    var maxPageNum = Math.ceil(total / pageSize);\n    if (maxPageNum < currentPage) {\n      setCurrentPage(1);\n    }\n  }, [data === null || data === void 0 ? void 0 : data.length]);\n  useUpdate(function () {\n    setFixedColumnClassNames();\n  }, [data, hasFixedColumnLeft, hasFixedColumnRight, rtl]);\n  useImperativeHandle(ref, function () {\n    return {\n      getRootDomElement: getRootDomElement,\n      scrollIntoView: function (dataIndex) {\n        if (refVirtualList.current) {\n          refVirtualList.current.scrollTo({\n            key: dataIndex\n          });\n        }\n      },\n      getRootDOMNode: getRootDomElement\n    };\n  });\n  function getRootDomElement() {\n    return refTable.current;\n  }\n  function resizeHandler() {\n    setFixedColumnClassNames();\n    var root = getRootDomElement();\n    if (root && (hasFixedColumn || scroll && scroll.x)) {\n      var ele = root.querySelector(\".\" + prefixCls + \"-body\") || root.querySelector(\".\" + prefixCls + \"-content-inner\");\n      var tableViewWidth_1 = ele.getBoundingClientRect().width;\n      setTableViewWidth(tableViewWidth_1);\n    }\n  }\n  var setPositionClassNames = useCallback(throttle(function () {\n    var table = refTable.current;\n    var tbody = fixedHeader ? refTableBody.current : refTableNF.current && refTableNF.current.parentNode;\n    if (tbody) {\n      var scrollLeft = rtl ? -tbody.scrollLeft : tbody.scrollLeft;\n      var alignLeft = scrollLeft === 0;\n      // const alignRight = tbody.scrollLeft + tbody.clientWidth >= tbody.scrollWidth;\n      var alignRight = scrollLeft + 1 >= tbody.children[0].getBoundingClientRect().width - tbody.getBoundingClientRect().width;\n      if (alignLeft && alignRight) {\n        setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-both\");\n      } else if (alignLeft) {\n        setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-\" + (rtl ? 'right' : 'left'));\n      } else if (alignRight) {\n        setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-\" + (rtl ? 'left' : 'right'));\n      } else {\n        setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-middle\");\n      }\n    } else {\n      table && resetTableClassName(table.classList);\n    }\n  }, 100), [refTable.current, refTableBody.current, fixedHeader, rtl]);\n  function setFixedColumnClassNames() {\n    if (hasFixedColumn || scroll && isObject(scroll) && scroll.x) {\n      var table = refTable.current;\n      if (table) {\n        if (hasFixedColumnLeft) {\n          setTableFixedClassName(table.classList, prefixCls + \"-has-fixed-col-left\");\n        }\n        if (hasFixedColumnRight) {\n          setTableFixedClassName(table.classList, prefixCls + \"-has-fixed-col-right\");\n        }\n      }\n      setPositionClassNames();\n    }\n  }\n  function setTableFixedClassName(tableClassList, className) {\n    if (!tableClassList.contains(className)) {\n      tableClassList.add(className);\n    }\n  }\n  function resetTableClassName(classList) {\n    classList.remove(prefixCls + \"-scroll-position-both\");\n    classList.remove(prefixCls + \"-scroll-position-left\");\n    classList.remove(prefixCls + \"-scroll-position-right\");\n    classList.remove(prefixCls + \"-scroll-position-middle\");\n  }\n  function setFixedColumnsClassList(classList, className) {\n    if (!classList.contains(className)) {\n      resetTableClassName(classList);\n      classList.add(className);\n    }\n  }\n  var _t = useRowSelection(props, pageData, clonedData, getRowKey),\n    selectedRowKeys = _t.selectedRowKeys,\n    indeterminateKeys = _t.indeterminateKeys,\n    onCheckAll = _t.onCheckAll,\n    onCheck = _t.onCheck,\n    onCheckRadio = _t.onCheckRadio,\n    setSelectedRowKeys = _t.setSelectedRowKeys,\n    allSelectedRowKeys = _t.allSelectedRowKeys,\n    flattenData = _t.flattenData;\n  // flattenColumns 在构造时优先使用了 column.key 作为主键，在查询时使用 getColumnByDataIndex 方法可能会导致bug。\n  function getColumnByUniqueKey(key) {\n    return flattenColumns.find(function (column, index) {\n      if (typeof column.key !== 'undefined') {\n        if (typeof column.key === 'number' && typeof key === 'string') {\n          return column.key.toString() === key;\n        }\n        return column.key === key;\n      }\n      // unnecessary\n      if (typeof column.dataIndex !== 'undefined') {\n        return column.dataIndex === key;\n      }\n      if (typeof key === 'number') {\n        return index === key;\n      }\n      return false;\n    });\n  }\n  function onPaginationChange(current, pageSize) {\n    setCurrentPage(current);\n    setInnerPageSize(pageSize);\n    if (current !== currentPage) {\n      scrollToTop();\n    }\n    if (rowSelection && !rowSelection.checkCrossPage && selectedRowKeys.length) {\n      setSelectedRowKeys([]);\n      rowSelection.onChange && rowSelection.onChange([], []);\n    }\n    var newPaginationProps = __assign(__assign({}, getPaginationProps()), {\n      current: current,\n      pageSize: pageSize\n    });\n    onChange && onChange(newPaginationProps, activeSorters.length === 1 ? activeSorters[0] : activeSorters, innerFilters, {\n      currentData: getOriginData(getPageData(processedData, newPaginationProps)),\n      currentAllData: getOriginData(processedData),\n      action: 'paginate'\n    });\n    mergePagination.onChange && mergePagination.onChange(current, pageSize);\n  }\n  function scrollToTop() {\n    var tableBody = refTableBody.current;\n    if (!tableBody) {\n      return;\n    }\n    var scrollTop = refTableBody.current.scrollTop;\n    var tween = new BTween({\n      from: {\n        scrollTop: scrollTop\n      },\n      to: {\n        scrollTop: 0\n      },\n      easing: 'quintInOut',\n      duration: 300,\n      onUpdate: function (keys) {\n        if (refTableBody.current) {\n          refTableBody.current.scrollTop = keys.scrollTop;\n        }\n      }\n    });\n    tween.start();\n  }\n  function tableScrollHandler(e) {\n    var target = e.target;\n    var tbody = refTableBody.current;\n    var theadScrollContainer = refTableHead.current && refTableHead.current.parentNode;\n    var tfoot = refTableFoot.current;\n    if (target.scrollLeft !== lastScrollLeft.current) {\n      if (theadScrollContainer) {\n        theadScrollContainer.scrollLeft = target.scrollLeft;\n      }\n      if (tbody) {\n        tbody.scrollLeft = target.scrollLeft;\n      }\n      if (tfoot) {\n        tfoot.scrollLeft = target.scrollLeft;\n      }\n      setFixedColumnClassNames();\n    }\n    lastScrollLeft.current = e.target.scrollLeft;\n  }\n  // isFixedHeader = false\n  function tableScrollHandlerNF(e) {\n    var target = e.target;\n    var table = refTableNF.current;\n    if (target.scrollLeft !== lastScrollLeft.current) {\n      table.scrollLeft = target.scrollLeft;\n      setFixedColumnClassNames();\n    }\n    lastScrollLeft.current = e.target.scrollLeft;\n  }\n  var _u = __read(useExpand(props, flattenData, getRowKey), 2),\n    expandedRowKeys = _u[0],\n    onClickExpandBtn = _u[1];\n  var scrollStyleY = {};\n  var scrollStyleX = {};\n  if (scroll) {\n    if (scroll.x && (typeof scroll.x === 'number' || typeof scroll.x === 'string')) {\n      scrollStyleX = {\n        width: scroll.x\n      };\n    }\n    if (scroll.y && (typeof scroll.y === 'number' || typeof scroll.y === 'string')) {\n      scrollStyleY = {\n        maxHeight: scroll.y\n      };\n    }\n  }\n  function setScrollBarStyle() {\n    var wrapper = refTableHead.current && refTableHead.current.parentNode;\n    var scrollBarHeight = getScrollBarHeight(wrapper);\n    if (scrollBarHeight && scrollBarHeight > 0) {\n      wrapper.style.marginBottom = \"-\" + scrollBarHeight + \"px\";\n      wrapper.style.paddingBottom = '0px';\n      if (refTableFoot.current) {\n        refTableFoot.current.style.marginBottom = \"-\" + scrollBarHeight + \"px\";\n        refTableFoot.current.style.paddingBottom = '0px';\n      }\n    }\n    // 根据 Tbody 决定 Thead 是否显示纵向滚动条\n    // TODO: Remove\n    setTimeout(function () {\n      var scrollWrapper = refTableBody.current;\n      var scrollBarWidth = getScrollBarWidth(scrollWrapper);\n      if (scrollBarWidth) {\n        scrollbarChanged.current = true;\n        if (wrapper) {\n          wrapper.style.overflowY = 'scroll';\n        }\n        if (refTableFoot.current) {\n          refTableFoot.current.style.overflowY = 'scroll';\n        }\n      } else if (wrapper && scrollbarChanged.current) {\n        scrollbarChanged.current = false;\n        wrapper.style.overflowY = 'auto';\n        if (refTableFoot.current) {\n          refTableFoot.current.style.overflowY = 'auto';\n        }\n      }\n    });\n  }\n  var theadNode = React.createElement(Thead, __assign({}, props, {\n    activeSorters: activeSorters,\n    currentSorter: currentSorter,\n    selectedRowKeys: selectedRowKeys,\n    currentFilters: innerFilters,\n    onCheckAll: onCheckAll,\n    onSort: onSort,\n    data: pageData,\n    onHandleFilter: onHandleFilter,\n    onHandleFilterReset: onHandleFilterReset,\n    prefixCls: prefixCls,\n    allSelectedRowKeys: allSelectedRowKeys,\n    groupColumns: groupColumns,\n    stickyOffsets: stickyOffsets,\n    groupStickyClassNames: groupStickyClassNames\n  }));\n  function renderThead() {\n    var maxContentWidth = isObject(scroll) && scroll.x === 'max-content';\n    return fixedHeader || virtualized ? React.createElement(ComponentHeaderWrapper, {\n      className: prefixCls + \"-header\"\n    }, React.createElement(ComponentTable, {\n      ref: refTableHead,\n      style: maxContentWidth ? {} : scrollStyleX\n    }, React.createElement(ColGroup, {\n      columns: flattenColumns,\n      prefixCls: prefixCls,\n      producer: false,\n      columnWidths: maxContentWidth && scroll.y ? columnWidths : null\n    }), theadNode)) : theadNode;\n  }\n  var footerNode = summaryNode && React.createElement(Tfoot, {\n    prefixCls: prefixCls,\n    summary: summary,\n    data: pageData,\n    columns: flattenColumns,\n    stickyOffsets: stickyOffsets,\n    stickyClassNames: stickyClassNames\n  });\n  var tbodyNode = React.createElement(Tbody, __assign({}, props, {\n    saveRef: function (node) {\n      return refTBody.current = node;\n    },\n    selectedRowKeys: selectedRowKeys,\n    indeterminateKeys: indeterminateKeys,\n    expandedRowKeys: expandedRowKeys,\n    onCheck: onCheck,\n    onCheckRadio: onCheckRadio,\n    onClickExpandBtn: onClickExpandBtn,\n    columns: flattenColumns,\n    data: pageData,\n    prefixCls: prefixCls,\n    hasFixedColumn: hasFixedColumn,\n    tableViewWidth: tableViewWidth,\n    indentSize: indentSize,\n    noDataElement: noDataElement || renderEmpty('Table'),\n    activeSorters: activeSorters,\n    currentSorter: currentSorter,\n    stickyOffsets: stickyOffsets,\n    stickyClassNames: stickyClassNames,\n    getRowKey: getRowKey,\n    saveVirtualListRef: function (ref) {\n      if (virtualized) {\n        refVirtualList.current = ref;\n        refTableBody.current = ref === null || ref === void 0 ? void 0 : ref.dom;\n      }\n    }\n  }));\n  var tbody = !virtualized && !fixedFooter ? React.createElement(React.Fragment, null, tbodyNode, footerNode) : tbodyNode;\n  function renderTbody() {\n    var producer = isObject(scroll) && scroll.x === 'max-content' && !!scroll.y && isArray(data) && data.length > 0;\n    return React.createElement(ResizeObserver, {\n      onResize: setScrollBarStyle,\n      getTargetDOMNode: function () {\n        return refTableBody.current || refTBody.current;\n      }\n    }, fixedHeader && !virtualized ? React.createElement(ComponentBodyWrapper, {\n      ref: refTableBody,\n      className: prefixCls + \"-body\",\n      style: scrollStyleY\n    }, React.createElement(ComponentTable, {\n      style: scrollStyleX\n    }, React.createElement(ColGroup, {\n      columns: flattenColumns,\n      prefixCls: prefixCls,\n      producer: producer,\n      onSetColumnWidths: setColumnWidths,\n      expandedRowKeys: expandedRowKeys,\n      data: data\n    }), tbody)) : tbody);\n  }\n  function renderTable() {\n    var scrollStyle = {};\n    if (scroll && isObject(scroll) && scroll.x) {\n      scrollStyle = {\n        width: scroll.x\n      };\n    }\n    var summaryTableNode = React.createElement(\"div\", {\n      className: prefixCls + \"-tfoot\",\n      ref: refTableFoot\n    }, React.createElement(ComponentTable, {\n      style: scrollStyle\n    }, React.createElement(ColGroup, {\n      columns: flattenColumns,\n      prefixCls: prefixCls\n    }), footerNode));\n    var summaryFixedTop = summaryNode && fixedHeader && fixedFooterPosition === 'top';\n    var summaryFixedBottom = summaryNode && fixedHeader && fixedFooterPosition === 'bottom';\n    var body = React.createElement(React.Fragment, null, showHeader ? renderThead() : null, summaryFixedTop && summaryTableNode, renderTbody(), summaryFixedBottom && summaryTableNode);\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: prefixCls + \"-container\"\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-content-scroll\"\n    }, React.createElement(\"div\", {\n      className: prefixCls + \"-content-inner\",\n      onScroll: !fixedHeader ? tableScrollHandlerNF : undefined\n    }, fixedHeader || virtualized ? body : React.createElement(ComponentTable, {\n      ref: refTableNF,\n      style: scrollStyle\n    }, React.createElement(ColGroup, {\n      prefixCls: prefixCls,\n      columns: flattenColumns\n    }), body)))), typeof footer === 'function' && React.createElement(\"div\", {\n      className: prefixCls + \"-footer\"\n    }, footer(pageData)));\n  }\n  if (!columns.length) {\n    return null;\n  }\n  var showWrapperBorder = isObject(border) ? border.wrapper : border;\n  var showCellBorder = isObject(border) ? border.cell : borderCell;\n  var showHeaderCellBorder = isObject(border) ? border.cell || border.headerCell : borderCell;\n  var showBodyCellBorder = isObject(border) ? border.cell || border.bodyCell : borderCell;\n  var classNames = cs(prefixCls, prefixCls + \"-size-\" + size, (_a = {}, _a[prefixCls + \"-border\"] = showWrapperBorder, _a[prefixCls + \"-border-cell\"] = showCellBorder, _a[prefixCls + \"-border-header-cell\"] = !showCellBorder && showHeaderCellBorder, _a[prefixCls + \"-border-body-cell\"] = !showCellBorder && showBodyCellBorder, _a[prefixCls + \"-stripe\"] = stripe, _a[prefixCls + \"-hover\"] = hover, _a[prefixCls + \"-type-radio\"] = rowSelection && rowSelection.type === 'radio', _a[prefixCls + \"-layout-fixed\"] = tableLayoutFixed || scroll && (scroll.x || scroll.y) || columns.find(function (col) {\n    return col.ellipsis;\n  }), _a[prefixCls + \"-fixed-column\"] = hasFixedColumn, _a[prefixCls + \"-virtualized\"] = virtualized, _a[prefixCls + \"-rtl\"] = rtl, _a), className);\n  var isPaginationTop = pagePosition === 'tl' || pagePosition === 'tr' || pagePosition === 'topCenter';\n  var paginationClassName = cs(prefixCls + \"-pagination\", (_b = {}, _b[prefixCls + \"-pagination-left\"] = pagePosition === 'tl' || pagePosition === 'bl', _b[prefixCls + \"-pagination-center\"] = pagePosition === 'topCenter' || pagePosition === 'bottomCenter', _b[prefixCls + \"-pagination-top\"] = isPaginationTop, _b));\n  var loading = props.loading;\n  if (typeof loading === 'boolean') {\n    loading = {\n      loading: loading\n    };\n  }\n  var customPagination = typeof renderPagination === 'function';\n  var paginationEle = customPagination ? renderPagination(React.createElement(Pagination, __assign({}, paginationProps))) : React.createElement(\"div\", {\n    className: paginationClassName\n  }, React.createElement(Pagination, __assign({}, paginationProps)));\n  var showPagination = pagination !== false && (processedData.length !== 0 || paginationProps.total > 0);\n  return React.createElement(\"div\", __assign({\n    ref: refTable,\n    style: style,\n    className: classNames\n  }, pickDataAttributes(props)), React.createElement(Spin, __assign({\n    element: loadingElement\n  }, loading), showPagination && isPaginationTop && paginationEle, renderTable(), showPagination && !isPaginationTop && paginationEle));\n}\nvar TableComponent = forwardRef(Table);\nTableComponent.displayName = 'Table';\nexport default TableComponent;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__read","o","m","Symbol","iterator","r","ar","e","next","done","push","value","error","__spreadArray","to","from","pack","l","Array","slice","concat","React","useState","useRef","useContext","useImperativeHandle","forwardRef","useMemo","useCallback","debounce","throttle","BTween","isObject","isArray","isNumber","cs","Spin","Thead","Tbody","Tfoot","Pagination","on","off","ConfigContext","getScrollBarHeight","getScrollBarWidth","deepCloneData","getOriginData","getSorterFn","getSorterPriority","ColGroup","useExpand","useRowSelection","useComponent","useStickyOffsets","useStickyClassNames","useColumns","useUpdate","ResizeObserver","useMergeProps","useIsomorphicLayoutEffect","pickDataAttributes","useSorter","EMPTY_DATA","EMPTY_COLUMNS","defaultProps","showHeader","border","hover","rowKey","pagePosition","childrenColumnName","indentSize","showSorterTooltip","Table","baseProps","ref","_a","_b","_c","_d","_e","getPrefixCls","loadingElement","ctxSize","size","tablePagination","renderEmpty","componentConfig","rtl","props","mergePagination","pagination","style","className","components","borderCell","_f","columns","_g","data","scroll","noDataElement","stripe","onChange","rowSelection","tableLayoutFixed","footer","virtualized","renderPagination","summary","clonedData","prefixCls","indexOf","refTableHead","refTableBody","refTBody","refTableFoot","refTable","refVirtualList","refTableNF","lastScrollLeft","scrollbarChanged","_h","groupColumns","flattenColumns","_j","getDefaultFiltersAndSorters","currentFilters","defaultSorters","_k","currentPage","setCurrentPage","_l","pageSize","defaultPageSize","innerPageSize","setInnerPageSize","_m","filters","setFilters","_o","tableViewWidth","setTableViewWidth","_p","columnWidths","setColumnWidths","stickyOffsets","_q","groupStickyClassNames","stickyClassNames","_r","currentSorter","activeSorters","getNextActiveSorters","updateStateSorters","_s","ComponentTable","ComponentBodyWrapper","ComponentHeaderWrapper","getRowKey","record","forEach","column","innerDataIndex","key","defaultFilters","filteredValue","priority","sorter","direction","sortOrder","defaultSortOrder","field","sorterFn","every","item","controlledFilter","flattenFilteredValueColumns","filter","newFilters","index","dataIndex","undefined","innerFilters","keys","onSort","getColumnByUniqueKey","nextActiveSorters","newProcessedData","getProcessedData","currentData","getPageData","getPaginationProps","currentAllData","action","compareFn","compare","fn","a","b","result","sorters","sort","onHandleFilter","mergedFilters","onHandleFilterReset","hasFixedColumnLeft","find","c","fixed","hasFixedColumnRight","hasFixedColumn","_data","column_1","onFilter","row","reduce","pre","cur","getSortData","d","map","processedData","_processedData","paginationSize","selectPopupPosition","total","current","Math","ceil","paginationProps","selectProps","triggerProps","position","onPaginationChange","pageData","_paginationProps","throttleResizeHandler","resizeHandler","fixedHeader","y","summaryNode","fixedFooterPosition","isValidElement","fixedFooter","window","tableHead","tableBody","tableFoot","tableScrollHandler","theadScrollContainer","parentNode","x","maxPageNum","setFixedColumnClassNames","getRootDomElement","scrollIntoView","scrollTo","getRootDOMNode","root","ele","querySelector","tableViewWidth_1","getBoundingClientRect","width","setPositionClassNames","table","tbody","scrollLeft","alignLeft","alignRight","children","setFixedColumnsClassList","classList","resetTableClassName","setTableFixedClassName","tableClassList","contains","add","remove","_t","selectedRowKeys","indeterminateKeys","onCheckAll","onCheck","onCheckRadio","setSelectedRowKeys","allSelectedRowKeys","flattenData","toString","scrollToTop","checkCrossPage","newPaginationProps","scrollTop","tween","easing","duration","onUpdate","start","target","tfoot","tableScrollHandlerNF","_u","expandedRowKeys","onClickExpandBtn","scrollStyleY","scrollStyleX","maxHeight","setScrollBarStyle","wrapper","scrollBarHeight","marginBottom","paddingBottom","setTimeout","scrollWrapper","scrollBarWidth","overflowY","theadNode","createElement","renderThead","maxContentWidth","producer","footerNode","tbodyNode","saveRef","node","saveVirtualListRef","dom","Fragment","renderTbody","onResize","getTargetDOMNode","onSetColumnWidths","renderTable","scrollStyle","summaryTableNode","summaryFixedTop","summaryFixedBottom","body","onScroll","showWrapperBorder","showCellBorder","cell","showHeaderCellBorder","headerCell","showBodyCellBorder","bodyCell","classNames","type","col","ellipsis","isPaginationTop","paginationClassName","loading","customPagination","paginationEle","showPagination","element","TableComponent","displayName"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Table/table.js"],"sourcesContent":["var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport React, { useState, useRef, useContext, useImperativeHandle, forwardRef, useMemo, useCallback, } from 'react';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\nimport BTween from 'b-tween';\nimport { isObject, isArray, isNumber } from '../_util/is';\nimport cs from '../_util/classNames';\nimport Spin from '../Spin';\nimport Thead from './thead/index';\nimport Tbody from './tbody/index';\nimport Tfoot from './tfoot/index';\nimport Pagination from '../Pagination';\nimport { on, off } from '../_util/dom';\nimport { ConfigContext } from '../ConfigProvider';\nimport { getScrollBarHeight, getScrollBarWidth, deepCloneData, getOriginData, getSorterFn, getSorterPriority, } from './utils';\nimport ColGroup from './colgroup';\nimport useExpand from './hooks/useExpand';\nimport useRowSelection from './hooks/useRowSelection';\nimport useComponent from './hooks/useComponent';\nimport useStickyOffsets from './hooks/useStickyOffsets';\nimport useStickyClassNames from './hooks/useStickyClassNames';\nimport useColumns from './hooks/useColumns';\nimport useUpdate from '../_util/hooks/useUpdate';\nimport ResizeObserver from '../_util/resizeObserver';\nimport useMergeProps from '../_util/hooks/useMergeProps';\nimport useIsomorphicLayoutEffect from '../_util/hooks/useIsomorphicLayoutEffect';\nimport { pickDataAttributes } from '../_util/pick';\nimport useSorter from './hooks/useSorter';\nvar EMPTY_DATA = [];\nvar EMPTY_COLUMNS = [];\nvar defaultProps = {\n    showHeader: true,\n    border: true,\n    hover: true,\n    rowKey: 'key',\n    pagePosition: 'br',\n    childrenColumnName: 'children',\n    indentSize: 15,\n    showSorterTooltip: true,\n};\nfunction Table(baseProps, ref) {\n    var _a, _b;\n    var _c, _d;\n    var _e = useContext(ConfigContext), getPrefixCls = _e.getPrefixCls, loadingElement = _e.loadingElement, ctxSize = _e.size, tablePagination = _e.tablePagination, renderEmpty = _e.renderEmpty, componentConfig = _e.componentConfig, rtl = _e.rtl;\n    var props = useMergeProps(baseProps, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Table);\n    // priority: props.pagination > ConfigProvider.tablePagination > ConfigProvider.Table.pagination\n    var mergePagination = useMergeProps(isObject(baseProps === null || baseProps === void 0 ? void 0 : baseProps.pagination) ? baseProps === null || baseProps === void 0 ? void 0 : baseProps.pagination : {}, isObject((_c = componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Table) === null || _c === void 0 ? void 0 : _c.pagination) ? (_d = componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Table) === null || _d === void 0 ? void 0 : _d.pagination : {}, tablePagination || {});\n    var style = props.style, className = props.className, components = props.components, border = props.border, borderCell = props.borderCell, _f = props.columns, columns = _f === void 0 ? EMPTY_COLUMNS : _f, _g = props.data, data = _g === void 0 ? EMPTY_DATA : _g, scroll = props.scroll, noDataElement = props.noDataElement, showHeader = props.showHeader, stripe = props.stripe, hover = props.hover, pagination = props.pagination, onChange = props.onChange, pagePosition = props.pagePosition, childrenColumnName = props.childrenColumnName, indentSize = props.indentSize, rowSelection = props.rowSelection, tableLayoutFixed = props.tableLayoutFixed, footer = props.footer, virtualized = props.virtualized, renderPagination = props.renderPagination, summary = props.summary, rowKey = props.rowKey;\n    var clonedData = useMemo(function () { return deepCloneData(data, childrenColumnName); }, [data, childrenColumnName]);\n    var prefixCls = getPrefixCls('table');\n    // configProvider 提供的size可能和table size 不匹配，此时默认 'default'\n    var size = props.size || (['default', 'middle', 'small'].indexOf(ctxSize) > -1 ? ctxSize : 'default');\n    var refTableHead = useRef(null);\n    var refTableBody = useRef(null);\n    var refTBody = useRef(null);\n    var refTableFoot = useRef(null);\n    var refTable = useRef(null);\n    var refVirtualList = useRef(null);\n    // Not fixed header\n    var refTableNF = useRef(null);\n    var lastScrollLeft = useRef(0);\n    var scrollbarChanged = useRef(false);\n    var _h = __read(useColumns(props), 2), groupColumns = _h[0], flattenColumns = _h[1];\n    var _j = getDefaultFiltersAndSorters(), currentFilters = _j.currentFilters, defaultSorters = _j.defaultSorters;\n    var _k = __read(useState(1), 2), currentPage = _k[0], setCurrentPage = _k[1];\n    var _l = __read(useState(mergePagination.pageSize || mergePagination.defaultPageSize || 10), 2), innerPageSize = _l[0], setInnerPageSize = _l[1];\n    var _m = __read(useState(currentFilters), 2), filters = _m[0], setFilters = _m[1];\n    var _o = __read(useState(0), 2), tableViewWidth = _o[0], setTableViewWidth = _o[1];\n    var _p = __read(useState([]), 2), columnWidths = _p[0], setColumnWidths = _p[1];\n    var stickyOffsets = useStickyOffsets(flattenColumns);\n    var _q = __read(useStickyClassNames(groupColumns, flattenColumns, prefixCls), 2), groupStickyClassNames = _q[0], stickyClassNames = _q[1];\n    var _r = useSorter(flattenColumns, defaultSorters), currentSorter = _r.currentSorter, activeSorters = _r.activeSorters, getNextActiveSorters = _r.getNextActiveSorters, updateStateSorters = _r.updateStateSorters;\n    var _s = useComponent(components), ComponentTable = _s.ComponentTable, ComponentBodyWrapper = _s.ComponentBodyWrapper, ComponentHeaderWrapper = _s.ComponentHeaderWrapper;\n    var getRowKey = useMemo(function () {\n        if (typeof rowKey === 'function') {\n            return function (record) { return rowKey(getOriginData(record)); };\n        }\n        return function (record) { return record[rowKey]; };\n    }, [rowKey]);\n    function getDefaultFiltersAndSorters() {\n        var currentFilters = {};\n        var defaultSorters = [];\n        flattenColumns.forEach(function (column) {\n            var innerDataIndex = column.key;\n            if (column.defaultFilters) {\n                currentFilters[innerDataIndex] = column.defaultFilters;\n            }\n            if (column.filteredValue) {\n                currentFilters[innerDataIndex] = column.filteredValue;\n            }\n            if ('defaultSortOrder' in column || 'sortOrder' in column) {\n                var priority = getSorterPriority(column.sorter);\n                var direction = 'sortOrder' in column ? column.sortOrder : column.defaultSortOrder;\n                var sorter = {\n                    field: innerDataIndex,\n                    direction: direction,\n                    sorterFn: getSorterFn(column.sorter),\n                    priority: priority,\n                };\n                if (!direction) {\n                    defaultSorters.push(sorter);\n                }\n                else if (isNumber(priority)) {\n                    if (defaultSorters.every(function (item) { return isNumber(item.priority) || !item.direction; })) {\n                        defaultSorters.push(sorter);\n                    }\n                }\n                else if (defaultSorters.every(function (item) { return !item.direction; })) {\n                    defaultSorters.push(sorter);\n                }\n                else {\n                    defaultSorters = [sorter];\n                }\n            }\n        });\n        return { currentFilters: currentFilters, defaultSorters: defaultSorters };\n    }\n    var controlledFilter = useMemo(function () {\n        // 允许 filteredValue 设置为 undefined 表示不筛选\n        var flattenFilteredValueColumns = flattenColumns.filter(function (column) { return 'filteredValue' in column; });\n        var newFilters = {};\n        // 受控的筛选，当columns中的筛选发生改变时，更新state\n        if (flattenFilteredValueColumns.length) {\n            flattenFilteredValueColumns.forEach(function (column, index) {\n                var innerDataIndex = column.key || column.dataIndex || index;\n                if (innerDataIndex !== undefined) {\n                    newFilters[innerDataIndex] = column.filteredValue;\n                }\n            });\n        }\n        return newFilters;\n    }, [flattenColumns]);\n    var innerFilters = useMemo(function () {\n        return Object.keys(controlledFilter).length ? controlledFilter : filters;\n    }, [filters, controlledFilter]);\n    /** ----------- Sorter ----------- */\n    function onSort(direction, field) {\n        var column = getColumnByUniqueKey(field);\n        if (!column) {\n            return;\n        }\n        var sorter = {\n            direction: direction,\n            field: field,\n            sorterFn: getSorterFn(column.sorter),\n            priority: getSorterPriority(column.sorter),\n        };\n        var nextActiveSorters = getNextActiveSorters(sorter);\n        updateStateSorters(sorter, nextActiveSorters);\n        var newProcessedData = getProcessedData(sorter, nextActiveSorters, innerFilters);\n        var currentData = getPageData(newProcessedData);\n        onChange &&\n            onChange(getPaginationProps(newProcessedData), sorter, innerFilters, {\n                currentData: getOriginData(currentData),\n                currentAllData: getOriginData(newProcessedData),\n                action: 'sort',\n            });\n    }\n    function compareFn(activeSorters) {\n        var compare = function (fn, direction) {\n            return function (a, b) {\n                var result = fn(a, b);\n                return direction === 'descend' ? -result : result;\n            };\n        };\n        var sorters = __spreadArray([], __read(activeSorters), false);\n        sorters.sort(function (a, b) { return b.priority - a.priority; });\n        return function (a, b) {\n            for (var i = 0, l = sorters.length; i < l; i++) {\n                var _a = sorters[i], sorterFn = _a.sorterFn, direction = _a.direction;\n                if (typeof sorterFn !== 'function') {\n                    continue;\n                }\n                var result = compare(sorterFn, direction)(a, b);\n                if (result !== 0) {\n                    return result;\n                }\n            }\n            return 0;\n        };\n    }\n    /** ----------- Sorter End ----------- */\n    /** ----------- Filters ----------- */\n    function onHandleFilter(column, filter) {\n        var _a;\n        var newFilters = __assign(__assign({}, innerFilters), (_a = {}, _a[column.dataIndex] = filter, _a));\n        var mergedFilters = __assign(__assign({}, newFilters), controlledFilter);\n        if (isArray(filter) && filter.length) {\n            setFilters(mergedFilters);\n            var newProcessedData = getProcessedData(currentSorter, activeSorters, newFilters);\n            var currentData = getPageData(newProcessedData);\n            onChange &&\n                onChange(getPaginationProps(newProcessedData), activeSorters.length === 1 ? activeSorters[0] : activeSorters, newFilters, {\n                    currentData: getOriginData(currentData),\n                    currentAllData: getOriginData(newProcessedData),\n                    action: 'filter',\n                });\n        }\n        else if (isArray(filter) && !filter.length) {\n            onHandleFilterReset(column);\n        }\n    }\n    function onHandleFilterReset(_a) {\n        var dataIndex = _a.dataIndex;\n        var newFilters = __assign({}, innerFilters);\n        delete newFilters[dataIndex];\n        setFilters(newFilters);\n        var newProcessedData = getProcessedData(currentSorter, activeSorters, newFilters);\n        var currentData = getPageData(newProcessedData);\n        onChange &&\n            onChange(getPaginationProps(newProcessedData), activeSorters.length === 1 ? activeSorters[0] : activeSorters, newFilters, {\n                currentData: getOriginData(currentData),\n                currentAllData: getOriginData(newProcessedData),\n                action: 'filter',\n            });\n    }\n    /** ----------- Filters End ----------- */\n    var hasFixedColumnLeft = !!flattenColumns.find(function (c) { return c.fixed === 'left'; });\n    var hasFixedColumnRight = !!flattenColumns.find(function (c) { return c.fixed === 'right'; });\n    var hasFixedColumn = hasFixedColumnLeft || hasFixedColumnRight;\n    function getProcessedData(currentSorter, activeSorters, filters) {\n        var _data = (clonedData || []).slice();\n        Object.keys(filters).forEach(function (field) {\n            if (filters[field] && filters[field].length) {\n                var column_1 = getColumnByUniqueKey(field);\n                if (column_1 && typeof column_1.onFilter === 'function') {\n                    _data = _data.filter(function (row) {\n                        return filters[field].reduce(function (pre, cur) { return pre || column_1.onFilter(cur, row); }, false);\n                    });\n                }\n            }\n        });\n        var getSortData = function (d) {\n            return d\n                .slice()\n                .sort(compareFn(activeSorters))\n                .map(function (item) {\n                var _a;\n                if (isArray(item[childrenColumnName])) {\n                    return __assign(__assign({}, item), (_a = {}, _a[childrenColumnName] = getSortData(item[childrenColumnName]), _a));\n                }\n                return item;\n            });\n        };\n        if ((currentSorter.direction && typeof currentSorter.sorterFn === 'function') ||\n            activeSorters.length) {\n            return getSortData(_data);\n        }\n        return _data;\n    }\n    // 获得经过 sorter 和 filters 筛选之后的 data\n    var processedData = getProcessedData(currentSorter, activeSorters, innerFilters);\n    function getPaginationProps(_processedData) {\n        if (_processedData === void 0) { _processedData = processedData; }\n        var pageSize = mergePagination.pageSize || innerPageSize || 10;\n        var paginationSize = size === 'middle' ? 'default' : size;\n        var selectPopupPosition = 'top';\n        if (pagePosition === 'tl' || pagePosition === 'bl') {\n            selectPopupPosition = 'bottom';\n        }\n        else {\n            selectPopupPosition = 'top';\n        }\n        var total = isArray(_processedData) ? _processedData.length : 0;\n        var current = Math.ceil(total / pageSize) < currentPage ? 1 : currentPage;\n        if (current !== currentPage) {\n            setCurrentPage(current);\n        }\n        var paginationProps = {\n            size: paginationSize,\n            total: total,\n            pageSize: pageSize,\n            current: current,\n            selectProps: {\n                triggerProps: {\n                    position: selectPopupPosition,\n                },\n            },\n        };\n        if (typeof pagination === 'object' && pagination.selectProps) {\n            paginationProps.selectProps = __assign(__assign({}, paginationProps.selectProps), pagination.selectProps);\n        }\n        if (isObject(pagination)) {\n            paginationProps = __assign(__assign({}, paginationProps), pagination);\n        }\n        if (isObject(mergePagination)) {\n            paginationProps = __assign(__assign({}, paginationProps), mergePagination);\n        }\n        paginationProps.onChange = onPaginationChange;\n        return paginationProps;\n    }\n    var paginationProps = getPaginationProps();\n    var pageData = getPageData();\n    function getPageData(currentData, _paginationProps) {\n        if (currentData === void 0) { currentData = processedData; }\n        if (_paginationProps === void 0) { _paginationProps = paginationProps; }\n        var _a = _paginationProps.current, current = _a === void 0 ? 0 : _a, _b = _paginationProps.pageSize, pageSize = _b === void 0 ? 10 : _b;\n        if (pagination === false) {\n            return currentData;\n        }\n        if (isObject(pagination) && data.length <= pageSize) {\n            return currentData;\n        }\n        return currentData.slice((current - 1) * pageSize, current * pageSize);\n    }\n    var throttleResizeHandler = debounce(resizeHandler, 100);\n    var fixedHeader = !!(scroll && scroll.y);\n    var summaryNode = summary === null || summary === void 0 ? void 0 : summary(getOriginData(processedData));\n    var fixedFooterPosition = summary && React.isValidElement(summaryNode) && summaryNode.props.fixed;\n    var fixedFooter = fixedHeader && fixedFooterPosition;\n    useIsomorphicLayoutEffect(function () {\n        resizeHandler();\n        on(window, 'resize', throttleResizeHandler);\n        var tableHead = refTableHead.current;\n        var tableBody = refTableBody.current;\n        var tableFoot = refTableFoot.current;\n        if (tableBody) {\n            on(tableBody, 'scroll', tableScrollHandler);\n        }\n        var theadScrollContainer = tableHead && tableHead.parentNode;\n        if (tableHead) {\n            if (theadScrollContainer) {\n                on(theadScrollContainer, 'scroll', tableScrollHandler);\n            }\n        }\n        if (tableFoot) {\n            on(tableFoot, 'scroll', tableScrollHandler);\n        }\n        return function () {\n            off(window, 'resize', throttleResizeHandler);\n            if (tableBody) {\n                off(tableBody, 'scroll', tableScrollHandler);\n            }\n            if (theadScrollContainer) {\n                off(theadScrollContainer, 'scroll', tableScrollHandler);\n            }\n            if (tableFoot) {\n                off(tableFoot, 'scroll', tableScrollHandler);\n            }\n        };\n    }, [hasFixedColumnLeft, hasFixedColumnRight, scroll === null || scroll === void 0 ? void 0 : scroll.x, scroll === null || scroll === void 0 ? void 0 : scroll.y, flattenColumns.length, data]);\n    useUpdate(function () {\n        var _a = getPaginationProps(data), total = _a.total, pageSize = _a.pageSize;\n        var maxPageNum = Math.ceil(total / pageSize);\n        if (maxPageNum < currentPage) {\n            setCurrentPage(1);\n        }\n    }, [data === null || data === void 0 ? void 0 : data.length]);\n    useUpdate(function () {\n        setFixedColumnClassNames();\n    }, [data, hasFixedColumnLeft, hasFixedColumnRight, rtl]);\n    useImperativeHandle(ref, function () { return ({\n        getRootDomElement: getRootDomElement,\n        scrollIntoView: function (dataIndex) {\n            if (refVirtualList.current) {\n                refVirtualList.current.scrollTo({ key: dataIndex });\n            }\n        },\n        getRootDOMNode: getRootDomElement,\n    }); });\n    function getRootDomElement() {\n        return refTable.current;\n    }\n    function resizeHandler() {\n        setFixedColumnClassNames();\n        var root = getRootDomElement();\n        if (root && (hasFixedColumn || (scroll && scroll.x))) {\n            var ele = root.querySelector(\".\" + prefixCls + \"-body\") ||\n                root.querySelector(\".\" + prefixCls + \"-content-inner\");\n            var tableViewWidth_1 = ele.getBoundingClientRect().width;\n            setTableViewWidth(tableViewWidth_1);\n        }\n    }\n    var setPositionClassNames = useCallback(throttle(function () {\n        var table = refTable.current;\n        var tbody = (fixedHeader ? refTableBody.current : refTableNF.current && refTableNF.current.parentNode);\n        if (tbody) {\n            var scrollLeft = rtl ? -tbody.scrollLeft : tbody.scrollLeft;\n            var alignLeft = scrollLeft === 0;\n            // const alignRight = tbody.scrollLeft + tbody.clientWidth >= tbody.scrollWidth;\n            var alignRight = scrollLeft + 1 >=\n                tbody.children[0].getBoundingClientRect().width - tbody.getBoundingClientRect().width;\n            if (alignLeft && alignRight) {\n                setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-both\");\n            }\n            else if (alignLeft) {\n                setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-\" + (rtl ? 'right' : 'left'));\n            }\n            else if (alignRight) {\n                setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-\" + (rtl ? 'left' : 'right'));\n            }\n            else {\n                setFixedColumnsClassList(table.classList, prefixCls + \"-scroll-position-middle\");\n            }\n        }\n        else {\n            table && resetTableClassName(table.classList);\n        }\n    }, 100), [refTable.current, refTableBody.current, fixedHeader, rtl]);\n    function setFixedColumnClassNames() {\n        if (hasFixedColumn || (scroll && isObject(scroll) && scroll.x)) {\n            var table = refTable.current;\n            if (table) {\n                if (hasFixedColumnLeft) {\n                    setTableFixedClassName(table.classList, prefixCls + \"-has-fixed-col-left\");\n                }\n                if (hasFixedColumnRight) {\n                    setTableFixedClassName(table.classList, prefixCls + \"-has-fixed-col-right\");\n                }\n            }\n            setPositionClassNames();\n        }\n    }\n    function setTableFixedClassName(tableClassList, className) {\n        if (!tableClassList.contains(className)) {\n            tableClassList.add(className);\n        }\n    }\n    function resetTableClassName(classList) {\n        classList.remove(prefixCls + \"-scroll-position-both\");\n        classList.remove(prefixCls + \"-scroll-position-left\");\n        classList.remove(prefixCls + \"-scroll-position-right\");\n        classList.remove(prefixCls + \"-scroll-position-middle\");\n    }\n    function setFixedColumnsClassList(classList, className) {\n        if (!classList.contains(className)) {\n            resetTableClassName(classList);\n            classList.add(className);\n        }\n    }\n    var _t = useRowSelection(props, pageData, clonedData, getRowKey), selectedRowKeys = _t.selectedRowKeys, indeterminateKeys = _t.indeterminateKeys, onCheckAll = _t.onCheckAll, onCheck = _t.onCheck, onCheckRadio = _t.onCheckRadio, setSelectedRowKeys = _t.setSelectedRowKeys, allSelectedRowKeys = _t.allSelectedRowKeys, flattenData = _t.flattenData;\n    // flattenColumns 在构造时优先使用了 column.key 作为主键，在查询时使用 getColumnByDataIndex 方法可能会导致bug。\n    function getColumnByUniqueKey(key) {\n        return flattenColumns.find(function (column, index) {\n            if (typeof column.key !== 'undefined') {\n                if (typeof column.key === 'number' && typeof key === 'string') {\n                    return column.key.toString() === key;\n                }\n                return column.key === key;\n            }\n            // unnecessary\n            if (typeof column.dataIndex !== 'undefined') {\n                return column.dataIndex === key;\n            }\n            if (typeof key === 'number') {\n                return index === key;\n            }\n            return false;\n        });\n    }\n    function onPaginationChange(current, pageSize) {\n        setCurrentPage(current);\n        setInnerPageSize(pageSize);\n        if (current !== currentPage) {\n            scrollToTop();\n        }\n        if (rowSelection && !rowSelection.checkCrossPage && selectedRowKeys.length) {\n            setSelectedRowKeys([]);\n            rowSelection.onChange && rowSelection.onChange([], []);\n        }\n        var newPaginationProps = __assign(__assign({}, getPaginationProps()), { current: current, pageSize: pageSize });\n        onChange &&\n            onChange(newPaginationProps, activeSorters.length === 1 ? activeSorters[0] : activeSorters, innerFilters, {\n                currentData: getOriginData(getPageData(processedData, newPaginationProps)),\n                currentAllData: getOriginData(processedData),\n                action: 'paginate',\n            });\n        mergePagination.onChange && mergePagination.onChange(current, pageSize);\n    }\n    function scrollToTop() {\n        var tableBody = refTableBody.current;\n        if (!tableBody) {\n            return;\n        }\n        var scrollTop = refTableBody.current.scrollTop;\n        var tween = new BTween({\n            from: { scrollTop: scrollTop },\n            to: { scrollTop: 0 },\n            easing: 'quintInOut',\n            duration: 300,\n            onUpdate: function (keys) {\n                if (refTableBody.current) {\n                    refTableBody.current.scrollTop = keys.scrollTop;\n                }\n            },\n        });\n        tween.start();\n    }\n    function tableScrollHandler(e) {\n        var target = e.target;\n        var tbody = refTableBody.current;\n        var theadScrollContainer = refTableHead.current && refTableHead.current.parentNode;\n        var tfoot = refTableFoot.current;\n        if (target.scrollLeft !== lastScrollLeft.current) {\n            if (theadScrollContainer) {\n                theadScrollContainer.scrollLeft = target.scrollLeft;\n            }\n            if (tbody) {\n                tbody.scrollLeft = target.scrollLeft;\n            }\n            if (tfoot) {\n                tfoot.scrollLeft = target.scrollLeft;\n            }\n            setFixedColumnClassNames();\n        }\n        lastScrollLeft.current = e.target.scrollLeft;\n    }\n    // isFixedHeader = false\n    function tableScrollHandlerNF(e) {\n        var target = e.target;\n        var table = refTableNF.current;\n        if (target.scrollLeft !== lastScrollLeft.current) {\n            table.scrollLeft = target.scrollLeft;\n            setFixedColumnClassNames();\n        }\n        lastScrollLeft.current = e.target.scrollLeft;\n    }\n    var _u = __read(useExpand(props, flattenData, getRowKey), 2), expandedRowKeys = _u[0], onClickExpandBtn = _u[1];\n    var scrollStyleY = {};\n    var scrollStyleX = {};\n    if (scroll) {\n        if (scroll.x && (typeof scroll.x === 'number' || typeof scroll.x === 'string')) {\n            scrollStyleX = {\n                width: scroll.x,\n            };\n        }\n        if (scroll.y && (typeof scroll.y === 'number' || typeof scroll.y === 'string')) {\n            scrollStyleY = {\n                maxHeight: scroll.y,\n            };\n        }\n    }\n    function setScrollBarStyle() {\n        var wrapper = refTableHead.current && refTableHead.current.parentNode;\n        var scrollBarHeight = getScrollBarHeight(wrapper);\n        if (scrollBarHeight && scrollBarHeight > 0) {\n            wrapper.style.marginBottom = \"-\" + scrollBarHeight + \"px\";\n            wrapper.style.paddingBottom = '0px';\n            if (refTableFoot.current) {\n                refTableFoot.current.style.marginBottom = \"-\" + scrollBarHeight + \"px\";\n                refTableFoot.current.style.paddingBottom = '0px';\n            }\n        }\n        // 根据 Tbody 决定 Thead 是否显示纵向滚动条\n        // TODO: Remove\n        setTimeout(function () {\n            var scrollWrapper = refTableBody.current;\n            var scrollBarWidth = getScrollBarWidth(scrollWrapper);\n            if (scrollBarWidth) {\n                scrollbarChanged.current = true;\n                if (wrapper) {\n                    wrapper.style.overflowY = 'scroll';\n                }\n                if (refTableFoot.current) {\n                    refTableFoot.current.style.overflowY = 'scroll';\n                }\n            }\n            else if (wrapper && scrollbarChanged.current) {\n                scrollbarChanged.current = false;\n                wrapper.style.overflowY = 'auto';\n                if (refTableFoot.current) {\n                    refTableFoot.current.style.overflowY = 'auto';\n                }\n            }\n        });\n    }\n    var theadNode = (React.createElement(Thead, __assign({}, props, { activeSorters: activeSorters, currentSorter: currentSorter, selectedRowKeys: selectedRowKeys, currentFilters: innerFilters, onCheckAll: onCheckAll, onSort: onSort, data: pageData, onHandleFilter: onHandleFilter, onHandleFilterReset: onHandleFilterReset, prefixCls: prefixCls, allSelectedRowKeys: allSelectedRowKeys, groupColumns: groupColumns, stickyOffsets: stickyOffsets, groupStickyClassNames: groupStickyClassNames })));\n    function renderThead() {\n        var maxContentWidth = isObject(scroll) && scroll.x === 'max-content';\n        return fixedHeader || virtualized ? (React.createElement(ComponentHeaderWrapper, { className: prefixCls + \"-header\" },\n            React.createElement(ComponentTable, { ref: refTableHead, style: maxContentWidth ? {} : scrollStyleX },\n                React.createElement(ColGroup, { columns: flattenColumns, prefixCls: prefixCls, producer: false, columnWidths: maxContentWidth && scroll.y ? columnWidths : null }),\n                theadNode))) : (theadNode);\n    }\n    var footerNode = summaryNode && (React.createElement(Tfoot, { prefixCls: prefixCls, summary: summary, data: pageData, columns: flattenColumns, stickyOffsets: stickyOffsets, stickyClassNames: stickyClassNames }));\n    var tbodyNode = (React.createElement(Tbody, __assign({}, props, { saveRef: function (node) { return (refTBody.current = node); }, selectedRowKeys: selectedRowKeys, indeterminateKeys: indeterminateKeys, expandedRowKeys: expandedRowKeys, onCheck: onCheck, onCheckRadio: onCheckRadio, onClickExpandBtn: onClickExpandBtn, columns: flattenColumns, data: pageData, prefixCls: prefixCls, hasFixedColumn: hasFixedColumn, tableViewWidth: tableViewWidth, indentSize: indentSize, noDataElement: noDataElement || renderEmpty('Table'), activeSorters: activeSorters, currentSorter: currentSorter, stickyOffsets: stickyOffsets, stickyClassNames: stickyClassNames, getRowKey: getRowKey, saveVirtualListRef: function (ref) {\n            if (virtualized) {\n                refVirtualList.current = ref;\n                refTableBody.current = ref === null || ref === void 0 ? void 0 : ref.dom;\n            }\n        } })));\n    var tbody = !virtualized && !fixedFooter ? (React.createElement(React.Fragment, null,\n        tbodyNode,\n        footerNode)) : (tbodyNode);\n    function renderTbody() {\n        var producer = isObject(scroll) &&\n            scroll.x === 'max-content' &&\n            !!scroll.y &&\n            isArray(data) &&\n            data.length > 0;\n        return (React.createElement(ResizeObserver, { onResize: setScrollBarStyle, getTargetDOMNode: function () { return refTableBody.current || refTBody.current; } }, fixedHeader && !virtualized ? (React.createElement(ComponentBodyWrapper, { ref: refTableBody, className: prefixCls + \"-body\", style: scrollStyleY },\n            React.createElement(ComponentTable, { style: scrollStyleX },\n                React.createElement(ColGroup, { columns: flattenColumns, prefixCls: prefixCls, producer: producer, onSetColumnWidths: setColumnWidths, expandedRowKeys: expandedRowKeys, data: data }),\n                tbody))) : (tbody)));\n    }\n    function renderTable() {\n        var scrollStyle = {};\n        if (scroll && isObject(scroll) && scroll.x) {\n            scrollStyle = {\n                width: scroll.x,\n            };\n        }\n        var summaryTableNode = (React.createElement(\"div\", { className: prefixCls + \"-tfoot\", ref: refTableFoot },\n            React.createElement(ComponentTable, { style: scrollStyle },\n                React.createElement(ColGroup, { columns: flattenColumns, prefixCls: prefixCls }),\n                footerNode)));\n        var summaryFixedTop = summaryNode && fixedHeader && fixedFooterPosition === 'top';\n        var summaryFixedBottom = summaryNode && fixedHeader && fixedFooterPosition === 'bottom';\n        var body = (React.createElement(React.Fragment, null,\n            showHeader ? renderThead() : null,\n            summaryFixedTop && summaryTableNode,\n            renderTbody(),\n            summaryFixedBottom && summaryTableNode));\n        return (React.createElement(React.Fragment, null,\n            React.createElement(\"div\", { className: prefixCls + \"-container\" },\n                React.createElement(\"div\", { className: prefixCls + \"-content-scroll\" },\n                    React.createElement(\"div\", { className: prefixCls + \"-content-inner\", onScroll: !fixedHeader ? tableScrollHandlerNF : undefined }, fixedHeader || virtualized ? (body) : (React.createElement(ComponentTable, { ref: refTableNF, style: scrollStyle },\n                        React.createElement(ColGroup, { prefixCls: prefixCls, columns: flattenColumns }),\n                        body))))),\n            typeof footer === 'function' && (React.createElement(\"div\", { className: prefixCls + \"-footer\" }, footer(pageData)))));\n    }\n    if (!columns.length) {\n        return null;\n    }\n    var showWrapperBorder = isObject(border) ? border.wrapper : border;\n    var showCellBorder = isObject(border) ? border.cell : borderCell;\n    var showHeaderCellBorder = isObject(border) ? border.cell || border.headerCell : borderCell;\n    var showBodyCellBorder = isObject(border) ? border.cell || border.bodyCell : borderCell;\n    var classNames = cs(prefixCls, prefixCls + \"-size-\" + size, (_a = {},\n        _a[prefixCls + \"-border\"] = showWrapperBorder,\n        _a[prefixCls + \"-border-cell\"] = showCellBorder,\n        _a[prefixCls + \"-border-header-cell\"] = !showCellBorder && showHeaderCellBorder,\n        _a[prefixCls + \"-border-body-cell\"] = !showCellBorder && showBodyCellBorder,\n        _a[prefixCls + \"-stripe\"] = stripe,\n        _a[prefixCls + \"-hover\"] = hover,\n        _a[prefixCls + \"-type-radio\"] = rowSelection && rowSelection.type === 'radio',\n        _a[prefixCls + \"-layout-fixed\"] = tableLayoutFixed ||\n            (scroll && (scroll.x || scroll.y)) ||\n            columns.find(function (col) { return col.ellipsis; }),\n        _a[prefixCls + \"-fixed-column\"] = hasFixedColumn,\n        _a[prefixCls + \"-virtualized\"] = virtualized,\n        _a[prefixCls + \"-rtl\"] = rtl,\n        _a), className);\n    var isPaginationTop = pagePosition === 'tl' || pagePosition === 'tr' || pagePosition === 'topCenter';\n    var paginationClassName = cs(prefixCls + \"-pagination\", (_b = {},\n        _b[prefixCls + \"-pagination-left\"] = pagePosition === 'tl' || pagePosition === 'bl',\n        _b[prefixCls + \"-pagination-center\"] = pagePosition === 'topCenter' || pagePosition === 'bottomCenter',\n        _b[prefixCls + \"-pagination-top\"] = isPaginationTop,\n        _b));\n    var loading = props.loading;\n    if (typeof loading === 'boolean') {\n        loading = { loading: loading };\n    }\n    var customPagination = typeof renderPagination === 'function';\n    var paginationEle = customPagination ? (renderPagination(React.createElement(Pagination, __assign({}, paginationProps)))) : (React.createElement(\"div\", { className: paginationClassName },\n        React.createElement(Pagination, __assign({}, paginationProps))));\n    var showPagination = pagination !== false && (processedData.length !== 0 || paginationProps.total > 0);\n    return (React.createElement(\"div\", __assign({ ref: refTable, style: style, className: classNames }, pickDataAttributes(props)),\n        React.createElement(Spin, __assign({ element: loadingElement }, loading),\n            showPagination && isPaginationTop && paginationEle,\n            renderTable(),\n            showPagination && !isPaginationTop && paginationEle)));\n}\nvar TableComponent = forwardRef(Table);\nTableComponent.displayName = 'Table';\nexport default TableComponent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}