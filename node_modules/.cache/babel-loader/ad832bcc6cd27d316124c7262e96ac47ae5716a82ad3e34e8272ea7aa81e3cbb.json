{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\n/*!\n* VueCodemirror v6.1.1\n* Copyright (c) Surmon. All rights reserved.\n* Released under the MIT License.\n* Surmon\n*/\nimport { inject as e, defineComponent as t, shallowRef as n, computed as o, toRaw as r, onMounted as u, watch as a, onBeforeUnmount as i, h as c } from \"vue\";\nimport { basicSetup as s } from \"codemirror\";\nimport { EditorState as l, Compartment as f, StateEffect as d } from \"@codemirror/state\";\nimport { EditorView as m, keymap as p, placeholder as v } from \"@codemirror/view\";\nimport { indentWithTab as g } from \"@codemirror/commands\";\nimport { indentUnit as b } from \"@codemirror/language\";\nvar h = Object.freeze({\n    autofocus: !1,\n    disabled: !1,\n    indentWithTab: !0,\n    tabSize: 2,\n    placeholder: \"\",\n    autoDestroy: !0,\n    extensions: [s]\n  }),\n  y = Symbol(\"vue-codemirror-global-config\");\nvar O,\n  j = function (e) {\n    var t = e.onUpdate,\n      n = e.onChange,\n      o = e.onFocus,\n      r = e.onBlur,\n      u = function (e, t) {\n        var n = {};\n        for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && t.indexOf(o) < 0 && (n[o] = e[o]);\n        if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n          var r = 0;\n          for (o = Object.getOwnPropertySymbols(e); r < o.length; r++) t.indexOf(o[r]) < 0 && Object.prototype.propertyIsEnumerable.call(e, o[r]) && (n[o[r]] = e[o[r]]);\n        }\n        return n;\n      }(e, [\"onUpdate\", \"onChange\", \"onFocus\", \"onBlur\"]);\n    return l.create({\n      doc: u.doc,\n      selection: u.selection,\n      extensions: (Array.isArray(u.extensions) ? u.extensions : [u.extensions]).concat([m.updateListener.of(function (e) {\n        t(e), e.docChanged && n(e.state.doc.toString(), e), e.focusChanged && (e.view.hasFocus ? o(e) : r(e));\n      })])\n    });\n  },\n  S = function (e) {\n    var t = new f();\n    return {\n      compartment: t,\n      run: function (n) {\n        t.get(e.state) ? e.dispatch({\n          effects: t.reconfigure(n)\n        }) : e.dispatch({\n          effects: d.appendConfig.of(t.of(n))\n        });\n      }\n    };\n  },\n  x = function (e, t) {\n    var n = S(e),\n      o = n.compartment,\n      r = n.run;\n    return function (n) {\n      var u = o.get(e.state);\n      r((null != n ? n : u !== t) ? t : []);\n    };\n  },\n  C = {\n    type: Boolean,\n    default: void 0\n  },\n  D = {\n    autofocus: C,\n    disabled: C,\n    indentWithTab: C,\n    tabSize: Number,\n    placeholder: String,\n    style: Object,\n    autoDestroy: C,\n    phrases: Object,\n    root: Object,\n    extensions: Array,\n    selection: Object\n  },\n  U = {\n    modelValue: {\n      type: String,\n      default: \"\"\n    }\n  },\n  w = Object.assign(Object.assign({}, D), U);\n!function (e) {\n  e.Change = \"change\", e.Update = \"update\", e.Focus = \"focus\", e.Blur = \"blur\", e.Ready = \"ready\", e.ModelUpdate = \"update:modelValue\";\n}(O || (O = {}));\nvar z = {};\nz[O.Change] = function (e, t) {\n  return !0;\n}, z[O.Update] = function (e) {\n  return !0;\n}, z[O.Focus] = function (e) {\n  return !0;\n}, z[O.Blur] = function (e) {\n  return !0;\n}, z[O.Ready] = function (e) {\n  return !0;\n};\nvar B = {};\nB[O.ModelUpdate] = z[O.Change];\nvar F = Object.assign(Object.assign({}, z), B),\n  P = t({\n    name: \"VueCodemirror\",\n    props: Object.assign({}, w),\n    emits: Object.assign({}, F),\n    setup: function (t, s) {\n      var f = n(),\n        d = n(),\n        C = n(),\n        D = Object.assign(Object.assign({}, h), e(y, {})),\n        U = o(function () {\n          var e = {};\n          return Object.keys(r(t)).forEach(function (n) {\n            var o;\n            \"modelValue\" !== n && (e[n] = null !== (o = t[n]) && void 0 !== o ? o : D[n]);\n          }), e;\n        });\n      return u(function () {\n        var e;\n        d.value = j({\n          doc: t.modelValue,\n          selection: U.value.selection,\n          extensions: null !== (e = D.extensions) && void 0 !== e ? e : [],\n          onFocus: function (e) {\n            return s.emit(O.Focus, e);\n          },\n          onBlur: function (e) {\n            return s.emit(O.Blur, e);\n          },\n          onUpdate: function (e) {\n            return s.emit(O.Update, e);\n          },\n          onChange: function (e, n) {\n            e !== t.modelValue && (s.emit(O.Change, e, n), s.emit(O.ModelUpdate, e, n));\n          }\n        }), C.value = function (e) {\n          return new m(Object.assign({}, e));\n        }({\n          state: d.value,\n          parent: f.value,\n          root: U.value.root\n        });\n        var n = function (e) {\n          var t = function () {\n              return e.state.doc.toString();\n            },\n            n = S(e).run,\n            o = x(e, [m.editable.of(!1), l.readOnly.of(!0)]),\n            r = x(e, p.of([g])),\n            u = S(e).run,\n            a = S(e).run,\n            i = S(e).run,\n            c = S(e).run;\n          return {\n            focus: function () {\n              return e.focus();\n            },\n            getDoc: t,\n            setDoc: function (n) {\n              n !== t() && e.dispatch({\n                changes: {\n                  from: 0,\n                  to: e.state.doc.length,\n                  insert: n\n                }\n              });\n            },\n            reExtensions: n,\n            toggleDisabled: o,\n            toggleIndentWithTab: r,\n            setTabSize: function (e) {\n              u([l.tabSize.of(e), b.of(\" \".repeat(e))]);\n            },\n            setPhrases: function (e) {\n              a([l.phrases.of(e)]);\n            },\n            setPlaceholder: function (e) {\n              i(v(e));\n            },\n            setStyle: function (e) {\n              void 0 === e && (e = {}), c(m.theme({\n                \"&\": Object.assign({}, e)\n              }));\n            }\n          };\n        }(C.value);\n        a(function () {\n          return t.modelValue;\n        }, function (e) {\n          e !== n.getDoc() && n.setDoc(e);\n        }), a(function () {\n          return t.extensions;\n        }, function (e) {\n          return n.reExtensions(e || []);\n        }, {\n          immediate: !0\n        }), a(function () {\n          return U.value.disabled;\n        }, function (e) {\n          return n.toggleDisabled(e);\n        }, {\n          immediate: !0\n        }), a(function () {\n          return U.value.indentWithTab;\n        }, function (e) {\n          return n.toggleIndentWithTab(e);\n        }, {\n          immediate: !0\n        }), a(function () {\n          return U.value.tabSize;\n        }, function (e) {\n          return n.setTabSize(e);\n        }, {\n          immediate: !0\n        }), a(function () {\n          return U.value.phrases;\n        }, function (e) {\n          return n.setPhrases(e || {});\n        }, {\n          immediate: !0\n        }), a(function () {\n          return U.value.placeholder;\n        }, function (e) {\n          return n.setPlaceholder(e);\n        }, {\n          immediate: !0\n        }), a(function () {\n          return U.value.style;\n        }, function (e) {\n          return n.setStyle(e);\n        }, {\n          immediate: !0\n        }), U.value.autofocus && n.focus(), s.emit(O.Ready, {\n          state: d.value,\n          view: C.value,\n          container: f.value\n        });\n      }), i(function () {\n        U.value.autoDestroy && C.value && function (e) {\n          e.destroy();\n        }(C.value);\n      }), function () {\n        return c(\"div\", {\n          class: \"v-codemirror\",\n          style: {\n            display: \"contents\"\n          },\n          ref: f\n        });\n      };\n    }\n  }),\n  T = P,\n  V = function (e, t) {\n    e.component(P.name, P), e.component(\"Codemirror\", P), function (e, t) {\n      e.provide(y, t);\n    }(e, t);\n  },\n  W = {\n    Codemirror: T,\n    install: V\n  };\nexport { T as Codemirror, h as DEFAULT_CONFIG, W as default, V as install };","map":{"version":3,"names":["h","Object","freeze","autofocus","disabled","indentWithTab","tabSize","placeholder","autoDestroy","extensions","s","y","Symbol","O","j","createEditorState","e","t","onUpdate","n","onChange","o","onFocus","r","onBlur","u","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","length","propertyIsEnumerable","l","create","doc","selection","Array","isArray","concat","m","updateListener","of","docChanged","state","toString","focusChanged","view","hasFocus","S","createEditorCompartment","f","compartment","run","get","dispatch","effects","reconfigure","d","appendConfig","x","createEditorExtensionToggler","C","type","Boolean","default","D","Number","String","style","phrases","root","U","modelValue","w","assign","Change","Update","Focus","Blur","Ready","ModelUpdate","z","B","F","P","name","props","emits","setup","keys","forEach","value","emit","parent","getDoc","editable","readOnly","p","g","a","i","c","focus","setDoc","changes","from","to","insert","reExtensions","toggleDisabled","toggleIndentWithTab","setTabSize","b","repeat","setPhrases","setPlaceholder","v","setStyle","theme","immediate","container","destroy","class","display","ref","T","V","install","component","provide","W","Codemirror","DEFAULT_CONFIG"],"sources":["../src/config.ts","../src/codemirror.ts","../src/events.ts","../src/props.ts","../src/component.ts","../src/index.ts"],"sourcesContent":["import { App, inject } from 'vue'\nimport { basicSetup } from 'codemirror'\nimport { ConfigProps } from './props'\n\nexport const DEFAULT_CONFIG: Readonly<Partial<ConfigProps>> = Object.freeze({\n  autofocus: false,\n  disabled: false,\n  indentWithTab: true,\n  tabSize: 2,\n  placeholder: '',\n  autoDestroy: true,\n  extensions: [basicSetup]\n})\n\nconst CONFIG_SYMBOL = Symbol('vue-codemirror-global-config')\nexport const injectGlobalConfig = (app: App, config?: ConfigProps) => {\n  app.provide(CONFIG_SYMBOL, config)\n}\n\nexport const useGlobalConfig = () => {\n  return inject<ConfigProps>(CONFIG_SYMBOL, {} as ConfigProps)\n}\n","import type { CSSProperties } from 'vue'\nimport { EditorState, EditorStateConfig, Compartment, Extension, StateEffect } from '@codemirror/state'\nimport { EditorView, EditorViewConfig, ViewUpdate, keymap, placeholder } from '@codemirror/view'\nimport { indentWithTab } from '@codemirror/commands'\nimport { indentUnit } from '@codemirror/language'\n\nexport interface CreateStateOptions extends EditorStateConfig {\n  onChange(doc: string, viewUpdate: ViewUpdate): void\n  onUpdate(viewUpdate: ViewUpdate): void\n  onFocus(viewUpdate: ViewUpdate): void\n  onBlur(viewUpdate: ViewUpdate): void\n}\n\nexport const createEditorState = ({ onUpdate, onChange, onFocus, onBlur, ...config }: CreateStateOptions) => {\n  return EditorState.create({\n    doc: config.doc,\n    selection: config.selection,\n    extensions: [\n      ...(Array.isArray(config.extensions) ? config.extensions : [config.extensions]),\n      EditorView.updateListener.of((viewUpdate) => {\n        // https://discuss.codemirror.net/t/codemirror-6-proper-way-to-listen-for-changes/2395/11\n        onUpdate(viewUpdate)\n        // doc changed\n        if (viewUpdate.docChanged) {\n          onChange(viewUpdate.state.doc.toString(), viewUpdate)\n        }\n        // focus state change\n        if (viewUpdate.focusChanged) {\n          viewUpdate.view.hasFocus ? onFocus(viewUpdate) : onBlur(viewUpdate)\n        }\n      })\n    ]\n  })\n}\n\nexport const createEditorView = (config: EditorViewConfig) => new EditorView({ ...config })\nexport const destroyEditorView = (view: EditorView) => view.destroy()\n\n// https://codemirror.net/examples/config/\n// https://github.com/uiwjs/react-codemirror/blob/22cc81971a/src/useCodeMirror.ts#L144\n// https://gist.github.com/s-cork/e7104bace090702f6acbc3004228f2cb\nexport const createEditorCompartment = (view: EditorView) => {\n  const compartment = new Compartment()\n  const run = (extension: Extension) => {\n    compartment.get(view.state)\n      ? view.dispatch({ effects: compartment.reconfigure(extension) }) // reconfigure\n      : view.dispatch({ effects: StateEffect.appendConfig.of(compartment.of(extension)) }) // inject\n  }\n  return { compartment, run }\n}\n\n// https://codemirror.net/examples/reconfigure/\nexport const createEditorExtensionToggler = (view: EditorView, extension: Extension) => {\n  const { compartment, run } = createEditorCompartment(view)\n  return (targetApply?: boolean) => {\n    const exExtension = compartment.get(view.state)\n    const apply = targetApply ?? exExtension !== extension\n    run(apply ? extension : [])\n  }\n}\n\nexport const getEditorTools = (view: EditorView) => {\n  // doc state\n  const getDoc = () => view.state.doc.toString()\n  const setDoc = (newDoc: string) => {\n    if (newDoc !== getDoc()) {\n      view.dispatch({\n        changes: {\n          from: 0,\n          to: view.state.doc.length,\n          insert: newDoc\n        }\n      })\n    }\n  }\n\n  // UX operations\n  const focus = () => view.focus()\n\n  // reconfigure extension\n  const { run: reExtensions } = createEditorCompartment(view)\n\n  // disabled editor\n  const toggleDisabled = createEditorExtensionToggler(view, [\n    EditorView.editable.of(false),\n    EditorState.readOnly.of(true)\n  ])\n\n  // https://codemirror.net/examples/tab/\n  const toggleIndentWithTab = createEditorExtensionToggler(view, keymap.of([indentWithTab]))\n\n  // tab size\n  // https://gist.github.com/s-cork/e7104bace090702f6acbc3004228f2cb\n  const { run: reTabSize } = createEditorCompartment(view)\n  const setTabSize = (tabSize: number) => {\n    reTabSize([EditorState.tabSize.of(tabSize), indentUnit.of(' '.repeat(tabSize))])\n  }\n\n  // phrases\n  // https://codemirror.net/examples/translate/\n  const { run: rePhrases } = createEditorCompartment(view)\n  const setPhrases = (phrases: Record<string, string>) => {\n    rePhrases([EditorState.phrases.of(phrases)])\n  }\n\n  // set editor's placeholder\n  const { run: rePlaceholder } = createEditorCompartment(view)\n  const setPlaceholder = (value: string) => {\n    rePlaceholder(placeholder(value))\n  }\n\n  // set style to editor element\n  // https://codemirror.net/examples/styling/\n  const { run: reStyle } = createEditorCompartment(view)\n  const setStyle = (style: CSSProperties = {}) => {\n    reStyle(EditorView.theme({ '&': { ...(style as any) } }))\n  }\n\n  return {\n    focus,\n    getDoc,\n    setDoc,\n    reExtensions,\n    toggleDisabled,\n    toggleIndentWithTab,\n    setTabSize,\n    setPhrases,\n    setPlaceholder,\n    setStyle\n  }\n}\n","import { EditorState } from '@codemirror/state'\nimport { EditorView, ViewUpdate } from '@codemirror/view'\n\nexport enum EventKey {\n  Change = 'change',\n  Update = 'update',\n  Focus = 'focus',\n  Blur = 'blur',\n  Ready = 'ready',\n  ModelUpdate = 'update:modelValue'\n}\n\nexport const editorEvents = {\n  // when content(doc) change only\n  [EventKey.Change]: (value: string, viewUpdate: ViewUpdate) => true,\n  // when codemirror state change\n  [EventKey.Update]: (viewUpdate: ViewUpdate) => true,\n  [EventKey.Focus]: (viewUpdate: ViewUpdate) => true,\n  [EventKey.Blur]: (viewUpdate: ViewUpdate) => true,\n  // when component mounted\n  [EventKey.Ready]: (payload: { view: EditorView; state: EditorState; container: HTMLDivElement }) => true\n}\n\nexport const modelUpdateEvent = {\n  [EventKey.ModelUpdate]: editorEvents[EventKey.Change]\n}\n\nexport const events = {\n  ...editorEvents,\n  ...modelUpdateEvent\n}\n\nexport type EditorEvents = typeof editorEvents\nexport type Events = typeof events\n","import type { CSSProperties } from 'vue'\nimport { PropType, ExtractPropTypes } from 'vue'\nimport { EditorStateConfig } from '@codemirror/state'\n\nconst UNDEFINED = void 0\nconst NonDefaultBooleanType = {\n  type: Boolean,\n  default: UNDEFINED\n}\n\nexport const configProps = {\n  autofocus: NonDefaultBooleanType,\n  disabled: NonDefaultBooleanType,\n  indentWithTab: NonDefaultBooleanType,\n  tabSize: Number,\n  placeholder: String,\n  style: Object as PropType<CSSProperties>,\n  autoDestroy: NonDefaultBooleanType,\n  phrases: Object as PropType<Record<string, string>>,\n  // codemirror options\n  root: Object as PropType<ShadowRoot | Document>,\n  extensions: Array as PropType<EditorStateConfig['extensions']>,\n  selection: Object as PropType<EditorStateConfig['selection']>\n}\n\nexport const modelValueProp = {\n  modelValue: {\n    type: String,\n    default: ''\n  }\n}\n\nexport const props = {\n  ...configProps,\n  ...modelValueProp\n}\n\nexport type ConfigProps = ExtractPropTypes<typeof configProps>\nexport type Props = ExtractPropTypes<typeof props>\nexport type PropKey = keyof Props\n","import { defineComponent, shallowRef, computed, watch, toRaw, onMounted, onBeforeUnmount, h } from 'vue'\nimport { EditorState } from '@codemirror/state'\nimport { EditorView } from '@codemirror/view'\nimport { createEditorState, createEditorView, destroyEditorView, getEditorTools } from './codemirror'\nimport { useGlobalConfig, DEFAULT_CONFIG } from './config'\nimport { props, ConfigProps } from './props'\nimport { events, EventKey } from './events'\n\nexport default defineComponent({\n  name: 'VueCodemirror',\n  props: { ...props },\n  emits: { ...events },\n  setup(props, context) {\n    const container = shallowRef<HTMLDivElement>()\n    const state = shallowRef<EditorState>()\n    const view = shallowRef<EditorView>()\n\n    const defaultConfig: ConfigProps = {\n      ...DEFAULT_CONFIG,\n      ...useGlobalConfig()\n    }\n\n    const config = computed<ConfigProps>(() => {\n      const result = {} as Required<ConfigProps>\n      Object.keys(toRaw(props)).forEach((key: any) => {\n        if (key !== 'modelValue') {\n          // @ts-ignore\n          // MARK: ensure access to `prop[key]` original object\n          result[key] = props[key] ?? defaultConfig[key]\n        }\n      })\n      return result\n    })\n\n    onMounted(() => {\n      state.value = createEditorState({\n        doc: props.modelValue,\n        selection: config.value.selection,\n        // The extensions are split into two parts, global and component prop.\n        // Only the global part is initialized here.\n        // The prop part is dynamically reconfigured after the component is mounted.\n        extensions: defaultConfig.extensions ?? [],\n        onFocus: (viewUpdate) => context.emit(EventKey.Focus, viewUpdate),\n        onBlur: (viewUpdate) => context.emit(EventKey.Blur, viewUpdate),\n        onUpdate: (viewUpdate) => context.emit(EventKey.Update, viewUpdate),\n        onChange: (newDoc, viewUpdate) => {\n          if (newDoc !== props.modelValue) {\n            context.emit(EventKey.Change, newDoc, viewUpdate)\n            context.emit(EventKey.ModelUpdate, newDoc, viewUpdate)\n          }\n        }\n      })\n\n      view.value = createEditorView({\n        state: state.value,\n        parent: container.value!,\n        root: config.value.root\n      })\n\n      const editorTools = getEditorTools(view.value)\n\n      // watch prop.modelValue\n      watch(\n        () => props.modelValue,\n        (newValue) => {\n          if (newValue !== editorTools.getDoc()) {\n            editorTools.setDoc(newValue)\n          }\n        }\n      )\n\n      // watch prop.extensions\n      watch(\n        () => props.extensions,\n        (extensions) => editorTools.reExtensions(extensions || []),\n        { immediate: true }\n      )\n\n      // watch prop.disabled\n      watch(\n        () => config.value.disabled,\n        (disabled) => editorTools.toggleDisabled(disabled),\n        { immediate: true }\n      )\n\n      // watch prop.indentWithTab\n      watch(\n        () => config.value.indentWithTab,\n        (iwt) => editorTools.toggleIndentWithTab(iwt),\n        { immediate: true }\n      )\n\n      // watch prop.tabSize\n      watch(\n        () => config.value.tabSize,\n        (tabSize) => editorTools.setTabSize(tabSize!),\n        { immediate: true }\n      )\n\n      // watch prop.phrases\n      watch(\n        () => config.value.phrases,\n        (phrases) => editorTools.setPhrases(phrases || {}),\n        { immediate: true }\n      )\n\n      // watch prop.placeholder\n      watch(\n        () => config.value.placeholder,\n        (placeholder) => editorTools.setPlaceholder(placeholder!),\n        { immediate: true }\n      )\n\n      // watch prop.style\n      watch(\n        () => config.value.style,\n        (style) => editorTools.setStyle(style),\n        { immediate: true }\n      )\n\n      // immediate autofocus\n      if (config.value.autofocus) {\n        editorTools.focus()\n      }\n\n      context.emit(EventKey.Ready, {\n        state: state.value!,\n        view: view.value!,\n        container: container.value!\n      })\n    })\n\n    onBeforeUnmount(() => {\n      if (config.value.autoDestroy && view.value) {\n        destroyEditorView(view.value)\n      }\n    })\n\n    return () => {\n      return h('div', {\n        class: 'v-codemirror',\n        style: { display: 'contents' },\n        ref: container\n      })\n    }\n  }\n})\n","import type { Plugin } from 'vue'\nimport type { Props } from './props'\nimport { injectGlobalConfig } from './config'\nimport Component from './component'\n\nexport type { Props } from './props'\nexport type { Events } from './events'\nexport { DEFAULT_CONFIG } from './config'\n\nexport const Codemirror = Component\nexport const install: Plugin = (app, defaultConfig?: Props) => {\n  app.component(Component.name, Component)\n  app.component('Codemirror', Component)\n  injectGlobalConfig(app, defaultConfig)\n}\n\nexport default {\n  Codemirror,\n  install\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}