{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nvar __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport React, { PureComponent, createRef } from 'react';\nimport ResizeObserverPolyfill from 'resize-observer-polyfill';\nimport { CSSTransition } from 'react-transition-group';\nimport { callbackOriginRef, findDOMNode } from '../_util/react-dom';\nimport { on, off, contains, getScrollElements, isScrollElement } from '../_util/dom';\nimport { isFunction, isObject, isArray, supportRef } from '../_util/is';\nimport { pickDataAttributes } from '../_util/pick';\nimport { Esc } from '../_util/keycode';\nimport Portal from './portal';\nimport ResizeObserver from '../_util/resizeObserver';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport getStyle, { getBoundingClientRect } from './getPopupStyle';\nimport throttleByRaf from '../_util/throttleByRaf';\nimport { raf, caf } from '../_util/raf';\nimport mergeProps from '../_util/mergeProps';\nfunction getDOMPos(dom, options) {\n  if (!dom) {\n    return {};\n  }\n  var _a = getBoundingClientRect(dom, options),\n    width = _a.width,\n    height = _a.height,\n    left = _a.left,\n    right = _a.right;\n  return {\n    width: width,\n    height: height,\n    left: left,\n    right: right\n  };\n}\nexport var EventsByTriggerNeed = ['onClick', 'onMouseEnter', 'onMouseLeave', 'onMouseMove', 'onFocus', 'onBlur', 'onContextMenu', 'onKeyDown'];\nfunction splitChildrenStyle(obj, keys) {\n  var picked = {};\n  var omitted = __assign({}, obj);\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return {\n    picked: picked,\n    omitted: omitted\n  };\n}\nvar defaultProps = {\n  blurToHide: true,\n  // clickToClose: true,\n  classNames: 'fadeIn',\n  trigger: 'hover',\n  position: 'bottom',\n  duration: 200,\n  unmountOnExit: true,\n  popupAlign: {},\n  popupHoverStay: true,\n  clickOutsideToClose: true,\n  escToClose: false,\n  mouseLeaveToClose: true,\n  containerScrollToClose: false,\n  getDocument: function () {\n    return window.document;\n  },\n  autoFixPosition: true,\n  mouseEnterDelay: 100,\n  mouseLeaveDelay: 100,\n  autoFitPosition: true\n};\nvar Trigger = /** @class */function (_super) {\n  __extends(Trigger, _super);\n  function Trigger(props, context) {\n    var _this = _super.call(this, props, context) || this;\n    _this.delayTimer = null;\n    _this.updatePositionTimer = null;\n    // is popup open?\n    _this.popupOpen = false;\n    // if mousedown to hide popup, ignore onFocus\n    _this.mousedownToHide = false;\n    _this.hasPopupMouseDown = false;\n    _this.unmount = false;\n    _this.isDidMount = false;\n    // 保存鼠标的位置\n    _this.mouseLocation = {\n      clientX: 0,\n      clientY: 0\n    };\n    // 保存当前的mount container dom元素\n    _this.observerContainer = null;\n    // 保存当前节点到 popupContainer 间的所有滚动元素\n    _this.scrollElements = null;\n    // container 触发 resize时执行\n    _this.resizeObserver = new ResizeObserverPolyfill(function () {\n      _this.handleUpdatePosition();\n    });\n    _this.childrenDom = null;\n    // 保存children节点的尺寸。 主要用于在弹出层动画前和动画完成后比较尺寸是否有变化。\n    _this.childrenDomSize = {};\n    _this.getMergedProps = function (basePropsOrKeys) {\n      var componentConfig = _this.context.componentConfig;\n      var props = mergeProps(basePropsOrKeys && isObject(basePropsOrKeys) ? basePropsOrKeys : _this.props, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Trigger, basePropsOrKeys && isArray(basePropsOrKeys) ? basePropsOrKeys : undefined);\n      return props;\n    };\n    _this.getRootElement = function () {\n      var _a, _b;\n      _this.childrenDom = findDOMNode(((_b = (_a = _this.props).getTargetDOMNode) === null || _b === void 0 ? void 0 : _b.call(_a)) || _this.rootElementRef, _this);\n      return _this.childrenDom;\n    };\n    _this.getPopupElement = function () {\n      var _a;\n      return ((_a = _this.triggerRef) === null || _a === void 0 ? void 0 : _a.current) || null;\n    };\n    _this.offScrollListeners = function () {\n      (_this.scrollElements || []).forEach(function (item) {\n        off(item, 'scroll', _this.handleScroll);\n      });\n      _this.scrollElements = null;\n    };\n    _this.offWindowResize = function () {\n      _this.handleWindowResize = false;\n      off(window, 'resize', _this.handleUpdatePosition);\n    };\n    _this.offContainerResize = function () {\n      if (_this.resizeObserver && _this.observerContainer) {\n        _this.resizeObserver.unobserve(_this.observerContainer);\n        _this.observerContainer = null;\n      }\n    };\n    _this.handleScroll = function () {\n      var currentProps = _this.getMergedProps(['containerScrollToClose', 'updateOnScroll']);\n      if (currentProps.containerScrollToClose) {\n        _this.setPopupVisible(false);\n      } else if (currentProps.updateOnScroll) {\n        _this.handleUpdatePosition();\n      }\n    };\n    _this.onContainersScroll = function (props) {\n      var _a, _b;\n      if (_this.scrollElements) {\n        return;\n      }\n      _this.scrollElements = getScrollElements(_this.childrenDom, (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode);\n      // 弹出层挂载载 body 且 body 不是滚动元素时，需要额外检测 document.documentElement 是否是滚动元素\n      // 默认 html,body 不限制宽高时，滚动事件仅能在 window 上监听\n      // fix: https://github.com/arco-design/arco-design/issues/1599\n      if (props.containerScrollToClose && ((_b = _this.popupContainer) === null || _b === void 0 ? void 0 : _b.parentNode) === document.body && _this.scrollElements.indexOf(document.body) === -1 && isScrollElement(document.documentElement)) {\n        _this.scrollElements.push(window);\n      }\n      _this.scrollElements.forEach(function (item) {\n        on(item, 'scroll', _this.handleScroll);\n      });\n    };\n    _this.onContainerResize = function () {\n      var _a;\n      // containerParent 相当于是通过getPopupContainer传入的节点\n      // 因为 this.popupContainer 会被挂载到getPopupContainer返回的节点上\n      var containerParent = (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode;\n      if (_this.resizeObserver && _this.observerContainer !== containerParent) {\n        // 说明containerParent变了，取消之前的监听，监听新的container\n        _this.offContainerResize();\n        containerParent && _this.resizeObserver.observe(containerParent);\n        _this.observerContainer = containerParent;\n      }\n    };\n    // getPopupContainer 改变时候触发\n    _this.handleUpdatePosition = throttleByRaf(function () {\n      _this.updatePopupPosition();\n    });\n    _this.isClickTrigger = function () {\n      var trigger = _this.getMergedProps(['trigger']).trigger;\n      return [].concat(trigger).indexOf('click') > -1;\n    };\n    _this.isFocusTrigger = function () {\n      var trigger = _this.getMergedProps(['trigger']).trigger;\n      return [].concat(trigger).indexOf('focus') > -1;\n    };\n    _this.isHoverTrigger = function () {\n      var trigger = _this.getMergedProps(['trigger']).trigger;\n      return [].concat(trigger).indexOf('hover') > -1;\n    };\n    _this.isContextMenuTrigger = function () {\n      var trigger = _this.getMergedProps(['trigger']).trigger;\n      return [].concat(trigger).indexOf('contextMenu') > -1;\n    };\n    // 是否在鼠标移出触发节点和popup的时候隐藏弹出层\n    _this.isMouseLeaveToClose = function () {\n      return _this.isHoverTrigger() && _this.getMergedProps(['mouseLeaveToClose']).mouseLeaveToClose;\n    };\n    // 是否在悬浮到popup的时候隐藏弹出层\n    _this.isPopupHoverHide = function () {\n      return _this.isHoverTrigger() && !_this.getMergedProps(['popupHoverStay']).popupHoverStay;\n    };\n    _this.isClickToHide = function () {\n      if (_this.isClickTrigger() || _this.isContextMenuTrigger()) {\n        var _a = _this.getMergedProps(['clickToClose']).clickToClose,\n          clickToClose = _a === void 0 ? true : _a;\n        return clickToClose;\n      }\n      // 2.44.0 及之前版本 clickToClose 对 hover触发不生效。\n      // 2.44.1 之后只有在props直接传入clickToClose 时才生效于 hover 触发方式，避免如以下用法前后表现不一致\n      // <Trigger><Trigger trigger=\"click\"><button>sss</button></a></Trigger></Trigger>\n      return _this.isHoverTrigger() && _this.props.clickToClose;\n    };\n    _this.isBlurToHide = function () {\n      return _this.isFocusTrigger() && _this.getMergedProps(['blurToHide']).blurToHide;\n    };\n    _this.clearTimer = function () {\n      if (_this.updatePositionTimer) {\n        if (_this.updatePositionTimer.cancel) {\n          _this.updatePositionTimer.cancel();\n        } else {\n          clearTimeout(_this.updatePositionTimer);\n          _this.updatePositionTimer = null;\n        }\n      }\n      if (_this.delayTimer) {\n        clearTimeout(_this.delayTimer);\n        _this.delayTimer = null;\n      }\n      if (_this.mouseDownTimeout) {\n        clearTimeout(_this.mouseDownTimeout);\n        _this.mouseDownTimeout = null;\n      }\n    };\n    _this.offClickOutside = function () {\n      if (_this.handleClickOutside) {\n        var getDocument = _this.getMergedProps(['getDocument']).getDocument;\n        var root = isFunction(getDocument) && getDocument();\n        off(root, 'mousedown', _this.onClickOutside);\n        _this.handleClickOutside = false;\n      }\n    };\n    _this.getTransformOrigin = function (position) {\n      var _a, _b;\n      var content = _this.getPopupElement();\n      if (!content) return {};\n      var _c = _this.getMergedProps(['showArrow', 'classNames']),\n        showArrow = _c.showArrow,\n        classNames = _c.classNames;\n      var top = showArrow && ((_a = _this.arrowStyle) === null || _a === void 0 ? void 0 : _a.top) || 0;\n      var left = showArrow && ((_b = _this.arrowStyle) === null || _b === void 0 ? void 0 : _b.left) || 0;\n      top = top ? top + \"px\" : '';\n      left = left ? left + \"px\" : '';\n      var transformOrigin = {\n        top: (left || '50%') + \" 100% 0\",\n        tl: (left || '15px') + \" 100% 0\",\n        tr: (left || content.clientWidth - 15 + \"px\") + \" 100% 0\",\n        bottom: (left || '50%') + \" 0 0\",\n        bl: (left || '15px') + \" 0 0\",\n        br: (left || content.clientWidth - 15 + \"px\") + \" 0 0\",\n        left: \"100% \" + (top || '50%') + \" 0\",\n        lt: \"100% \" + (top || '15px') + \" 0\",\n        lb: \"100% \" + (top || content.clientHeight - 15 + \"px\") + \" 0\",\n        right: \"0 \" + (top || '50%') + \" 0\",\n        rt: \"0 \" + (top || '15px') + \" 0\",\n        rb: \"0 \" + (top || content.clientHeight - 15 + \"px\") + \" 0\"\n      };\n      // tooltip popover popconfirm\n      if (classNames && classNames.indexOf('zoom') > -1) {\n        return {\n          transformOrigin: transformOrigin[position]\n        };\n      }\n      if (classNames === 'slideDynamicOrigin') {\n        var origin_1 = '0% 0%';\n        if (['top', 'tl', 'tr'].indexOf(position) > -1) {\n          origin_1 = '100% 100%';\n        }\n        return {\n          transformOrigin: origin_1\n        };\n      }\n      return {};\n    };\n    // 下拉框存在初始translateY/translateX，需要根据真实的弹出位置确定\n    _this.getTransformTranslate = function () {\n      if (_this.getMergedProps(['classNames']).classNames !== 'slideDynamicOrigin') {\n        return '';\n      }\n      switch (_this.realPosition) {\n        case 'bottom':\n        case 'bl':\n        case 'br':\n          return 'scaleY(0.9) translateY(-4px)';\n        case 'top':\n        case 'tl':\n        case 'tr':\n          return 'scaleY(0.9) translateY(4px)';\n        default:\n          return '';\n      }\n    };\n    _this.getPopupStyle = function () {\n      if (_this.unmount || !_this.popupContainer) {\n        return;\n      }\n      var mountContainer = _this.popupContainer;\n      var content = _this.triggerRef.current;\n      var child = _this.getRootElement();\n      // offsetParent=null when display:none or position: fixed\n      if (!child.offsetParent && !child.getClientRects().length) {\n        return _this.state.popupStyle;\n      }\n      var mergedProps = _this.getMergedProps();\n      var _a = getStyle(mergedProps, content, child, mountContainer, _this.mouseLocation),\n        style = _a.style,\n        arrowStyle = _a.arrowStyle,\n        realPosition = _a.realPosition;\n      _this.realPosition = realPosition || mergedProps.position;\n      _this.arrowStyle = arrowStyle || {};\n      return __assign(__assign({}, style), _this.getTransformOrigin(_this.realPosition));\n    };\n    _this.showPopup = function (callback) {\n      if (callback === void 0) {\n        callback = function () {};\n      }\n      var popupStyle = _this.getPopupStyle();\n      _this.setState({\n        popupStyle: popupStyle\n      }, callback);\n    };\n    _this.update = throttleByRaf(function (callback) {\n      if (_this.unmount || !_this.state.popupVisible) {\n        return;\n      }\n      var popupStyle = _this.getPopupStyle();\n      _this.setState({\n        popupStyle: popupStyle\n      }, function () {\n        callback === null || callback === void 0 ? void 0 : callback();\n      });\n    });\n    _this.getRootDOMNode = function () {\n      return _this.getRootElement();\n    };\n    _this.updatePopupPosition = function (delay, callback) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      var currentVisible = _this.state.popupVisible;\n      if (!currentVisible) {\n        return;\n      }\n      if (delay < 4) {\n        _this.updatePositionTimer = _this.update(callback);\n        return;\n      }\n      _this.updatePositionTimer = setTimeout(function () {\n        var popupStyle = _this.getPopupStyle();\n        _this.setState({\n          popupStyle: popupStyle\n        }, function () {\n          callback === null || callback === void 0 ? void 0 : callback();\n        });\n      }, delay);\n    };\n    _this.setPopupVisible = function (visible, delay, callback) {\n      if (delay === void 0) {\n        delay = 0;\n      }\n      var mergedProps = _this.getMergedProps(['onVisibleChange', 'popupVisible']);\n      var onVisibleChange = mergedProps.onVisibleChange;\n      var currentVisible = _this.state.popupVisible;\n      if (visible !== currentVisible) {\n        _this.delayToDo(delay, function () {\n          onVisibleChange && onVisibleChange(visible);\n          if (!('popupVisible' in mergedProps)) {\n            if (visible) {\n              _this.setState({\n                popupVisible: true\n              }, function () {\n                _this.showPopup(callback);\n              });\n            } else {\n              _this.setState({\n                popupVisible: false\n              }, function () {\n                callback === null || callback === void 0 ? void 0 : callback();\n              });\n            }\n          } else {\n            callback === null || callback === void 0 ? void 0 : callback();\n          }\n        });\n      } else {\n        callback === null || callback === void 0 ? void 0 : callback();\n      }\n    };\n    _this.delayToDo = function (delay, callback) {\n      if (delay) {\n        _this.clearDelayTimer();\n        _this.delayTimer = setTimeout(function () {\n          callback();\n          _this.clearDelayTimer();\n        }, delay);\n      } else {\n        callback();\n      }\n    };\n    // 点击非popup内部，非children内部的节点，触发clickoutside 逻辑\n    _this.onClickOutside = function (e) {\n      var _a = _this.getMergedProps(['onClickOutside', 'clickOutsideToClose']),\n        onClickOutside = _a.onClickOutside,\n        clickOutsideToClose = _a.clickOutsideToClose;\n      var triggerNode = _this.getPopupElement();\n      var childrenDom = _this.getRootElement();\n      if (!contains(triggerNode, e.target) && !contains(childrenDom, e.target) && !_this.hasPopupMouseDown) {\n        onClickOutside === null || onClickOutside === void 0 ? void 0 : onClickOutside();\n        if (clickOutsideToClose) {\n          // 以下判断条件避免onVisibleChange触发两次\n          // blurToHide 为true时不需要执行，因为onBlur里会执行setPopupVisible\n          // hover 触发方式，不执行以下逻辑。因为mouseLeave里会执行setPopupVisible\n          if (!_this.isBlurToHide() && !_this.isHoverTrigger()) {\n            _this.setPopupVisible(false);\n          }\n        }\n      }\n    };\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode || e.which;\n      _this.triggerPropsEvent('onKeyDown', e);\n      if (keyCode === Esc.code) {\n        _this.onPressEsc(e);\n      }\n    };\n    _this.onPressEsc = function (e) {\n      var escToClose = _this.getMergedProps(['escToClose']).escToClose;\n      if (escToClose && e && e.key === Esc.key && _this.state.popupVisible) {\n        _this.setPopupVisible(false);\n      }\n    };\n    _this.onMouseEnter = function (e) {\n      var mouseEnterDelay = _this.getMergedProps(['mouseEnterDelay']).mouseEnterDelay;\n      _this.triggerPropsEvent('onMouseEnter', e);\n      _this.clearDelayTimer();\n      _this.setPopupVisible(true, mouseEnterDelay || 0);\n    };\n    _this.onMouseMove = function (e) {\n      _this.triggerPropsEvent('onMouseMove', e);\n      _this.setMouseLocation(e);\n      if (_this.state.popupVisible) {\n        _this.update();\n      }\n    };\n    _this.onMouseLeave = function (e) {\n      var mouseLeaveDelay = _this.getMergedProps(['mouseLeaveDelay']).mouseLeaveDelay;\n      _this.clearDelayTimer();\n      _this.triggerPropsEvent('onMouseLeave', e);\n      if (_this.isMouseLeaveToClose()) {\n        if (_this.state.popupVisible) {\n          _this.setPopupVisible(false, mouseLeaveDelay || 0);\n        }\n      }\n    };\n    _this.onPopupMouseEnter = function () {\n      _this.clearDelayTimer();\n    };\n    _this.onPopupMouseLeave = function (e) {\n      _this.onMouseLeave(e);\n    };\n    _this.setMouseLocation = function (e) {\n      if (_this.getMergedProps(['alignPoint']).alignPoint) {\n        _this.mouseLocation = {\n          clientX: e.clientX,\n          clientY: e.clientY\n        };\n      }\n    };\n    _this.onContextMenu = function (e) {\n      e.preventDefault();\n      _this.triggerPropsEvent('onContextMenu', e);\n      _this.setMouseLocation(e);\n      if (!_this.state.popupVisible) {\n        _this.setPopupVisible(true, 0);\n      } else {\n        // 更新位置\n        _this.getMergedProps(['alignPoint']).alignPoint && _this.update();\n      }\n    };\n    _this.clickToHidePopup = function (e) {\n      var popupVisible = _this.state.popupVisible;\n      if (popupVisible) {\n        _this.mousedownToHide = true;\n      }\n      _this.triggerPropsEvent('onClick', e);\n      if (_this.isClickToHide() && popupVisible) {\n        _this.setPopupVisible(!popupVisible, 0);\n      }\n    };\n    _this.onClick = function (e) {\n      var popupVisible = _this.state.popupVisible;\n      if (popupVisible) {\n        _this.mousedownToHide = true;\n      }\n      _this.triggerPropsEvent('onClick', e);\n      _this.setMouseLocation(e);\n      if (!_this.isClickToHide() && popupVisible) {\n        return;\n      }\n      _this.setPopupVisible(!popupVisible, 0);\n    };\n    _this.onFocus = function (e) {\n      var focusDelay = _this.getMergedProps(['focusDelay']).focusDelay;\n      var onFocus = function () {\n        _this.triggerPropsEvent('onFocus', e);\n      };\n      _this.clearDelayTimer();\n      if (!_this.mousedownToHide) {\n        if (_this.state.popupVisible) {\n          onFocus === null || onFocus === void 0 ? void 0 : onFocus();\n        } else {\n          _this.setPopupVisible(true, focusDelay || 0, onFocus);\n        }\n      }\n      _this.mousedownToHide = false;\n    };\n    _this.onBlur = function (e) {\n      _this.setPopupVisible(false, 200, function () {\n        return _this.triggerPropsEvent('onBlur', e);\n      });\n    };\n    _this.onResize = function () {\n      if (_this.getMergedProps(['autoFixPosition']).autoFixPosition && _this.state.popupVisible) {\n        _this.updatePopupPosition();\n      }\n    };\n    _this.onPopupMouseDown = function () {\n      _this.hasPopupMouseDown = true;\n      clearTimeout(_this.mouseDownTimeout);\n      _this.mouseDownTimeout = setTimeout(function () {\n        _this.hasPopupMouseDown = false;\n      }, 0);\n    };\n    // 当 children 中的元素 disabled 时，不能正确触发 hover 等事件，所以当监测到对应\n    // 组件有 disabled 时，给元素加一层 span，处理事件，模拟样式\n    _this.getChild = function () {\n      var _a;\n      var children = _this.props.children;\n      var element = children;\n      var elementType = element && typeof element !== 'string' && element.type;\n      var child = children;\n      if (['string', 'number'].indexOf(typeof children) > -1 || React.Children.count(children) > 1) {\n        child = React.createElement(\"span\", null, children);\n      } else if (element && elementType && (elementType.__BYTE_BUTTON === true || elementType.__BYTE_CHECKBOX === true || elementType.__BYTE_SWITCH === true || elementType.__BYTE_RADIO === true || elementType === 'button') && element.props.disabled) {\n        // 从样式中提取出会影响布局的到上层 span 样式中。\n        var _b = splitChildrenStyle(element.props.style, ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n          picked = _b.picked,\n          omitted = _b.omitted;\n        child = React.createElement(\"span\", {\n          className: (_a = element.props) === null || _a === void 0 ? void 0 : _a.className,\n          style: __assign(__assign({\n            display: 'inline-block'\n          }, picked), {\n            cursor: 'not-allowed'\n          })\n        }, React.cloneElement(element, {\n          style: __assign(__assign({}, omitted), {\n            pointerEvents: 'none'\n          }),\n          className: undefined\n        }));\n      }\n      // 防止为空报错\n      return child || React.createElement(\"span\", null);\n    };\n    // 创建的dom节点插入getPopupContainer。\n    _this.appendToContainer = function (node) {\n      caf(_this.rafId);\n      if (_this.isDidMount) {\n        var getGlobalPopupContainer = _this.context.getPopupContainer;\n        var getPopupContainer = _this.getMergedProps(['getPopupContainer']).getPopupContainer;\n        var gpc = getPopupContainer || getGlobalPopupContainer;\n        var rootElement = _this.getRootElement();\n        var parent_1 = gpc(rootElement);\n        if (parent_1) {\n          parent_1.appendChild(node);\n          return;\n        }\n      }\n      _this.rafId = raf(function () {\n        _this.appendToContainer(node);\n      });\n    };\n    _this.getContainer = function () {\n      var popupContainer = document.createElement('div');\n      popupContainer.style.width = '100%';\n      popupContainer.style.position = 'absolute';\n      popupContainer.style.top = '0';\n      popupContainer.style.left = '0';\n      _this.popupContainer = popupContainer;\n      _this.appendToContainer(popupContainer);\n      return popupContainer;\n    };\n    // 1. 触发直接附加到 Trigger 上的事件，大多是Trigger直接嵌套Trigger的情况\n    // 2. 触发children上直接被附加的事件\n    _this.triggerPropsEvent = function (eventName, e) {\n      var child = _this.getChild();\n      var childHandler = child && child.props && child.props[eventName];\n      var handlerFn = _this.getMergedProps([eventName])[eventName];\n      if (isFunction(childHandler)) {\n        childHandler(e);\n      }\n      if (isFunction(handlerFn)) {\n        handlerFn(e);\n      }\n    };\n    // 触发 children/ trigger 组件上被附加的事件\n    _this.triggerOriginEvent = function (eventName) {\n      var child = _this.getChild();\n      var childHandler = child && child.props && child.props[eventName];\n      var propsHandler = _this.getMergedProps([eventName])[eventName];\n      if (isFunction(propsHandler) && isFunction(childHandler)) {\n        return function (e) {\n          childHandler(e);\n          propsHandler(e);\n        };\n      }\n      return childHandler || propsHandler;\n    };\n    var mergedProps = _this.getMergedProps(props);\n    var popupVisible = 'popupVisible' in mergedProps ? mergedProps.popupVisible : mergedProps.defaultPopupVisible;\n    _this.popupOpen = !!popupVisible;\n    _this.triggerRef = createRef();\n    _this.state = {\n      popupVisible: !!popupVisible,\n      popupStyle: {}\n    };\n    return _this;\n  }\n  Trigger.getDerivedStateFromProps = function (nextProps, state) {\n    if ('popupVisible' in nextProps && nextProps.popupVisible !== state.popupVisible) {\n      return {\n        popupVisible: nextProps.popupVisible\n      };\n    }\n    return null;\n  };\n  Trigger.prototype.componentDidMount = function () {\n    this.componentDidUpdate(this.getMergedProps());\n    this.isDidMount = true;\n    this.unmount = false;\n    this.childrenDom = this.getRootElement();\n    if (this.state.popupVisible) {\n      this.childrenDomSize = getDOMPos(this.childrenDom, {\n        boundaryDistance: this.props.alignPoint ? undefined : this.props.boundaryDistance,\n        position: this.props.position\n      });\n    }\n  };\n  Trigger.prototype.componentDidUpdate = function (_prevProps) {\n    var prevProps = this.getMergedProps(_prevProps);\n    var currentProps = this.getMergedProps();\n    if (!prevProps.popupVisible && currentProps.popupVisible) {\n      this.update();\n    }\n    var popupVisible = this.state.popupVisible;\n    this.popupOpen = popupVisible;\n    var getDocument = currentProps.getDocument;\n    if (!popupVisible) {\n      this.offClickOutside();\n      this.offContainerResize();\n      this.offWindowResize();\n      this.offScrollListeners();\n      return;\n    }\n    var rect = getDOMPos(this.childrenDom, {\n      boundaryDistance: this.props.alignPoint ? {} : this.props.boundaryDistance,\n      position: this.props.position\n    });\n    // children节点的尺寸改变，主要是处理children 存在scale等动画属性，或者移动位置的时候，popup 的位置有问题\n    if (JSON.stringify(rect) !== JSON.stringify(this.childrenDomSize)) {\n      this.updatePopupPosition();\n      this.childrenDomSize = rect;\n    }\n    // popupVisible为true\n    this.onContainerResize();\n    if (currentProps.updateOnScroll || currentProps.containerScrollToClose) {\n      this.onContainersScroll(currentProps);\n    }\n    if (!this.handleWindowResize) {\n      on(window, 'resize', this.handleUpdatePosition);\n      this.handleWindowResize = true;\n    }\n    if (!this.handleClickOutside) {\n      var root = isFunction(getDocument) && getDocument();\n      if (root) {\n        // clickOutside 必须监听mousedown。\n        // 1. 如果事件目标元素在click后被移除，document.onclick被触发时已经没有该元素，会错误触发clickOutside逻辑，隐藏popup。\n        // 2. 点击label标签，会触发对应input元素的点击事件，导致触发clickOutside，隐藏popup。\n        on(root, 'mousedown', this.onClickOutside, {\n          capture: isObject(currentProps.clickOutsideToClose) ? currentProps.clickOutsideToClose.capture : false\n        });\n        this.handleClickOutside = true;\n      }\n    }\n  };\n  Trigger.prototype.componentWillUnmount = function () {\n    this.unmount = true;\n    this.offClickOutside();\n    this.clearTimer();\n    this.offWindowResize();\n    this.offScrollListeners();\n    this.offContainerResize();\n    caf(this.rafId);\n  };\n  Trigger.prototype.clearDelayTimer = function () {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n  Trigger.prototype.render = function () {\n    var _a, _b, _c;\n    var _this = this;\n    var _d;\n    var _e = this.getMergedProps(),\n      children = _e.children,\n      style = _e.style,\n      className = _e.className,\n      arrowProps = _e.arrowProps,\n      disabled = _e.disabled,\n      popup = _e.popup,\n      classNames = _e.classNames,\n      duration = _e.duration,\n      unmountOnExit = _e.unmountOnExit,\n      alignPoint = _e.alignPoint,\n      autoAlignPopupWidth = _e.autoAlignPopupWidth,\n      position = _e.position,\n      childrenPrefix = _e.childrenPrefix,\n      showArrow = _e.showArrow,\n      dropdownPopupStyle = _e.popupStyle,\n      __onExit = _e.__onExit,\n      __onExited = _e.__onExited;\n    var isExistChildren = children || children === 0;\n    var _f = this.context,\n      getPrefixCls = _f.getPrefixCls,\n      zIndex = _f.zIndex,\n      rtl = _f.rtl;\n    var _g = this.state,\n      popupVisible = _g.popupVisible,\n      popupStyle = _g.popupStyle;\n    if (!popup) {\n      return null;\n    }\n    var mergeProps = {};\n    var popupEventProps = {\n      onMouseDown: this.onPopupMouseDown\n    };\n    if (this.isHoverTrigger() && !disabled) {\n      mergeProps.onMouseEnter = this.onMouseEnter;\n      mergeProps.onMouseLeave = this.onMouseLeave;\n      // https://github.com/arco-design/arco-design/issues/1804\n      // TODO: remove login in next major version\n      if (this.isClickToHide()) {\n        mergeProps.onClick = this.clickToHidePopup;\n      }\n      if (alignPoint) {\n        mergeProps.onMouseMove = this.onMouseMove;\n      }\n      if (!this.isPopupHoverHide()) {\n        popupEventProps.onMouseEnter = this.onPopupMouseEnter;\n        popupEventProps.onMouseLeave = this.onPopupMouseLeave;\n      }\n    } else {\n      mergeProps.onMouseEnter = this.triggerOriginEvent('onMouseEnter');\n      mergeProps.onMouseLeave = this.triggerOriginEvent('onMouseLeave');\n    }\n    if (this.isContextMenuTrigger() && !disabled) {\n      mergeProps.onContextMenu = this.onContextMenu;\n      mergeProps.onClick = this.clickToHidePopup;\n    } else {\n      mergeProps.onContextMenu = this.triggerOriginEvent('onContextMenu');\n    }\n    if (this.isClickTrigger() && !disabled) {\n      mergeProps.onClick = this.onClick;\n    } else {\n      mergeProps.onClick = mergeProps.onClick || this.triggerOriginEvent('onClick');\n    }\n    if (this.isFocusTrigger() && !disabled) {\n      mergeProps.onFocus = this.onFocus;\n      if (this.isBlurToHide()) {\n        mergeProps.onBlur = this.onBlur;\n      }\n    } else {\n      mergeProps.onFocus = this.triggerOriginEvent('onFocus');\n      mergeProps.onBlur = this.triggerOriginEvent('onBlur');\n    }\n    if (!disabled) {\n      mergeProps.onKeyDown = this.onKeyDown;\n    } else {\n      mergeProps.onKeyDown = this.triggerOriginEvent('onKeyDown');\n    }\n    var child = this.getChild();\n    var popupChildren = React.Children.only(popup());\n    if (child.props.className) {\n      mergeProps.className = child.props.className;\n    }\n    if (childrenPrefix && popupVisible) {\n      mergeProps.className = mergeProps.className ? mergeProps.className + \" \" + childrenPrefix + \"-open\" : childrenPrefix + \"-open\";\n    }\n    // 只有在focus触发时，设置tabIndex，点击tab键，能触发focus事件，展示弹出框\n    if (this.isFocusTrigger()) {\n      mergeProps.tabIndex = disabled ? -1 : 0;\n    }\n    var prefixCls = getPrefixCls('trigger');\n    var popupClassName = cs(prefixCls, childrenPrefix, prefixCls + \"-position-\" + position, (_a = {}, _a[prefixCls + \"-rtl\"] = rtl, _a), className);\n    var childrenComponent = isExistChildren && React.createElement(ResizeObserver, {\n      onResize: this.onResize,\n      getTargetDOMNode: function () {\n        return _this.rootElementRef;\n      }\n    }, React.cloneElement(child, __assign(__assign({}, mergeProps), {\n      ref: !supportRef(child) ? undefined : function (node) {\n        _this.rootElementRef = node;\n        callbackOriginRef(child, node);\n      }\n    })));\n    var portalContent = React.createElement(CSSTransition, {\n      in: !!popupVisible,\n      timeout: duration,\n      classNames: classNames,\n      unmountOnExit: unmountOnExit,\n      appear: true,\n      mountOnEnter: true,\n      onEnter: function () {\n        _this.triggerRefDestoried = false;\n        var e = _this.getPopupElement();\n        if (!e) {\n          return;\n        }\n        e.style.display = 'initial';\n        e.style.pointerEvents = 'none';\n        if (classNames === 'slideDynamicOrigin') {\n          // 下拉菜单\n          e.style.transform = _this.getTransformTranslate();\n        }\n      },\n      onEntering: function () {\n        var e = _this.getPopupElement();\n        if (!e) {\n          return;\n        }\n        if (classNames === 'slideDynamicOrigin') {\n          // 下拉菜单\n          e.style.transform = '';\n        }\n      },\n      onEntered: function () {\n        var e = _this.getPopupElement();\n        if (!e) {\n          return;\n        }\n        e.style.pointerEvents = 'auto';\n        _this.forceUpdate();\n      },\n      onExit: function () {\n        var e = _this.getPopupElement();\n        if (!e) {\n          return;\n        }\n        // 避免消失动画时对元素的快速点击触发意外的操作\n        e.style.pointerEvents = 'none';\n        __onExit === null || __onExit === void 0 ? void 0 : __onExit(e);\n      },\n      onExited: function () {\n        var e = _this.getPopupElement();\n        if (!e) {\n          return;\n        }\n        e.style.display = 'none';\n        // 这里立即设置为null是为了在setState popupStyle引起重新渲染时，能触发 Portal的卸载事件。移除父节点。\n        // 否则只有在下个循环中 triggerRef 才会变为null，需要重新forceUpdate，才能触发Portal的unmount。\n        if (unmountOnExit) {\n          _this.triggerRefDestoried = true;\n        }\n        _this.setState({\n          popupStyle: {}\n        });\n        __onExited === null || __onExited === void 0 ? void 0 : __onExited(e);\n      },\n      nodeRef: this.triggerRef\n    }, React.createElement(ResizeObserver, {\n      onResize: function () {\n        var target = _this.triggerRef.current;\n        if (target) {\n          // Avoid the flickering problem caused by the size change and positioning not being recalculated in time.\n          // TODO: Consider changing the popup style directly  in the next major version\n          var popupStyle_1 = _this.getPopupStyle();\n          var style_1 = _this.props.style || {};\n          target.style.top = String(style_1.top || popupStyle_1.top + \"px\");\n          target.style.left = String(style_1.left || popupStyle_1.left + \"px\");\n        }\n        _this.onResize();\n      },\n      getTargetDOMNode: function () {\n        return _this.getPopupElement();\n      }\n    }, React.createElement(\"span\", __assign({\n      ref: this.triggerRef,\n      \"trigger-placement\": this.realPosition,\n      style: __assign(__assign(__assign({\n        width: autoAlignPopupWidth && (style === null || style === void 0 ? void 0 : style.width) === undefined ? (_d = this.childrenDomSize) === null || _d === void 0 ? void 0 : _d.width : ''\n      }, popupStyle), {\n        position: 'absolute',\n        zIndex: zIndex || ''\n      }), style)\n    }, popupEventProps, {\n      className: popupClassName\n    }, pickDataAttributes(this.props)), React.createElement(popupChildren.type, __assign({\n      ref: popupChildren.ref\n    }, popupChildren.props, {\n      style: __assign(__assign({}, popupChildren.props.style), dropdownPopupStyle)\n    })), (showArrow || arrowProps) && React.createElement(\"div\", {\n      className: cs(prefixCls + \"-arrow-container\", (_b = {}, _b[childrenPrefix + \"-arrow-container\"] = childrenPrefix, _b))\n    }, React.createElement(\"div\", __assign({}, arrowProps, {\n      className: cs(prefixCls + \"-arrow\", (_c = {}, _c[childrenPrefix + \"-arrow\"] = childrenPrefix, _c), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.className),\n      style: __assign(__assign({}, this.arrowStyle), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.style)\n    }))))));\n    // 如果 triggerRef 不存在，说明弹出层内容被销毁，可以隐藏portal。\n    var portal = popupVisible || this.getPopupElement() && !this.triggerRefDestoried ? React.createElement(Portal, {\n      getContainer: this.getContainer\n    }, portalContent) : null;\n    return isExistChildren ? React.createElement(React.Fragment, null, childrenComponent, portal) : portal;\n  };\n  Trigger.displayName = 'Trigger';\n  Trigger.contextType = ConfigContext;\n  return Trigger;\n}(PureComponent);\nexport default Trigger;","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","PureComponent","createRef","ResizeObserverPolyfill","CSSTransition","callbackOriginRef","findDOMNode","on","off","contains","getScrollElements","isScrollElement","isFunction","isObject","isArray","supportRef","pickDataAttributes","Esc","Portal","ResizeObserver","cs","ConfigContext","getStyle","getBoundingClientRect","throttleByRaf","raf","caf","mergeProps","getDOMPos","dom","options","_a","width","height","left","right","EventsByTriggerNeed","splitChildrenStyle","obj","keys","picked","omitted","forEach","key","defaultProps","blurToHide","classNames","trigger","position","duration","unmountOnExit","popupAlign","popupHoverStay","clickOutsideToClose","escToClose","mouseLeaveToClose","containerScrollToClose","getDocument","window","document","autoFixPosition","mouseEnterDelay","mouseLeaveDelay","autoFitPosition","Trigger","_super","props","context","_this","delayTimer","updatePositionTimer","popupOpen","mousedownToHide","hasPopupMouseDown","unmount","isDidMount","mouseLocation","clientX","clientY","observerContainer","scrollElements","resizeObserver","handleUpdatePosition","childrenDom","childrenDomSize","getMergedProps","basePropsOrKeys","componentConfig","undefined","getRootElement","_b","getTargetDOMNode","rootElementRef","getPopupElement","triggerRef","current","offScrollListeners","item","handleScroll","offWindowResize","handleWindowResize","offContainerResize","unobserve","currentProps","setPopupVisible","updateOnScroll","onContainersScroll","popupContainer","parentNode","body","indexOf","documentElement","push","onContainerResize","containerParent","observe","updatePopupPosition","isClickTrigger","concat","isFocusTrigger","isHoverTrigger","isContextMenuTrigger","isMouseLeaveToClose","isPopupHoverHide","isClickToHide","clickToClose","isBlurToHide","clearTimer","cancel","clearTimeout","mouseDownTimeout","offClickOutside","handleClickOutside","root","onClickOutside","getTransformOrigin","content","_c","showArrow","top","arrowStyle","transformOrigin","tl","tr","clientWidth","bottom","bl","br","lt","lb","clientHeight","rt","rb","origin_1","getTransformTranslate","realPosition","getPopupStyle","mountContainer","child","offsetParent","getClientRects","state","popupStyle","mergedProps","style","showPopup","callback","setState","update","popupVisible","getRootDOMNode","delay","currentVisible","setTimeout","visible","onVisibleChange","delayToDo","clearDelayTimer","e","triggerNode","target","onKeyDown","keyCode","which","triggerPropsEvent","code","onPressEsc","onMouseEnter","onMouseMove","setMouseLocation","onMouseLeave","onPopupMouseEnter","onPopupMouseLeave","alignPoint","onContextMenu","preventDefault","clickToHidePopup","onClick","onFocus","focusDelay","onBlur","onResize","onPopupMouseDown","getChild","children","element","elementType","type","Children","count","createElement","__BYTE_BUTTON","__BYTE_CHECKBOX","__BYTE_SWITCH","__BYTE_RADIO","disabled","className","display","cursor","cloneElement","pointerEvents","appendToContainer","node","rafId","getGlobalPopupContainer","getPopupContainer","gpc","rootElement","parent_1","appendChild","getContainer","eventName","childHandler","handlerFn","triggerOriginEvent","propsHandler","defaultPopupVisible","getDerivedStateFromProps","nextProps","componentDidMount","componentDidUpdate","boundaryDistance","_prevProps","prevProps","rect","JSON","stringify","capture","componentWillUnmount","render","_d","_e","arrowProps","popup","autoAlignPopupWidth","childrenPrefix","dropdownPopupStyle","__onExit","__onExited","isExistChildren","_f","getPrefixCls","zIndex","rtl","_g","popupEventProps","onMouseDown","popupChildren","only","tabIndex","prefixCls","popupClassName","childrenComponent","ref","portalContent","in","timeout","appear","mountOnEnter","onEnter","triggerRefDestoried","transform","onEntering","onEntered","forceUpdate","onExit","onExited","nodeRef","popupStyle_1","style_1","portal","Fragment","displayName","contextType"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Trigger/index.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { PureComponent, createRef, } from 'react';\nimport ResizeObserverPolyfill from 'resize-observer-polyfill';\nimport { CSSTransition } from 'react-transition-group';\nimport { callbackOriginRef, findDOMNode } from '../_util/react-dom';\nimport { on, off, contains, getScrollElements, isScrollElement } from '../_util/dom';\nimport { isFunction, isObject, isArray, supportRef } from '../_util/is';\nimport { pickDataAttributes } from '../_util/pick';\nimport { Esc } from '../_util/keycode';\nimport Portal from './portal';\nimport ResizeObserver from '../_util/resizeObserver';\nimport cs from '../_util/classNames';\nimport { ConfigContext } from '../ConfigProvider';\nimport getStyle, { getBoundingClientRect } from './getPopupStyle';\nimport throttleByRaf from '../_util/throttleByRaf';\nimport { raf, caf } from '../_util/raf';\nimport mergeProps from '../_util/mergeProps';\nfunction getDOMPos(dom, options) {\n    if (!dom) {\n        return {};\n    }\n    var _a = getBoundingClientRect(dom, options), width = _a.width, height = _a.height, left = _a.left, right = _a.right;\n    return {\n        width: width,\n        height: height,\n        left: left,\n        right: right,\n    };\n}\nexport var EventsByTriggerNeed = [\n    'onClick',\n    'onMouseEnter',\n    'onMouseLeave',\n    'onMouseMove',\n    'onFocus',\n    'onBlur',\n    'onContextMenu',\n    'onKeyDown',\n];\nfunction splitChildrenStyle(obj, keys) {\n    var picked = {};\n    var omitted = __assign({}, obj);\n    keys.forEach(function (key) {\n        if (obj && key in obj) {\n            picked[key] = obj[key];\n            delete omitted[key];\n        }\n    });\n    return { picked: picked, omitted: omitted };\n}\nvar defaultProps = {\n    blurToHide: true,\n    // clickToClose: true,\n    classNames: 'fadeIn',\n    trigger: 'hover',\n    position: 'bottom',\n    duration: 200,\n    unmountOnExit: true,\n    popupAlign: {},\n    popupHoverStay: true,\n    clickOutsideToClose: true,\n    escToClose: false,\n    mouseLeaveToClose: true,\n    containerScrollToClose: false,\n    getDocument: function () { return window.document; },\n    autoFixPosition: true,\n    mouseEnterDelay: 100,\n    mouseLeaveDelay: 100,\n    autoFitPosition: true,\n};\nvar Trigger = /** @class */ (function (_super) {\n    __extends(Trigger, _super);\n    function Trigger(props, context) {\n        var _this = _super.call(this, props, context) || this;\n        _this.delayTimer = null;\n        _this.updatePositionTimer = null;\n        // is popup open?\n        _this.popupOpen = false;\n        // if mousedown to hide popup, ignore onFocus\n        _this.mousedownToHide = false;\n        _this.hasPopupMouseDown = false;\n        _this.unmount = false;\n        _this.isDidMount = false;\n        // 保存鼠标的位置\n        _this.mouseLocation = {\n            clientX: 0,\n            clientY: 0,\n        };\n        // 保存当前的mount container dom元素\n        _this.observerContainer = null;\n        // 保存当前节点到 popupContainer 间的所有滚动元素\n        _this.scrollElements = null;\n        // container 触发 resize时执行\n        _this.resizeObserver = new ResizeObserverPolyfill(function () {\n            _this.handleUpdatePosition();\n        });\n        _this.childrenDom = null;\n        // 保存children节点的尺寸。 主要用于在弹出层动画前和动画完成后比较尺寸是否有变化。\n        _this.childrenDomSize = {};\n        _this.getMergedProps = function (basePropsOrKeys) {\n            var componentConfig = _this.context.componentConfig;\n            var props = mergeProps(basePropsOrKeys && isObject(basePropsOrKeys) ? basePropsOrKeys : _this.props, defaultProps, componentConfig === null || componentConfig === void 0 ? void 0 : componentConfig.Trigger, basePropsOrKeys && isArray(basePropsOrKeys) ? basePropsOrKeys : undefined);\n            return props;\n        };\n        _this.getRootElement = function () {\n            var _a, _b;\n            _this.childrenDom = findDOMNode(((_b = (_a = _this.props).getTargetDOMNode) === null || _b === void 0 ? void 0 : _b.call(_a)) || _this.rootElementRef, _this);\n            return _this.childrenDom;\n        };\n        _this.getPopupElement = function () {\n            var _a;\n            return ((_a = _this.triggerRef) === null || _a === void 0 ? void 0 : _a.current) || null;\n        };\n        _this.offScrollListeners = function () {\n            (_this.scrollElements || []).forEach(function (item) {\n                off(item, 'scroll', _this.handleScroll);\n            });\n            _this.scrollElements = null;\n        };\n        _this.offWindowResize = function () {\n            _this.handleWindowResize = false;\n            off(window, 'resize', _this.handleUpdatePosition);\n        };\n        _this.offContainerResize = function () {\n            if (_this.resizeObserver && _this.observerContainer) {\n                _this.resizeObserver.unobserve(_this.observerContainer);\n                _this.observerContainer = null;\n            }\n        };\n        _this.handleScroll = function () {\n            var currentProps = _this.getMergedProps(['containerScrollToClose', 'updateOnScroll']);\n            if (currentProps.containerScrollToClose) {\n                _this.setPopupVisible(false);\n            }\n            else if (currentProps.updateOnScroll) {\n                _this.handleUpdatePosition();\n            }\n        };\n        _this.onContainersScroll = function (props) {\n            var _a, _b;\n            if (_this.scrollElements) {\n                return;\n            }\n            _this.scrollElements = getScrollElements(_this.childrenDom, (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode);\n            // 弹出层挂载载 body 且 body 不是滚动元素时，需要额外检测 document.documentElement 是否是滚动元素\n            // 默认 html,body 不限制宽高时，滚动事件仅能在 window 上监听\n            // fix: https://github.com/arco-design/arco-design/issues/1599\n            if (props.containerScrollToClose &&\n                ((_b = _this.popupContainer) === null || _b === void 0 ? void 0 : _b.parentNode) === document.body &&\n                _this.scrollElements.indexOf(document.body) === -1 &&\n                isScrollElement(document.documentElement)) {\n                _this.scrollElements.push(window);\n            }\n            _this.scrollElements.forEach(function (item) {\n                on(item, 'scroll', _this.handleScroll);\n            });\n        };\n        _this.onContainerResize = function () {\n            var _a;\n            // containerParent 相当于是通过getPopupContainer传入的节点\n            // 因为 this.popupContainer 会被挂载到getPopupContainer返回的节点上\n            var containerParent = (_a = _this.popupContainer) === null || _a === void 0 ? void 0 : _a.parentNode;\n            if (_this.resizeObserver && _this.observerContainer !== containerParent) {\n                // 说明containerParent变了，取消之前的监听，监听新的container\n                _this.offContainerResize();\n                containerParent && _this.resizeObserver.observe(containerParent);\n                _this.observerContainer = containerParent;\n            }\n        };\n        // getPopupContainer 改变时候触发\n        _this.handleUpdatePosition = throttleByRaf(function () {\n            _this.updatePopupPosition();\n        });\n        _this.isClickTrigger = function () {\n            var trigger = _this.getMergedProps(['trigger']).trigger;\n            return [].concat(trigger).indexOf('click') > -1;\n        };\n        _this.isFocusTrigger = function () {\n            var trigger = _this.getMergedProps(['trigger']).trigger;\n            return [].concat(trigger).indexOf('focus') > -1;\n        };\n        _this.isHoverTrigger = function () {\n            var trigger = _this.getMergedProps(['trigger']).trigger;\n            return [].concat(trigger).indexOf('hover') > -1;\n        };\n        _this.isContextMenuTrigger = function () {\n            var trigger = _this.getMergedProps(['trigger']).trigger;\n            return [].concat(trigger).indexOf('contextMenu') > -1;\n        };\n        // 是否在鼠标移出触发节点和popup的时候隐藏弹出层\n        _this.isMouseLeaveToClose = function () {\n            return _this.isHoverTrigger() && _this.getMergedProps(['mouseLeaveToClose']).mouseLeaveToClose;\n        };\n        // 是否在悬浮到popup的时候隐藏弹出层\n        _this.isPopupHoverHide = function () {\n            return _this.isHoverTrigger() && !_this.getMergedProps(['popupHoverStay']).popupHoverStay;\n        };\n        _this.isClickToHide = function () {\n            if (_this.isClickTrigger() || _this.isContextMenuTrigger()) {\n                var _a = _this.getMergedProps(['clickToClose']).clickToClose, clickToClose = _a === void 0 ? true : _a;\n                return clickToClose;\n            }\n            // 2.44.0 及之前版本 clickToClose 对 hover触发不生效。\n            // 2.44.1 之后只有在props直接传入clickToClose 时才生效于 hover 触发方式，避免如以下用法前后表现不一致\n            // <Trigger><Trigger trigger=\"click\"><button>sss</button></a></Trigger></Trigger>\n            return _this.isHoverTrigger() && _this.props.clickToClose;\n        };\n        _this.isBlurToHide = function () {\n            return _this.isFocusTrigger() && _this.getMergedProps(['blurToHide']).blurToHide;\n        };\n        _this.clearTimer = function () {\n            if (_this.updatePositionTimer) {\n                if (_this.updatePositionTimer.cancel) {\n                    _this.updatePositionTimer.cancel();\n                }\n                else {\n                    clearTimeout(_this.updatePositionTimer);\n                    _this.updatePositionTimer = null;\n                }\n            }\n            if (_this.delayTimer) {\n                clearTimeout(_this.delayTimer);\n                _this.delayTimer = null;\n            }\n            if (_this.mouseDownTimeout) {\n                clearTimeout(_this.mouseDownTimeout);\n                _this.mouseDownTimeout = null;\n            }\n        };\n        _this.offClickOutside = function () {\n            if (_this.handleClickOutside) {\n                var getDocument = _this.getMergedProps(['getDocument']).getDocument;\n                var root = isFunction(getDocument) && getDocument();\n                off(root, 'mousedown', _this.onClickOutside);\n                _this.handleClickOutside = false;\n            }\n        };\n        _this.getTransformOrigin = function (position) {\n            var _a, _b;\n            var content = _this.getPopupElement();\n            if (!content)\n                return {};\n            var _c = _this.getMergedProps(['showArrow', 'classNames']), showArrow = _c.showArrow, classNames = _c.classNames;\n            var top = (showArrow && ((_a = _this.arrowStyle) === null || _a === void 0 ? void 0 : _a.top)) || 0;\n            var left = (showArrow && ((_b = _this.arrowStyle) === null || _b === void 0 ? void 0 : _b.left)) || 0;\n            top = top ? top + \"px\" : '';\n            left = left ? left + \"px\" : '';\n            var transformOrigin = {\n                top: (left || '50%') + \" 100% 0\",\n                tl: (left || '15px') + \" 100% 0\",\n                tr: (left || content.clientWidth - 15 + \"px\") + \" 100% 0\",\n                bottom: (left || '50%') + \" 0 0\",\n                bl: (left || '15px') + \" 0 0\",\n                br: (left || content.clientWidth - 15 + \"px\") + \" 0 0\",\n                left: \"100% \" + (top || '50%') + \" 0\",\n                lt: \"100% \" + (top || '15px') + \" 0\",\n                lb: \"100% \" + (top || content.clientHeight - 15 + \"px\") + \" 0\",\n                right: \"0 \" + (top || '50%') + \" 0\",\n                rt: \"0 \" + (top || '15px') + \" 0\",\n                rb: \"0 \" + (top || content.clientHeight - 15 + \"px\") + \" 0\",\n            };\n            // tooltip popover popconfirm\n            if (classNames && classNames.indexOf('zoom') > -1) {\n                return {\n                    transformOrigin: transformOrigin[position],\n                };\n            }\n            if (classNames === 'slideDynamicOrigin') {\n                var origin_1 = '0% 0%';\n                if (['top', 'tl', 'tr'].indexOf(position) > -1) {\n                    origin_1 = '100% 100%';\n                }\n                return {\n                    transformOrigin: origin_1,\n                };\n            }\n            return {};\n        };\n        // 下拉框存在初始translateY/translateX，需要根据真实的弹出位置确定\n        _this.getTransformTranslate = function () {\n            if (_this.getMergedProps(['classNames']).classNames !== 'slideDynamicOrigin') {\n                return '';\n            }\n            switch (_this.realPosition) {\n                case 'bottom':\n                case 'bl':\n                case 'br':\n                    return 'scaleY(0.9) translateY(-4px)';\n                case 'top':\n                case 'tl':\n                case 'tr':\n                    return 'scaleY(0.9) translateY(4px)';\n                default:\n                    return '';\n            }\n        };\n        _this.getPopupStyle = function () {\n            if (_this.unmount || !_this.popupContainer) {\n                return;\n            }\n            var mountContainer = _this.popupContainer;\n            var content = _this.triggerRef.current;\n            var child = _this.getRootElement();\n            // offsetParent=null when display:none or position: fixed\n            if (!child.offsetParent && !child.getClientRects().length) {\n                return _this.state.popupStyle;\n            }\n            var mergedProps = _this.getMergedProps();\n            var _a = getStyle(mergedProps, content, child, mountContainer, _this.mouseLocation), style = _a.style, arrowStyle = _a.arrowStyle, realPosition = _a.realPosition;\n            _this.realPosition = realPosition || mergedProps.position;\n            _this.arrowStyle = arrowStyle || {};\n            return __assign(__assign({}, style), _this.getTransformOrigin(_this.realPosition));\n        };\n        _this.showPopup = function (callback) {\n            if (callback === void 0) { callback = function () { }; }\n            var popupStyle = _this.getPopupStyle();\n            _this.setState({\n                popupStyle: popupStyle,\n            }, callback);\n        };\n        _this.update = throttleByRaf(function (callback) {\n            if (_this.unmount || !_this.state.popupVisible) {\n                return;\n            }\n            var popupStyle = _this.getPopupStyle();\n            _this.setState({\n                popupStyle: popupStyle,\n            }, function () {\n                callback === null || callback === void 0 ? void 0 : callback();\n            });\n        });\n        _this.getRootDOMNode = function () {\n            return _this.getRootElement();\n        };\n        _this.updatePopupPosition = function (delay, callback) {\n            if (delay === void 0) { delay = 0; }\n            var currentVisible = _this.state.popupVisible;\n            if (!currentVisible) {\n                return;\n            }\n            if (delay < 4) {\n                _this.updatePositionTimer = _this.update(callback);\n                return;\n            }\n            _this.updatePositionTimer = setTimeout(function () {\n                var popupStyle = _this.getPopupStyle();\n                _this.setState({\n                    popupStyle: popupStyle,\n                }, function () {\n                    callback === null || callback === void 0 ? void 0 : callback();\n                });\n            }, delay);\n        };\n        _this.setPopupVisible = function (visible, delay, callback) {\n            if (delay === void 0) { delay = 0; }\n            var mergedProps = _this.getMergedProps(['onVisibleChange', 'popupVisible']);\n            var onVisibleChange = mergedProps.onVisibleChange;\n            var currentVisible = _this.state.popupVisible;\n            if (visible !== currentVisible) {\n                _this.delayToDo(delay, function () {\n                    onVisibleChange && onVisibleChange(visible);\n                    if (!('popupVisible' in mergedProps)) {\n                        if (visible) {\n                            _this.setState({\n                                popupVisible: true,\n                            }, function () {\n                                _this.showPopup(callback);\n                            });\n                        }\n                        else {\n                            _this.setState({\n                                popupVisible: false,\n                            }, function () {\n                                callback === null || callback === void 0 ? void 0 : callback();\n                            });\n                        }\n                    }\n                    else {\n                        callback === null || callback === void 0 ? void 0 : callback();\n                    }\n                });\n            }\n            else {\n                callback === null || callback === void 0 ? void 0 : callback();\n            }\n        };\n        _this.delayToDo = function (delay, callback) {\n            if (delay) {\n                _this.clearDelayTimer();\n                _this.delayTimer = setTimeout(function () {\n                    callback();\n                    _this.clearDelayTimer();\n                }, delay);\n            }\n            else {\n                callback();\n            }\n        };\n        // 点击非popup内部，非children内部的节点，触发clickoutside 逻辑\n        _this.onClickOutside = function (e) {\n            var _a = _this.getMergedProps([\n                'onClickOutside',\n                'clickOutsideToClose',\n            ]), onClickOutside = _a.onClickOutside, clickOutsideToClose = _a.clickOutsideToClose;\n            var triggerNode = _this.getPopupElement();\n            var childrenDom = _this.getRootElement();\n            if (!contains(triggerNode, e.target) &&\n                !contains(childrenDom, e.target) &&\n                !_this.hasPopupMouseDown) {\n                onClickOutside === null || onClickOutside === void 0 ? void 0 : onClickOutside();\n                if (clickOutsideToClose) {\n                    // 以下判断条件避免onVisibleChange触发两次\n                    // blurToHide 为true时不需要执行，因为onBlur里会执行setPopupVisible\n                    // hover 触发方式，不执行以下逻辑。因为mouseLeave里会执行setPopupVisible\n                    if (!_this.isBlurToHide() && !_this.isHoverTrigger()) {\n                        _this.setPopupVisible(false);\n                    }\n                }\n            }\n        };\n        _this.onKeyDown = function (e) {\n            var keyCode = e.keyCode || e.which;\n            _this.triggerPropsEvent('onKeyDown', e);\n            if (keyCode === Esc.code) {\n                _this.onPressEsc(e);\n            }\n        };\n        _this.onPressEsc = function (e) {\n            var escToClose = _this.getMergedProps(['escToClose']).escToClose;\n            if (escToClose && e && e.key === Esc.key && _this.state.popupVisible) {\n                _this.setPopupVisible(false);\n            }\n        };\n        _this.onMouseEnter = function (e) {\n            var mouseEnterDelay = _this.getMergedProps(['mouseEnterDelay']).mouseEnterDelay;\n            _this.triggerPropsEvent('onMouseEnter', e);\n            _this.clearDelayTimer();\n            _this.setPopupVisible(true, mouseEnterDelay || 0);\n        };\n        _this.onMouseMove = function (e) {\n            _this.triggerPropsEvent('onMouseMove', e);\n            _this.setMouseLocation(e);\n            if (_this.state.popupVisible) {\n                _this.update();\n            }\n        };\n        _this.onMouseLeave = function (e) {\n            var mouseLeaveDelay = _this.getMergedProps(['mouseLeaveDelay']).mouseLeaveDelay;\n            _this.clearDelayTimer();\n            _this.triggerPropsEvent('onMouseLeave', e);\n            if (_this.isMouseLeaveToClose()) {\n                if (_this.state.popupVisible) {\n                    _this.setPopupVisible(false, mouseLeaveDelay || 0);\n                }\n            }\n        };\n        _this.onPopupMouseEnter = function () {\n            _this.clearDelayTimer();\n        };\n        _this.onPopupMouseLeave = function (e) {\n            _this.onMouseLeave(e);\n        };\n        _this.setMouseLocation = function (e) {\n            if (_this.getMergedProps(['alignPoint']).alignPoint) {\n                _this.mouseLocation = {\n                    clientX: e.clientX,\n                    clientY: e.clientY,\n                };\n            }\n        };\n        _this.onContextMenu = function (e) {\n            e.preventDefault();\n            _this.triggerPropsEvent('onContextMenu', e);\n            _this.setMouseLocation(e);\n            if (!_this.state.popupVisible) {\n                _this.setPopupVisible(true, 0);\n            }\n            else {\n                // 更新位置\n                _this.getMergedProps(['alignPoint']).alignPoint && _this.update();\n            }\n        };\n        _this.clickToHidePopup = function (e) {\n            var popupVisible = _this.state.popupVisible;\n            if (popupVisible) {\n                _this.mousedownToHide = true;\n            }\n            _this.triggerPropsEvent('onClick', e);\n            if (_this.isClickToHide() && popupVisible) {\n                _this.setPopupVisible(!popupVisible, 0);\n            }\n        };\n        _this.onClick = function (e) {\n            var popupVisible = _this.state.popupVisible;\n            if (popupVisible) {\n                _this.mousedownToHide = true;\n            }\n            _this.triggerPropsEvent('onClick', e);\n            _this.setMouseLocation(e);\n            if (!_this.isClickToHide() && popupVisible) {\n                return;\n            }\n            _this.setPopupVisible(!popupVisible, 0);\n        };\n        _this.onFocus = function (e) {\n            var focusDelay = _this.getMergedProps(['focusDelay']).focusDelay;\n            var onFocus = function () {\n                _this.triggerPropsEvent('onFocus', e);\n            };\n            _this.clearDelayTimer();\n            if (!_this.mousedownToHide) {\n                if (_this.state.popupVisible) {\n                    onFocus === null || onFocus === void 0 ? void 0 : onFocus();\n                }\n                else {\n                    _this.setPopupVisible(true, focusDelay || 0, onFocus);\n                }\n            }\n            _this.mousedownToHide = false;\n        };\n        _this.onBlur = function (e) {\n            _this.setPopupVisible(false, 200, function () { return _this.triggerPropsEvent('onBlur', e); });\n        };\n        _this.onResize = function () {\n            if (_this.getMergedProps(['autoFixPosition']).autoFixPosition && _this.state.popupVisible) {\n                _this.updatePopupPosition();\n            }\n        };\n        _this.onPopupMouseDown = function () {\n            _this.hasPopupMouseDown = true;\n            clearTimeout(_this.mouseDownTimeout);\n            _this.mouseDownTimeout = setTimeout(function () {\n                _this.hasPopupMouseDown = false;\n            }, 0);\n        };\n        // 当 children 中的元素 disabled 时，不能正确触发 hover 等事件，所以当监测到对应\n        // 组件有 disabled 时，给元素加一层 span，处理事件，模拟样式\n        _this.getChild = function () {\n            var _a;\n            var children = _this.props.children;\n            var element = children;\n            var elementType = (element && typeof element !== 'string' && element.type);\n            var child = children;\n            if (['string', 'number'].indexOf(typeof children) > -1 || React.Children.count(children) > 1) {\n                child = React.createElement(\"span\", null, children);\n            }\n            else if (element &&\n                elementType &&\n                (elementType.__BYTE_BUTTON === true ||\n                    elementType.__BYTE_CHECKBOX === true ||\n                    elementType.__BYTE_SWITCH === true ||\n                    elementType.__BYTE_RADIO === true ||\n                    elementType === 'button') &&\n                element.props.disabled) {\n                // 从样式中提取出会影响布局的到上层 span 样式中。\n                var _b = splitChildrenStyle(element.props.style, [\n                    'position',\n                    'left',\n                    'right',\n                    'top',\n                    'bottom',\n                    'float',\n                    'display',\n                    'zIndex',\n                ]), picked = _b.picked, omitted = _b.omitted;\n                child = (React.createElement(\"span\", { className: (_a = element.props) === null || _a === void 0 ? void 0 : _a.className, style: __assign(__assign({ display: 'inline-block' }, picked), { cursor: 'not-allowed' }) }, React.cloneElement(element, {\n                    style: __assign(__assign({}, omitted), { pointerEvents: 'none' }),\n                    className: undefined,\n                })));\n            }\n            // 防止为空报错\n            return child || React.createElement(\"span\", null);\n        };\n        // 创建的dom节点插入getPopupContainer。\n        _this.appendToContainer = function (node) {\n            caf(_this.rafId);\n            if (_this.isDidMount) {\n                var getGlobalPopupContainer = _this.context.getPopupContainer;\n                var getPopupContainer = _this.getMergedProps(['getPopupContainer']).getPopupContainer;\n                var gpc = getPopupContainer || getGlobalPopupContainer;\n                var rootElement = _this.getRootElement();\n                var parent_1 = gpc(rootElement);\n                if (parent_1) {\n                    parent_1.appendChild(node);\n                    return;\n                }\n            }\n            _this.rafId = raf(function () {\n                _this.appendToContainer(node);\n            });\n        };\n        _this.getContainer = function () {\n            var popupContainer = document.createElement('div');\n            popupContainer.style.width = '100%';\n            popupContainer.style.position = 'absolute';\n            popupContainer.style.top = '0';\n            popupContainer.style.left = '0';\n            _this.popupContainer = popupContainer;\n            _this.appendToContainer(popupContainer);\n            return popupContainer;\n        };\n        // 1. 触发直接附加到 Trigger 上的事件，大多是Trigger直接嵌套Trigger的情况\n        // 2. 触发children上直接被附加的事件\n        _this.triggerPropsEvent = function (eventName, e) {\n            var child = _this.getChild();\n            var childHandler = child && child.props && child.props[eventName];\n            var handlerFn = _this.getMergedProps([eventName])[eventName];\n            if (isFunction(childHandler)) {\n                childHandler(e);\n            }\n            if (isFunction(handlerFn)) {\n                handlerFn(e);\n            }\n        };\n        // 触发 children/ trigger 组件上被附加的事件\n        _this.triggerOriginEvent = function (eventName) {\n            var child = _this.getChild();\n            var childHandler = child && child.props && child.props[eventName];\n            var propsHandler = _this.getMergedProps([eventName])[eventName];\n            if (isFunction(propsHandler) && isFunction(childHandler)) {\n                return function (e) {\n                    childHandler(e);\n                    propsHandler(e);\n                };\n            }\n            return childHandler || propsHandler;\n        };\n        var mergedProps = _this.getMergedProps(props);\n        var popupVisible = 'popupVisible' in mergedProps ? mergedProps.popupVisible : mergedProps.defaultPopupVisible;\n        _this.popupOpen = !!popupVisible;\n        _this.triggerRef = createRef();\n        _this.state = {\n            popupVisible: !!popupVisible,\n            popupStyle: {},\n        };\n        return _this;\n    }\n    Trigger.getDerivedStateFromProps = function (nextProps, state) {\n        if ('popupVisible' in nextProps && nextProps.popupVisible !== state.popupVisible) {\n            return {\n                popupVisible: nextProps.popupVisible,\n            };\n        }\n        return null;\n    };\n    Trigger.prototype.componentDidMount = function () {\n        this.componentDidUpdate(this.getMergedProps());\n        this.isDidMount = true;\n        this.unmount = false;\n        this.childrenDom = this.getRootElement();\n        if (this.state.popupVisible) {\n            this.childrenDomSize = getDOMPos(this.childrenDom, {\n                boundaryDistance: this.props.alignPoint ? undefined : this.props.boundaryDistance,\n                position: this.props.position,\n            });\n        }\n    };\n    Trigger.prototype.componentDidUpdate = function (_prevProps) {\n        var prevProps = this.getMergedProps(_prevProps);\n        var currentProps = this.getMergedProps();\n        if (!prevProps.popupVisible && currentProps.popupVisible) {\n            this.update();\n        }\n        var popupVisible = this.state.popupVisible;\n        this.popupOpen = popupVisible;\n        var getDocument = currentProps.getDocument;\n        if (!popupVisible) {\n            this.offClickOutside();\n            this.offContainerResize();\n            this.offWindowResize();\n            this.offScrollListeners();\n            return;\n        }\n        var rect = getDOMPos(this.childrenDom, {\n            boundaryDistance: this.props.alignPoint ? {} : this.props.boundaryDistance,\n            position: this.props.position,\n        });\n        // children节点的尺寸改变，主要是处理children 存在scale等动画属性，或者移动位置的时候，popup 的位置有问题\n        if (JSON.stringify(rect) !== JSON.stringify(this.childrenDomSize)) {\n            this.updatePopupPosition();\n            this.childrenDomSize = rect;\n        }\n        // popupVisible为true\n        this.onContainerResize();\n        if (currentProps.updateOnScroll || currentProps.containerScrollToClose) {\n            this.onContainersScroll(currentProps);\n        }\n        if (!this.handleWindowResize) {\n            on(window, 'resize', this.handleUpdatePosition);\n            this.handleWindowResize = true;\n        }\n        if (!this.handleClickOutside) {\n            var root = isFunction(getDocument) && getDocument();\n            if (root) {\n                // clickOutside 必须监听mousedown。\n                // 1. 如果事件目标元素在click后被移除，document.onclick被触发时已经没有该元素，会错误触发clickOutside逻辑，隐藏popup。\n                // 2. 点击label标签，会触发对应input元素的点击事件，导致触发clickOutside，隐藏popup。\n                on(root, 'mousedown', this.onClickOutside, {\n                    capture: isObject(currentProps.clickOutsideToClose)\n                        ? currentProps.clickOutsideToClose.capture\n                        : false,\n                });\n                this.handleClickOutside = true;\n            }\n        }\n    };\n    Trigger.prototype.componentWillUnmount = function () {\n        this.unmount = true;\n        this.offClickOutside();\n        this.clearTimer();\n        this.offWindowResize();\n        this.offScrollListeners();\n        this.offContainerResize();\n        caf(this.rafId);\n    };\n    Trigger.prototype.clearDelayTimer = function () {\n        if (this.delayTimer) {\n            clearTimeout(this.delayTimer);\n            this.delayTimer = null;\n        }\n    };\n    Trigger.prototype.render = function () {\n        var _a, _b, _c;\n        var _this = this;\n        var _d;\n        var _e = this.getMergedProps(), children = _e.children, style = _e.style, className = _e.className, arrowProps = _e.arrowProps, disabled = _e.disabled, popup = _e.popup, classNames = _e.classNames, duration = _e.duration, unmountOnExit = _e.unmountOnExit, alignPoint = _e.alignPoint, autoAlignPopupWidth = _e.autoAlignPopupWidth, position = _e.position, childrenPrefix = _e.childrenPrefix, showArrow = _e.showArrow, dropdownPopupStyle = _e.popupStyle, __onExit = _e.__onExit, __onExited = _e.__onExited;\n        var isExistChildren = children || children === 0;\n        var _f = this.context, getPrefixCls = _f.getPrefixCls, zIndex = _f.zIndex, rtl = _f.rtl;\n        var _g = this.state, popupVisible = _g.popupVisible, popupStyle = _g.popupStyle;\n        if (!popup) {\n            return null;\n        }\n        var mergeProps = {};\n        var popupEventProps = {\n            onMouseDown: this.onPopupMouseDown,\n        };\n        if (this.isHoverTrigger() && !disabled) {\n            mergeProps.onMouseEnter = this.onMouseEnter;\n            mergeProps.onMouseLeave = this.onMouseLeave;\n            // https://github.com/arco-design/arco-design/issues/1804\n            // TODO: remove login in next major version\n            if (this.isClickToHide()) {\n                mergeProps.onClick = this.clickToHidePopup;\n            }\n            if (alignPoint) {\n                mergeProps.onMouseMove = this.onMouseMove;\n            }\n            if (!this.isPopupHoverHide()) {\n                popupEventProps.onMouseEnter = this.onPopupMouseEnter;\n                popupEventProps.onMouseLeave = this.onPopupMouseLeave;\n            }\n        }\n        else {\n            mergeProps.onMouseEnter = this.triggerOriginEvent('onMouseEnter');\n            mergeProps.onMouseLeave = this.triggerOriginEvent('onMouseLeave');\n        }\n        if (this.isContextMenuTrigger() && !disabled) {\n            mergeProps.onContextMenu = this.onContextMenu;\n            mergeProps.onClick = this.clickToHidePopup;\n        }\n        else {\n            mergeProps.onContextMenu = this.triggerOriginEvent('onContextMenu');\n        }\n        if (this.isClickTrigger() && !disabled) {\n            mergeProps.onClick = this.onClick;\n        }\n        else {\n            mergeProps.onClick = mergeProps.onClick || this.triggerOriginEvent('onClick');\n        }\n        if (this.isFocusTrigger() && !disabled) {\n            mergeProps.onFocus = this.onFocus;\n            if (this.isBlurToHide()) {\n                mergeProps.onBlur = this.onBlur;\n            }\n        }\n        else {\n            mergeProps.onFocus = this.triggerOriginEvent('onFocus');\n            mergeProps.onBlur = this.triggerOriginEvent('onBlur');\n        }\n        if (!disabled) {\n            mergeProps.onKeyDown = this.onKeyDown;\n        }\n        else {\n            mergeProps.onKeyDown = this.triggerOriginEvent('onKeyDown');\n        }\n        var child = this.getChild();\n        var popupChildren = React.Children.only(popup());\n        if (child.props.className) {\n            mergeProps.className = child.props.className;\n        }\n        if (childrenPrefix && popupVisible) {\n            mergeProps.className = mergeProps.className\n                ? mergeProps.className + \" \" + childrenPrefix + \"-open\"\n                : childrenPrefix + \"-open\";\n        }\n        // 只有在focus触发时，设置tabIndex，点击tab键，能触发focus事件，展示弹出框\n        if (this.isFocusTrigger()) {\n            mergeProps.tabIndex = disabled ? -1 : 0;\n        }\n        var prefixCls = getPrefixCls('trigger');\n        var popupClassName = cs(prefixCls, childrenPrefix, prefixCls + \"-position-\" + position, (_a = {}, _a[prefixCls + \"-rtl\"] = rtl, _a), className);\n        var childrenComponent = isExistChildren && (React.createElement(ResizeObserver, { onResize: this.onResize, getTargetDOMNode: function () {\n                return _this.rootElementRef;\n            } }, React.cloneElement(child, __assign(__assign({}, mergeProps), { ref: !supportRef(child)\n                ? undefined\n                : function (node) {\n                    _this.rootElementRef = node;\n                    callbackOriginRef(child, node);\n                } }))));\n        var portalContent = (React.createElement(CSSTransition, { in: !!popupVisible, timeout: duration, classNames: classNames, unmountOnExit: unmountOnExit, appear: true, mountOnEnter: true, onEnter: function () {\n                _this.triggerRefDestoried = false;\n                var e = _this.getPopupElement();\n                if (!e) {\n                    return;\n                }\n                e.style.display = 'initial';\n                e.style.pointerEvents = 'none';\n                if (classNames === 'slideDynamicOrigin') {\n                    // 下拉菜单\n                    e.style.transform = _this.getTransformTranslate();\n                }\n            }, onEntering: function () {\n                var e = _this.getPopupElement();\n                if (!e) {\n                    return;\n                }\n                if (classNames === 'slideDynamicOrigin') {\n                    // 下拉菜单\n                    e.style.transform = '';\n                }\n            }, onEntered: function () {\n                var e = _this.getPopupElement();\n                if (!e) {\n                    return;\n                }\n                e.style.pointerEvents = 'auto';\n                _this.forceUpdate();\n            }, onExit: function () {\n                var e = _this.getPopupElement();\n                if (!e) {\n                    return;\n                }\n                // 避免消失动画时对元素的快速点击触发意外的操作\n                e.style.pointerEvents = 'none';\n                __onExit === null || __onExit === void 0 ? void 0 : __onExit(e);\n            }, onExited: function () {\n                var e = _this.getPopupElement();\n                if (!e) {\n                    return;\n                }\n                e.style.display = 'none';\n                // 这里立即设置为null是为了在setState popupStyle引起重新渲染时，能触发 Portal的卸载事件。移除父节点。\n                // 否则只有在下个循环中 triggerRef 才会变为null，需要重新forceUpdate，才能触发Portal的unmount。\n                if (unmountOnExit) {\n                    _this.triggerRefDestoried = true;\n                }\n                _this.setState({ popupStyle: {} });\n                __onExited === null || __onExited === void 0 ? void 0 : __onExited(e);\n            }, nodeRef: this.triggerRef },\n            React.createElement(ResizeObserver, { onResize: function () {\n                    var target = _this.triggerRef.current;\n                    if (target) {\n                        // Avoid the flickering problem caused by the size change and positioning not being recalculated in time.\n                        // TODO: Consider changing the popup style directly  in the next major version\n                        var popupStyle_1 = _this.getPopupStyle();\n                        var style_1 = _this.props.style || {};\n                        target.style.top = String(style_1.top || popupStyle_1.top + \"px\");\n                        target.style.left = String(style_1.left || popupStyle_1.left + \"px\");\n                    }\n                    _this.onResize();\n                }, getTargetDOMNode: function () { return _this.getPopupElement(); } },\n                React.createElement(\"span\", __assign({ ref: this.triggerRef, \"trigger-placement\": this.realPosition, style: __assign(__assign(__assign({ width: autoAlignPopupWidth && (style === null || style === void 0 ? void 0 : style.width) === undefined\n                            ? (_d = this.childrenDomSize) === null || _d === void 0 ? void 0 : _d.width\n                            : '' }, popupStyle), { position: 'absolute', zIndex: zIndex || '' }), style) }, popupEventProps, { className: popupClassName }, pickDataAttributes(this.props)),\n                    React.createElement(popupChildren.type, __assign({ ref: popupChildren.ref }, popupChildren.props, { style: __assign(__assign({}, popupChildren.props.style), dropdownPopupStyle) })),\n                    (showArrow || arrowProps) && (React.createElement(\"div\", { className: cs(prefixCls + \"-arrow-container\", (_b = {},\n                            _b[childrenPrefix + \"-arrow-container\"] = childrenPrefix,\n                            _b)) },\n                        React.createElement(\"div\", __assign({}, arrowProps, { className: cs(prefixCls + \"-arrow\", (_c = {},\n                                _c[childrenPrefix + \"-arrow\"] = childrenPrefix,\n                                _c), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.className), style: __assign(__assign({}, this.arrowStyle), arrowProps === null || arrowProps === void 0 ? void 0 : arrowProps.style) }))))))));\n        // 如果 triggerRef 不存在，说明弹出层内容被销毁，可以隐藏portal。\n        var portal = popupVisible || (this.getPopupElement() && !this.triggerRefDestoried) ? (React.createElement(Portal, { getContainer: this.getContainer }, portalContent)) : null;\n        return isExistChildren ? (React.createElement(React.Fragment, null,\n            childrenComponent,\n            portal)) : (portal);\n    };\n    Trigger.displayName = 'Trigger';\n    Trigger.contextType = ConfigContext;\n    return Trigger;\n}(PureComponent));\nexport default Trigger;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}