{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\nvar __read = this && this.__read || function (o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n};\nimport { useCallback, useEffect, useState } from 'react';\nimport useIntersectionObserver, { supportIntersectionObserver } from './useIntersectionObserver';\nfunction useInView(props) {\n  var defaultInView = props.defaultInView,\n    _a = props.unobserverOnEnter,\n    unobserverOnEnter = _a === void 0 ? true : _a,\n    onChange = props.onChange,\n    target = props.target,\n    rest = __rest(props, [\"defaultInView\", \"unobserverOnEnter\", \"onChange\", \"target\"]);\n  // if intersect observer is not supported\n  var _b = __read(useState(supportIntersectionObserver ? defaultInView : true), 2),\n    inView = _b[0],\n    setInView = _b[1];\n  var observerCallback = useCallback(function (_a, observer) {\n    var _b = __read(_a, 1),\n      entry = _b[0];\n    var inThreshold = observer.thresholds.some(function (t) {\n      return entry.intersectionRatio >= t;\n    });\n    var newInView = inThreshold && entry.isIntersecting;\n    setInView(newInView);\n    onChange === null || onChange === void 0 ? void 0 : onChange(newInView, entry);\n    if (newInView && unobserverOnEnter) {\n      observer.unobserve(entry.target);\n    }\n  }, [onChange, unobserverOnEnter]);\n  var _c = useIntersectionObserver(observerCallback, rest),\n    cor = _c.cor,\n    dor = _c.dor,\n    observer = _c.observer;\n  useEffect(function () {\n    var noNeedObserver = defaultInView && unobserverOnEnter;\n    if (noNeedObserver) {\n      dor();\n    } else if (target) {\n      cor(target);\n    }\n    return dor;\n  }, [target, defaultInView, unobserverOnEnter]);\n  return {\n    inView: inView,\n    observer: observer\n  };\n}\nexport default useInView;","map":{"version":3,"names":["__rest","s","e","t","p","Object","prototype","hasOwnProperty","call","indexOf","getOwnPropertySymbols","i","length","propertyIsEnumerable","__read","o","n","m","Symbol","iterator","r","ar","next","done","push","value","error","useCallback","useEffect","useState","useIntersectionObserver","supportIntersectionObserver","useInView","props","defaultInView","_a","unobserverOnEnter","onChange","target","rest","_b","inView","setInView","observerCallback","observer","entry","inThreshold","thresholds","some","intersectionRatio","newInView","isIntersecting","unobserve","_c","cor","dor","noNeedObserver"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/_util/hooks/useInView.js"],"sourcesContent":["var __rest = (this && this.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { useCallback, useEffect, useState } from 'react';\nimport useIntersectionObserver, { supportIntersectionObserver } from './useIntersectionObserver';\nfunction useInView(props) {\n    var defaultInView = props.defaultInView, _a = props.unobserverOnEnter, unobserverOnEnter = _a === void 0 ? true : _a, onChange = props.onChange, target = props.target, rest = __rest(props, [\"defaultInView\", \"unobserverOnEnter\", \"onChange\", \"target\"]);\n    // if intersect observer is not supported\n    var _b = __read(useState(supportIntersectionObserver ? defaultInView : true), 2), inView = _b[0], setInView = _b[1];\n    var observerCallback = useCallback(function (_a, observer) {\n        var _b = __read(_a, 1), entry = _b[0];\n        var inThreshold = observer.thresholds.some(function (t) { return entry.intersectionRatio >= t; });\n        var newInView = inThreshold && entry.isIntersecting;\n        setInView(newInView);\n        onChange === null || onChange === void 0 ? void 0 : onChange(newInView, entry);\n        if (newInView && unobserverOnEnter) {\n            observer.unobserve(entry.target);\n        }\n    }, [onChange, unobserverOnEnter]);\n    var _c = useIntersectionObserver(observerCallback, rest), cor = _c.cor, dor = _c.dor, observer = _c.observer;\n    useEffect(function () {\n        var noNeedObserver = defaultInView && unobserverOnEnter;\n        if (noNeedObserver) {\n            dor();\n        }\n        else if (target) {\n            cor(target);\n        }\n        return dor;\n    }, [target, defaultInView, unobserverOnEnter]);\n    return {\n        inView: inView,\n        observer: observer,\n    };\n}\nexport default useInView;\n"],"mappings":";;;AAAA,IAAIA,MAAM,GAAI,IAAI,IAAI,IAAI,CAACA,MAAM,IAAK,UAAUC,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAIC,CAAC,GAAG,CAAC,CAAC;EACV,KAAK,IAAIC,CAAC,IAAIH,CAAC,EAAE,IAAII,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACP,CAAC,EAAEG,CAAC,CAAC,IAAIF,CAAC,CAACO,OAAO,CAACL,CAAC,CAAC,GAAG,CAAC,EAC/ED,CAAC,CAACC,CAAC,CAAC,GAAGH,CAAC,CAACG,CAAC,CAAC;EACf,IAAIH,CAAC,IAAI,IAAI,IAAI,OAAOI,MAAM,CAACK,qBAAqB,KAAK,UAAU,EAC/D,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEP,CAAC,GAAGC,MAAM,CAACK,qBAAqB,CAACT,CAAC,CAAC,EAAEU,CAAC,GAAGP,CAAC,CAACQ,MAAM,EAAED,CAAC,EAAE,EAAE;IACpE,IAAIT,CAAC,CAACO,OAAO,CAACL,CAAC,CAACO,CAAC,CAAC,CAAC,GAAG,CAAC,IAAIN,MAAM,CAACC,SAAS,CAACO,oBAAoB,CAACL,IAAI,CAACP,CAAC,EAAEG,CAAC,CAACO,CAAC,CAAC,CAAC,EAC1ER,CAAC,CAACC,CAAC,CAACO,CAAC,CAAC,CAAC,GAAGV,CAAC,CAACG,CAAC,CAACO,CAAC,CAAC,CAAC;EACzB;EACJ,OAAOR,CAAC;AACZ,CAAC;AACD,IAAIW,MAAM,GAAI,IAAI,IAAI,IAAI,CAACA,MAAM,IAAK,UAAUC,CAAC,EAAEC,CAAC,EAAE;EAClD,IAAIC,CAAC,GAAG,OAAOC,MAAM,KAAK,UAAU,IAAIH,CAAC,CAACG,MAAM,CAACC,QAAQ,CAAC;EAC1D,IAAI,CAACF,CAAC,EAAE,OAAOF,CAAC;EAChB,IAAIJ,CAAC,GAAGM,CAAC,CAACT,IAAI,CAACO,CAAC,CAAC;IAAEK,CAAC;IAAEC,EAAE,GAAG,EAAE;IAAEnB,CAAC;EAChC,IAAI;IACA,OAAO,CAACc,CAAC,KAAK,KAAK,CAAC,IAAIA,CAAC,EAAE,GAAG,CAAC,KAAK,CAAC,CAACI,CAAC,GAAGT,CAAC,CAACW,IAAI,CAAC,CAAC,EAAEC,IAAI,EAAEF,EAAE,CAACG,IAAI,CAACJ,CAAC,CAACK,KAAK,CAAC;EAC9E,CAAC,CACD,OAAOC,KAAK,EAAE;IAAExB,CAAC,GAAG;MAAEwB,KAAK,EAAEA;IAAM,CAAC;EAAE,CAAC,SAC/B;IACJ,IAAI;MACA,IAAIN,CAAC,IAAI,CAACA,CAAC,CAACG,IAAI,KAAKN,CAAC,GAAGN,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAEM,CAAC,CAACT,IAAI,CAACG,CAAC,CAAC;IACpD,CAAC,SACO;MAAE,IAAIT,CAAC,EAAE,MAAMA,CAAC,CAACwB,KAAK;IAAE;EACpC;EACA,OAAOL,EAAE;AACb,CAAC;AACD,SAASM,WAAW,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AACxD,OAAOC,uBAAuB,IAAIC,2BAA2B,QAAQ,2BAA2B;AAChG,SAASC,SAASA,CAACC,KAAK,EAAE;EACtB,IAAIC,aAAa,GAAGD,KAAK,CAACC,aAAa;IAAEC,EAAE,GAAGF,KAAK,CAACG,iBAAiB;IAAEA,iBAAiB,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,GAAGA,EAAE;IAAEE,QAAQ,GAAGJ,KAAK,CAACI,QAAQ;IAAEC,MAAM,GAAGL,KAAK,CAACK,MAAM;IAAEC,IAAI,GAAGvC,MAAM,CAACiC,KAAK,EAAE,CAAC,eAAe,EAAE,mBAAmB,EAAE,UAAU,EAAE,QAAQ,CAAC,CAAC;EAC1P;EACA,IAAIO,EAAE,GAAG1B,MAAM,CAACe,QAAQ,CAACE,2BAA2B,GAAGG,aAAa,GAAG,IAAI,CAAC,EAAE,CAAC,CAAC;IAAEO,MAAM,GAAGD,EAAE,CAAC,CAAC,CAAC;IAAEE,SAAS,GAAGF,EAAE,CAAC,CAAC,CAAC;EACnH,IAAIG,gBAAgB,GAAGhB,WAAW,CAAC,UAAUQ,EAAE,EAAES,QAAQ,EAAE;IACvD,IAAIJ,EAAE,GAAG1B,MAAM,CAACqB,EAAE,EAAE,CAAC,CAAC;MAAEU,KAAK,GAAGL,EAAE,CAAC,CAAC,CAAC;IACrC,IAAIM,WAAW,GAAGF,QAAQ,CAACG,UAAU,CAACC,IAAI,CAAC,UAAU7C,CAAC,EAAE;MAAE,OAAO0C,KAAK,CAACI,iBAAiB,IAAI9C,CAAC;IAAE,CAAC,CAAC;IACjG,IAAI+C,SAAS,GAAGJ,WAAW,IAAID,KAAK,CAACM,cAAc;IACnDT,SAAS,CAACQ,SAAS,CAAC;IACpBb,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,QAAQ,CAACa,SAAS,EAAEL,KAAK,CAAC;IAC9E,IAAIK,SAAS,IAAId,iBAAiB,EAAE;MAChCQ,QAAQ,CAACQ,SAAS,CAACP,KAAK,CAACP,MAAM,CAAC;IACpC;EACJ,CAAC,EAAE,CAACD,QAAQ,EAAED,iBAAiB,CAAC,CAAC;EACjC,IAAIiB,EAAE,GAAGvB,uBAAuB,CAACa,gBAAgB,EAAEJ,IAAI,CAAC;IAAEe,GAAG,GAAGD,EAAE,CAACC,GAAG;IAAEC,GAAG,GAAGF,EAAE,CAACE,GAAG;IAAEX,QAAQ,GAAGS,EAAE,CAACT,QAAQ;EAC5GhB,SAAS,CAAC,YAAY;IAClB,IAAI4B,cAAc,GAAGtB,aAAa,IAAIE,iBAAiB;IACvD,IAAIoB,cAAc,EAAE;MAChBD,GAAG,CAAC,CAAC;IACT,CAAC,MACI,IAAIjB,MAAM,EAAE;MACbgB,GAAG,CAAChB,MAAM,CAAC;IACf;IACA,OAAOiB,GAAG;EACd,CAAC,EAAE,CAACjB,MAAM,EAAEJ,aAAa,EAAEE,iBAAiB,CAAC,CAAC;EAC9C,OAAO;IACHK,MAAM,EAAEA,MAAM;IACdG,QAAQ,EAAEA;EACd,CAAC;AACL;AACA,eAAeZ,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}