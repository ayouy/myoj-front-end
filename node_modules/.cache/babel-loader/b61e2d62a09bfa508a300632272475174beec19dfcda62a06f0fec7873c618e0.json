{"ast":null,"code":"import { useRoute, useRouter } from \"vue-router\";\nimport BasicLayout from \"./layout/BasicLayout.vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'App',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const route = useRoute();\n    const router = useRouter();\n    const store = useStore();\n    router.beforeEach((to, from, next) => {\n      if (to.meta?.access === \"canAdmin\") {\n        if (store.state.user.loginUser?.role !== \"admin\") {\n          next(\"/noAuth\");\n          return;\n        }\n      }\n      next();\n    });\n    const __returned__ = {\n      route,\n      router,\n      store,\n      get useRoute() {\n        return useRoute;\n      },\n      get useRouter() {\n        return useRouter;\n      },\n      BasicLayout,\n      get useStore() {\n        return useStore;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["useRoute","useRouter","BasicLayout","useStore","route","router","store","beforeEach","to","from","next","meta","access","state","user","loginUser","role"],"sources":["D:/Nodejs/oj-frontend/src/App.vue"],"sourcesContent":["<template>\n    <div id=\"app\">\n        <BasicLayout />\n    </div>\n</template>\n\n<script setup>\nimport { useRoute, useRouter } from \"vue-router\";\nimport BasicLayout from \"./layout/BasicLayout.vue\";\nimport { useStore } from \"vuex\";\nconst route = useRoute();\nconst router = useRouter();\nconst store = useStore();\n\nrouter.beforeEach((to, from, next) => {\n    if (to.meta?.access === \"canAdmin\") {\n        if (store.state.user.loginUser?.role !== \"admin\") {\n            next(\"/noAuth\");\n            return;\n        }\n    }\n    next();\n});\n</script>\n\n<style>\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: #2c3e50;\n}\n\nnav {\n    padding: 30px;\n}\n\nnav a {\n    font-weight: bold;\n    color: #2c3e50;\n}\n\nnav a.router-link-exact-active {\n    color: #42b983;\n}\n</style>\n"],"mappings":"AAOA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,YAAY;AAChD,OAAOC,WAAW,MAAM,0BAA0B;AAClD,SAASC,QAAQ,QAAQ,MAAM;;;;;;;IAC/B,MAAMC,KAAK,GAAGJ,QAAQ,CAAC,CAAC;IACxB,MAAMK,MAAM,GAAGJ,SAAS,CAAC,CAAC;IAC1B,MAAMK,KAAK,GAAGH,QAAQ,CAAC,CAAC;IAExBE,MAAM,CAACE,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;MAClC,IAAIF,EAAE,CAACG,IAAI,EAAEC,MAAM,KAAK,UAAU,EAAE;QAChC,IAAIN,KAAK,CAACO,KAAK,CAACC,IAAI,CAACC,SAAS,EAAEC,IAAI,KAAK,OAAO,EAAE;UAC9CN,IAAI,CAAC,SAAS,CAAC;UACf;QACJ;MACJ;MACAA,IAAI,CAAC,CAAC;IACV,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}