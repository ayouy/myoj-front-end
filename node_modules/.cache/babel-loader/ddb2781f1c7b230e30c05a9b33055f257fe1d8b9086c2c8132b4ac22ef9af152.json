{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.filter.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport React, { useEffect, useRef } from 'react';\nimport { INTERNAL_EXPAND_KEY, INTERNAL_SELECTION_KEY } from './constant';\nfunction fixedWidth(width) {\n  return typeof width === 'number' || typeof width === 'string' ? {\n    width: width\n  } : {};\n}\nfunction ColGroup(props) {\n  var colgroupRef = useRef();\n  var prefixCls = props.prefixCls,\n    columns = props.columns,\n    columnWidths = props.columnWidths,\n    producer = props.producer,\n    expandedRowKeys = props.expandedRowKeys,\n    data = props.data,\n    onSetColumnWidths = props.onSetColumnWidths;\n  useEffect(function () {\n    if (producer && colgroupRef.current) {\n      var cols = Array.from(colgroupRef.current.querySelectorAll('col') || []).filter(function (col) {\n        return !col.classList.contains(prefixCls + \"-expand-icon-col\") && !col.classList.contains(prefixCls + \"-selection-col\");\n      });\n      var widths = cols.map(function (col) {\n        var width = col.getBoundingClientRect().width;\n        return width;\n      });\n      onSetColumnWidths(widths);\n    }\n  }, [producer, onSetColumnWidths, prefixCls, expandedRowKeys, data, columns]);\n  var mainColIndex = 0;\n  return React.createElement(\"colgroup\", {\n    ref: colgroupRef\n  }, columns.map(function (col, index) {\n    var _a;\n    if (col.title === INTERNAL_EXPAND_KEY) {\n      return React.createElement(\"col\", {\n        key: INTERNAL_EXPAND_KEY,\n        className: prefixCls + \"-expand-icon-col\",\n        style: fixedWidth(col.width)\n      });\n    }\n    if (col.title === INTERNAL_SELECTION_KEY) {\n      return React.createElement(\"col\", {\n        key: INTERNAL_SELECTION_KEY,\n        className: prefixCls + \"-selection-col\",\n        style: fixedWidth(col.width)\n      });\n    }\n    var width;\n    if (col.width) {\n      width = col.width;\n    } else if (!producer && columnWidths) {\n      width = columnWidths[mainColIndex];\n    }\n    mainColIndex++;\n    return React.createElement(\"col\", {\n      key: (_a = col.key) !== null && _a !== void 0 ? _a : index,\n      style: fixedWidth(width)\n    });\n  }));\n}\nexport default ColGroup;","map":{"version":3,"names":["React","useEffect","useRef","INTERNAL_EXPAND_KEY","INTERNAL_SELECTION_KEY","fixedWidth","width","ColGroup","props","colgroupRef","prefixCls","columns","columnWidths","producer","expandedRowKeys","data","onSetColumnWidths","current","cols","Array","from","querySelectorAll","filter","col","classList","contains","widths","map","getBoundingClientRect","mainColIndex","createElement","ref","index","_a","title","key","className","style"],"sources":["D:/Nodejs/oj-frontend/node_modules/@arco-design/web-react/es/Table/colgroup.js"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { INTERNAL_EXPAND_KEY, INTERNAL_SELECTION_KEY } from './constant';\nfunction fixedWidth(width) {\n    return typeof width === 'number' || typeof width === 'string'\n        ? {\n            width: width,\n        }\n        : {};\n}\nfunction ColGroup(props) {\n    var colgroupRef = useRef();\n    var prefixCls = props.prefixCls, columns = props.columns, columnWidths = props.columnWidths, producer = props.producer, expandedRowKeys = props.expandedRowKeys, data = props.data, onSetColumnWidths = props.onSetColumnWidths;\n    useEffect(function () {\n        if (producer && colgroupRef.current) {\n            var cols = Array.from(colgroupRef.current.querySelectorAll('col') || []).filter(function (col) {\n                return !col.classList.contains(prefixCls + \"-expand-icon-col\") &&\n                    !col.classList.contains(prefixCls + \"-selection-col\");\n            });\n            var widths = cols.map(function (col) {\n                var width = col.getBoundingClientRect().width;\n                return width;\n            });\n            onSetColumnWidths(widths);\n        }\n    }, [producer, onSetColumnWidths, prefixCls, expandedRowKeys, data, columns]);\n    var mainColIndex = 0;\n    return (React.createElement(\"colgroup\", { ref: colgroupRef }, columns.map(function (col, index) {\n        var _a;\n        if (col.title === INTERNAL_EXPAND_KEY) {\n            return (React.createElement(\"col\", { key: INTERNAL_EXPAND_KEY, className: prefixCls + \"-expand-icon-col\", style: fixedWidth(col.width) }));\n        }\n        if (col.title === INTERNAL_SELECTION_KEY) {\n            return (React.createElement(\"col\", { key: INTERNAL_SELECTION_KEY, className: prefixCls + \"-selection-col\", style: fixedWidth(col.width) }));\n        }\n        var width;\n        if (col.width) {\n            width = col.width;\n        }\n        else if (!producer && columnWidths) {\n            width = columnWidths[mainColIndex];\n        }\n        mainColIndex++;\n        return React.createElement(\"col\", { key: (_a = col.key) !== null && _a !== void 0 ? _a : index, style: fixedWidth(width) });\n    })));\n}\nexport default ColGroup;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}